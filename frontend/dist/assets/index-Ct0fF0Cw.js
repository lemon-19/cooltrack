(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function i(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(d){if(d.ep)return;d.ep=!0;const f=i(d);fetch(d.href,f)}})();function zy(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var au={exports:{}},zl={};var sp;function My(){if(sp)return zl;sp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var p in d)p!=="key"&&(f[p]=d[p])}else f=d;return d=f.ref,{$$typeof:l,type:o,key:h,ref:d!==void 0?d:null,props:f}}return zl.Fragment=r,zl.jsx=i,zl.jsxs=i,zl}var np;function Dy(){return np||(np=1,au.exports=My()),au.exports}var s=Dy(),su={exports:{}},me={};var lp;function Uy(){if(lp)return me;lp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function B(C){return C===null||typeof C!="object"?null:(C=E&&C[E]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,R={};function V(C,T,q){this.props=C,this.context=T,this.refs=R,this.updater=q||w}V.prototype.isReactComponent={},V.prototype.setState=function(C,T){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,T,"setState")},V.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=V.prototype;function S(C,T,q){this.props=C,this.context=T,this.refs=R,this.updater=q||w}var G=S.prototype=new M;G.constructor=S,O(G,V.prototype),G.isPureReactComponent=!0;var D=Array.isArray;function A(){}var X={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function re(C,T,q){var W=q.ref;return{$$typeof:l,type:C,key:T,ref:W!==void 0?W:null,props:q}}function ge(C,T){return re(C.type,T,C.props)}function Ee(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function I(C){var T={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(q){return T[q]})}var de=/\/+/g;function we(C,T){return typeof C=="object"&&C!==null&&C.key!=null?I(""+C.key):T.toString(36)}function P(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(A,A):(C.status="pending",C.then(function(T){C.status==="pending"&&(C.status="fulfilled",C.value=T)},function(T){C.status==="pending"&&(C.status="rejected",C.reason=T)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function U(C,T,q,W,Y){var ae=typeof C;(ae==="undefined"||ae==="boolean")&&(C=null);var ie=!1;if(C===null)ie=!0;else switch(ae){case"bigint":case"string":case"number":ie=!0;break;case"object":switch(C.$$typeof){case l:case r:ie=!0;break;case b:return ie=C._init,U(ie(C._payload),T,q,W,Y)}}if(ie)return Y=Y(C),ie=W===""?"."+we(C,0):W,D(Y)?(q="",ie!=null&&(q=ie.replace(de,"$&/")+"/"),U(Y,T,q,"",function(hs){return hs})):Y!=null&&(Ee(Y)&&(Y=ge(Y,q+(Y.key==null||C&&C.key===Y.key?"":(""+Y.key).replace(de,"$&/")+"/")+ie)),T.push(Y)),1;ie=0;var He=W===""?".":W+":";if(D(C))for(var Ye=0;Ye<C.length;Ye++)W=C[Ye],ae=He+we(W,Ye),ie+=U(W,T,q,ae,Y);else if(Ye=B(C),typeof Ye=="function")for(C=Ye.call(C),Ye=0;!(W=C.next()).done;)W=W.value,ae=He+we(W,Ye++),ie+=U(W,T,q,ae,Y);else if(ae==="object"){if(typeof C.then=="function")return U(P(C),T,q,W,Y);throw T=String(C),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return ie}function ee(C,T,q){if(C==null)return C;var W=[],Y=0;return U(C,W,"","",function(ae){return T.call(q,ae,Y++)}),W}function ne(C){if(C._status===-1){var T=C._result;T=T(),T.then(function(q){(C._status===0||C._status===-1)&&(C._status=1,C._result=q)},function(q){(C._status===0||C._status===-1)&&(C._status=2,C._result=q)}),C._status===-1&&(C._status=0,C._result=T)}if(C._status===1)return C._result.default;throw C._result}var ye=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Ae={map:ee,forEach:function(C,T,q){ee(C,function(){T.apply(this,arguments)},q)},count:function(C){var T=0;return ee(C,function(){T++}),T},toArray:function(C){return ee(C,function(T){return T})||[]},only:function(C){if(!Ee(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return me.Activity=v,me.Children=Ae,me.Component=V,me.Fragment=i,me.Profiler=d,me.PureComponent=S,me.StrictMode=o,me.Suspense=x,me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,me.__COMPILER_RUNTIME={__proto__:null,c:function(C){return X.H.useMemoCache(C)}},me.cache=function(C){return function(){return C.apply(null,arguments)}},me.cacheSignal=function(){return null},me.cloneElement=function(C,T,q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=O({},C.props),Y=C.key;if(T!=null)for(ae in T.key!==void 0&&(Y=""+T.key),T)!te.call(T,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&T.ref===void 0||(W[ae]=T[ae]);var ae=arguments.length-2;if(ae===1)W.children=q;else if(1<ae){for(var ie=Array(ae),He=0;He<ae;He++)ie[He]=arguments[He+2];W.children=ie}return re(C.type,Y,W)},me.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},me.createElement=function(C,T,q){var W,Y={},ae=null;if(T!=null)for(W in T.key!==void 0&&(ae=""+T.key),T)te.call(T,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=T[W]);var ie=arguments.length-2;if(ie===1)Y.children=q;else if(1<ie){for(var He=Array(ie),Ye=0;Ye<ie;Ye++)He[Ye]=arguments[Ye+2];Y.children=He}if(C&&C.defaultProps)for(W in ie=C.defaultProps,ie)Y[W]===void 0&&(Y[W]=ie[W]);return re(C,ae,Y)},me.createRef=function(){return{current:null}},me.forwardRef=function(C){return{$$typeof:p,render:C}},me.isValidElement=Ee,me.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ne}},me.memo=function(C,T){return{$$typeof:g,type:C,compare:T===void 0?null:T}},me.startTransition=function(C){var T=X.T,q={};X.T=q;try{var W=C(),Y=X.S;Y!==null&&Y(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(A,ye)}catch(ae){ye(ae)}finally{T!==null&&q.types!==null&&(T.types=q.types),X.T=T}},me.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},me.use=function(C){return X.H.use(C)},me.useActionState=function(C,T,q){return X.H.useActionState(C,T,q)},me.useCallback=function(C,T){return X.H.useCallback(C,T)},me.useContext=function(C){return X.H.useContext(C)},me.useDebugValue=function(){},me.useDeferredValue=function(C,T){return X.H.useDeferredValue(C,T)},me.useEffect=function(C,T){return X.H.useEffect(C,T)},me.useEffectEvent=function(C){return X.H.useEffectEvent(C)},me.useId=function(){return X.H.useId()},me.useImperativeHandle=function(C,T,q){return X.H.useImperativeHandle(C,T,q)},me.useInsertionEffect=function(C,T){return X.H.useInsertionEffect(C,T)},me.useLayoutEffect=function(C,T){return X.H.useLayoutEffect(C,T)},me.useMemo=function(C,T){return X.H.useMemo(C,T)},me.useOptimistic=function(C,T){return X.H.useOptimistic(C,T)},me.useReducer=function(C,T,q){return X.H.useReducer(C,T,q)},me.useRef=function(C){return X.H.useRef(C)},me.useState=function(C){return X.H.useState(C)},me.useSyncExternalStore=function(C,T,q){return X.H.useSyncExternalStore(C,T,q)},me.useTransition=function(){return X.H.useTransition()},me.version="19.2.0",me}var rp;function Lu(){return rp||(rp=1,su.exports=Uy()),su.exports}var N=Lu();const ky=zy(N);var nu={exports:{}},Ml={},lu={exports:{}},ru={};var ip;function Ly(){return ip||(ip=1,(function(l){function r(U,ee){var ne=U.length;U.push(ee);e:for(;0<ne;){var ye=ne-1>>>1,Ae=U[ye];if(0<d(Ae,ee))U[ye]=ee,U[ne]=Ae,ne=ye;else break e}}function i(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var ee=U[0],ne=U.pop();if(ne!==ee){U[0]=ne;e:for(var ye=0,Ae=U.length,C=Ae>>>1;ye<C;){var T=2*(ye+1)-1,q=U[T],W=T+1,Y=U[W];if(0>d(q,ne))W<Ae&&0>d(Y,q)?(U[ye]=Y,U[W]=ne,ye=W):(U[ye]=q,U[T]=ne,ye=T);else if(W<Ae&&0>d(Y,ne))U[ye]=Y,U[W]=ne,ye=W;else break e}}return ee}function d(U,ee){var ne=U.sortIndex-ee.sortIndex;return ne!==0?ne:U.id-ee.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,p=h.now();l.unstable_now=function(){return h.now()-p}}var x=[],g=[],b=1,v=null,E=3,B=!1,w=!1,O=!1,R=!1,V=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function G(U){for(var ee=i(g);ee!==null;){if(ee.callback===null)o(g);else if(ee.startTime<=U)o(g),ee.sortIndex=ee.expirationTime,r(x,ee);else break;ee=i(g)}}function D(U){if(O=!1,G(U),!w)if(i(x)!==null)w=!0,A||(A=!0,I());else{var ee=i(g);ee!==null&&P(D,ee.startTime-U)}}var A=!1,X=-1,te=5,re=-1;function ge(){return R?!0:!(l.unstable_now()-re<te)}function Ee(){if(R=!1,A){var U=l.unstable_now();re=U;var ee=!0;try{e:{w=!1,O&&(O=!1,M(X),X=-1),B=!0;var ne=E;try{t:{for(G(U),v=i(x);v!==null&&!(v.expirationTime>U&&ge());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,E=v.priorityLevel;var Ae=ye(v.expirationTime<=U);if(U=l.unstable_now(),typeof Ae=="function"){v.callback=Ae,G(U),ee=!0;break t}v===i(x)&&o(x),G(U)}else o(x);v=i(x)}if(v!==null)ee=!0;else{var C=i(g);C!==null&&P(D,C.startTime-U),ee=!1}}break e}finally{v=null,E=ne,B=!1}ee=void 0}}finally{ee?I():A=!1}}}var I;if(typeof S=="function")I=function(){S(Ee)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,we=de.port2;de.port1.onmessage=Ee,I=function(){we.postMessage(null)}}else I=function(){V(Ee,0)};function P(U,ee){X=V(function(){U(l.unstable_now())},ee)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(U){U.callback=null},l.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<U?Math.floor(1e3/U):5},l.unstable_getCurrentPriorityLevel=function(){return E},l.unstable_next=function(U){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var ne=E;E=ee;try{return U()}finally{E=ne}},l.unstable_requestPaint=function(){R=!0},l.unstable_runWithPriority=function(U,ee){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var ne=E;E=U;try{return ee()}finally{E=ne}},l.unstable_scheduleCallback=function(U,ee,ne){var ye=l.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?ye+ne:ye):ne=ye,U){case 1:var Ae=-1;break;case 2:Ae=250;break;case 5:Ae=1073741823;break;case 4:Ae=1e4;break;default:Ae=5e3}return Ae=ne+Ae,U={id:b++,callback:ee,priorityLevel:U,startTime:ne,expirationTime:Ae,sortIndex:-1},ne>ye?(U.sortIndex=ne,r(g,U),i(x)===null&&U===i(g)&&(O?(M(X),X=-1):O=!0,P(D,ne-ye))):(U.sortIndex=Ae,r(x,U),w||B||(w=!0,A||(A=!0,I()))),U},l.unstable_shouldYield=ge,l.unstable_wrapCallback=function(U){var ee=E;return function(){var ne=E;E=ee;try{return U.apply(this,arguments)}finally{E=ne}}}})(ru)),ru}var op;function By(){return op||(op=1,lu.exports=Ly()),lu.exports}var iu={exports:{}},ct={};var cp;function Hy(){if(cp)return ct;cp=1;var l=Lu();function r(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)g+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(x,g,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:x,containerInfo:g,implementation:b}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(x,g){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(r(299));return f(x,g,null,b)},ct.flushSync=function(x){var g=h.T,b=o.p;try{if(h.T=null,o.p=2,x)return x()}finally{h.T=g,o.p=b,o.d.f()}},ct.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(x,g))},ct.prefetchDNS=function(x){typeof x=="string"&&o.d.D(x)},ct.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var b=g.as,v=p(b,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,B=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;b==="style"?o.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:B}):b==="script"&&o.d.X(x,{crossOrigin:v,integrity:E,fetchPriority:B,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ct.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var b=p(g.as,g.crossOrigin);o.d.M(x,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(x)},ct.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var b=g.as,v=p(b,g.crossOrigin);o.d.L(x,b,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ct.preloadModule=function(x,g){if(typeof x=="string")if(g){var b=p(g.as,g.crossOrigin);o.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(x)},ct.requestFormReset=function(x){o.d.r(x)},ct.unstable_batchedUpdates=function(x,g){return x(g)},ct.useFormState=function(x,g,b){return h.H.useFormState(x,g,b)},ct.useFormStatus=function(){return h.H.useHostTransitionStatus()},ct.version="19.2.0",ct}var up;function qy(){if(up)return iu.exports;up=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),iu.exports=Hy(),iu.exports}var dp;function Vy(){if(dp)return Ml;dp=1;var l=By(),r=Lu(),i=qy();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(f(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(o(188));return t!==e?null:e}for(var a=e,n=t;;){var c=a.return;if(c===null)break;var u=c.alternate;if(u===null){if(n=c.return,n!==null){a=n;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===a)return x(c),e;if(u===n)return x(c),t;u=u.sibling}throw Error(o(188))}if(a.return!==n.return)a=c,n=u;else{for(var m=!1,y=c.child;y;){if(y===a){m=!0,a=c,n=u;break}if(y===n){m=!0,n=c,a=u;break}y=y.sibling}if(!m){for(y=u.child;y;){if(y===a){m=!0,a=u,n=c;break}if(y===n){m=!0,n=u,a=c;break}y=y.sibling}if(!m)throw Error(o(189))}}if(a.alternate!==n)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),B=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),S=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function we(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case O:return"Fragment";case V:return"Profiler";case R:return"StrictMode";case D:return"Suspense";case A:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case S:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:we(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return we(e(t))}catch{}}return null}var P=Array.isArray,U=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},ye=[],Ae=-1;function C(e){return{current:e}}function T(e){0>Ae||(e.current=ye[Ae],ye[Ae]=null,Ae--)}function q(e,t){Ae++,ye[Ae]=e.current,e.current=t}var W=C(null),Y=C(null),ae=C(null),ie=C(null);function He(e,t){switch(q(ae,t),q(Y,e),q(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Eh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Eh(t),e=Ah(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}T(W),q(W,e)}function Ye(){T(W),T(Y),T(ae)}function hs(e){e.memoizedState!==null&&q(ie,e);var t=W.current,a=Ah(t,e.type);t!==a&&(q(Y,e),q(W,a))}function ps(e){Y.current===e&&(T(W),T(Y)),ie.current===e&&(T(ie),_l._currentValue=ne)}var xs,Qs;function na(e){if(xs===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);xs=t&&t[1]||"",Qs=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xs+e+Qs}var Js=!1;function K(e,t){if(!e||Js)return"";Js=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(J){var H=J}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(J){H=J}e.call(Z.prototype)}}else{try{throw Error()}catch(J){H=J}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(J){if(J&&H&&typeof J.stack=="string")return[J.stack,H.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=n.DetermineComponentFrameRoot(),m=u[0],y=u[1];if(m&&y){var j=m.split(`
`),L=y.split(`
`);for(c=n=0;n<j.length&&!j[n].includes("DetermineComponentFrameRoot");)n++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(n===j.length||c===L.length)for(n=j.length-1,c=L.length-1;1<=n&&0<=c&&j[n]!==L[c];)c--;for(;1<=n&&0<=c;n--,c--)if(j[n]!==L[c]){if(n!==1||c!==1)do if(n--,c--,0>c||j[n]!==L[c]){var $=`
`+j[n].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=n&&0<=c);break}}}finally{Js=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?na(a):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return na(e.type);case 16:return na("Lazy");case 13:return e.child!==t&&t!==null?na("Suspense Fallback"):na("Suspense");case 19:return na("SuspenseList");case 0:case 15:return K(e.type,!1);case 11:return K(e.type.render,!1);case 1:return K(e.type,!0);case 31:return na("Activity");default:return""}}function Zt(e){try{var t="",a=null;do t+=_e(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var xa=Object.prototype.hasOwnProperty,Bn=l.unstable_scheduleCallback,Hn=l.unstable_cancelCallback,Ut=l.unstable_shouldYield,Qi=l.unstable_requestPaint,dt=l.unstable_now,fx=l.unstable_getCurrentPriorityLevel,sd=l.unstable_ImmediatePriority,nd=l.unstable_UserBlockingPriority,Pl=l.unstable_NormalPriority,mx=l.unstable_LowPriority,ld=l.unstable_IdlePriority,hx=l.log,px=l.unstable_setDisableYieldValue,qn=null,wt=null;function Ba(e){if(typeof hx=="function"&&px(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(qn,e)}catch{}}var St=Math.clz32?Math.clz32:yx,xx=Math.log,gx=Math.LN2;function yx(e){return e>>>=0,e===0?32:31-(xx(e)/gx|0)|0}var Wl=256,Il=262144,er=4194304;function gs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function tr(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var c=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=n&134217727;return y!==0?(n=y&~u,n!==0?c=gs(n):(m&=y,m!==0?c=gs(m):a||(a=y&~e,a!==0&&(c=gs(a))))):(y=n&~u,y!==0?c=gs(y):m!==0?c=gs(m):a||(a=n&~e,a!==0&&(c=gs(a)))),c===0?0:t!==0&&t!==c&&(t&u)===0&&(u=c&-c,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:c}function Vn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bx(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rd(){var e=er;return er<<=1,(er&62914560)===0&&(er=4194304),e}function Ji(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Qn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function vx(e,t,a,n,c,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,j=e.expirationTimes,L=e.hiddenUpdates;for(a=m&~a;0<a;){var $=31-St(a),Z=1<<$;y[$]=0,j[$]=-1;var H=L[$];if(H!==null)for(L[$]=null,$=0;$<H.length;$++){var J=H[$];J!==null&&(J.lane&=-536870913)}a&=~Z}n!==0&&id(e,n,0),u!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function id(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-St(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function od(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-St(a),c=1<<n;c&t|e[n]&t&&(e[n]|=t),a&=~c}}function cd(e,t){var a=t&-t;return a=(a&42)!==0?1:Yi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ud(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Kh(e.type))}function dd(e,t){var a=ee.p;try{return ee.p=e,t()}finally{ee.p=a}}var Ha=Math.random().toString(36).slice(2),nt="__reactFiber$"+Ha,mt="__reactProps$"+Ha,Ys="__reactContainer$"+Ha,Xi="__reactEvents$"+Ha,Nx="__reactListeners$"+Ha,jx="__reactHandles$"+Ha,fd="__reactResources$"+Ha,Jn="__reactMarker$"+Ha;function $i(e){delete e[nt],delete e[mt],delete e[Xi],delete e[Nx],delete e[jx]}function Gs(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ys]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Dh(e);e!==null;){if(a=e[nt])return a;e=Dh(e)}return t}e=a,a=e.parentNode}return null}function Xs(e){if(e=e[nt]||e[Ys]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Yn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function $s(e){var t=e[fd];return t||(t=e[fd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function at(e){e[Jn]=!0}var md=new Set,hd={};function ys(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(hd[e]=t,e=0;e<t.length;e++)md.add(t[e])}var wx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pd={},xd={};function Sx(e){return xa.call(xd,e)?!0:xa.call(pd,e)?!1:wx.test(e)?xd[e]=!0:(pd[e]=!0,!1)}function ar(e,t,a){if(Sx(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function sr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function ga(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function kt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Cx(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,u=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fi(e){if(!e._valueTracker){var t=gd(e)?"checked":"value";e._valueTracker=Cx(e,t,""+e[t])}}function yd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=gd(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function nr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ex=/[\n"\\]/g;function Lt(e){return e.replace(Ex,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Zi(e,t,a,n,c,u,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kt(t)):e.value!==""+kt(t)&&(e.value=""+kt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Ki(e,m,kt(t)):a!=null?Ki(e,m,kt(a)):n!=null&&e.removeAttribute("value"),c==null&&u!=null&&(e.defaultChecked=!!u),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+kt(y):e.removeAttribute("name")}function bd(e,t,a,n,c,u,m,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Fi(e);return}a=a!=null?""+kt(a):"",t=t!=null?""+kt(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}n=n??c,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=y?e.checked:!!n,e.defaultChecked=!!n,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Fi(e)}function Ki(e,t,a){t==="number"&&nr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Zs(e,t,a,n){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&n&&(e[a].defaultSelected=!0)}else{for(a=""+kt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,n&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function vd(e,t,a){if(t!=null&&(t=""+kt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+kt(a):""}function Nd(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(o(92));if(P(n)){if(1<n.length)throw Error(o(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=kt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),Fi(e)}function Ks(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Ax=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function jd(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||Ax.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function wd(e,t,a){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var c in t)n=t[c],t.hasOwnProperty(c)&&a[c]!==n&&jd(e,c,n)}else for(var u in t)t.hasOwnProperty(u)&&jd(e,u,t[u])}function Pi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _x=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(e){return Tx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ya(){}var Wi=null;function Ii(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ps=null,Ws=null;function Sd(e){var t=Xs(e);if(t&&(e=t.stateNode)){var a=e[mt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Zi(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var c=n[mt]||null;if(!c)throw Error(o(90));Zi(n,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&yd(n)}break e;case"textarea":vd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Zs(e,!!a.multiple,t,!1)}}}var eo=!1;function Cd(e,t,a){if(eo)return e(t,a);eo=!0;try{var n=e(t);return n}finally{if(eo=!1,(Ps!==null||Ws!==null)&&(Xr(),Ps&&(t=Ps,e=Ws,Ws=Ps=null,Sd(t),e)))for(t=0;t<e.length;t++)Sd(e[t])}}function Gn(e,t){var a=e.stateNode;if(a===null)return null;var n=a[mt]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(o(231,t,typeof a));return a}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),to=!1;if(ba)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){to=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch{to=!1}var qa=null,ao=null,rr=null;function Ed(){if(rr)return rr;var e,t=ao,a=t.length,n,c="value"in qa?qa.value:qa.textContent,u=c.length;for(e=0;e<a&&t[e]===c[e];e++);var m=a-e;for(n=1;n<=m&&t[a-n]===c[u-n];n++);return rr=c.slice(e,1<n?1-n:void 0)}function ir(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function or(){return!0}function Ad(){return!1}function ht(e){function t(a,n,c,u,m){this._reactName=a,this._targetInst=c,this.type=n,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?or:Ad,this.isPropagationStopped=Ad,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),t}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ht(bs),$n=v({},bs,{view:0,detail:0}),Rx=ht($n),so,no,Fn,ur=v({},$n,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fn&&(Fn&&e.type==="mousemove"?(so=e.screenX-Fn.screenX,no=e.screenY-Fn.screenY):no=so=0,Fn=e),so)},movementY:function(e){return"movementY"in e?e.movementY:no}}),_d=ht(ur),Ox=v({},ur,{dataTransfer:0}),zx=ht(Ox),Mx=v({},$n,{relatedTarget:0}),lo=ht(Mx),Dx=v({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),Ux=ht(Dx),kx=v({},bs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lx=ht(kx),Bx=v({},bs,{data:0}),Td=ht(Bx),Hx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Vx[e])?!!t[e]:!1}function ro(){return Qx}var Jx=v({},$n,{key:function(e){if(e.key){var t=Hx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ir(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?ir(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ir(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yx=ht(Jx),Gx=v({},ur,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rd=ht(Gx),Xx=v({},$n,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),$x=ht(Xx),Fx=v({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zx=ht(Fx),Kx=v({},ur,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Px=ht(Kx),Wx=v({},bs,{newState:0,oldState:0}),Ix=ht(Wx),eg=[9,13,27,32],io=ba&&"CompositionEvent"in window,Zn=null;ba&&"documentMode"in document&&(Zn=document.documentMode);var tg=ba&&"TextEvent"in window&&!Zn,Od=ba&&(!io||Zn&&8<Zn&&11>=Zn),zd=" ",Md=!1;function Dd(e,t){switch(e){case"keyup":return eg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ud(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Is=!1;function ag(e,t){switch(e){case"compositionend":return Ud(t);case"keypress":return t.which!==32?null:(Md=!0,zd);case"textInput":return e=t.data,e===zd&&Md?null:e;default:return null}}function sg(e,t){if(Is)return e==="compositionend"||!io&&Dd(e,t)?(e=Ed(),rr=ao=qa=null,Is=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Od&&t.locale!=="ko"?null:t.data;default:return null}}var ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ng[e.type]:t==="textarea"}function Ld(e,t,a,n){Ps?Ws?Ws.push(n):Ws=[n]:Ps=n,t=Ir(t,"onChange"),0<t.length&&(a=new cr("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Kn=null,Pn=null;function lg(e){vh(e,0)}function dr(e){var t=Yn(e);if(yd(t))return e}function Bd(e,t){if(e==="change")return t}var Hd=!1;if(ba){var oo;if(ba){var co="oninput"in document;if(!co){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),co=typeof qd.oninput=="function"}oo=co}else oo=!1;Hd=oo&&(!document.documentMode||9<document.documentMode)}function Vd(){Kn&&(Kn.detachEvent("onpropertychange",Qd),Pn=Kn=null)}function Qd(e){if(e.propertyName==="value"&&dr(Pn)){var t=[];Ld(t,Pn,e,Ii(e)),Cd(lg,t)}}function rg(e,t,a){e==="focusin"?(Vd(),Kn=t,Pn=a,Kn.attachEvent("onpropertychange",Qd)):e==="focusout"&&Vd()}function ig(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dr(Pn)}function og(e,t){if(e==="click")return dr(t)}function cg(e,t){if(e==="input"||e==="change")return dr(t)}function ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:ug;function Wn(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var c=a[n];if(!xa.call(t,c)||!Ct(e[c],t[c]))return!1}return!0}function Jd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yd(e,t){var a=Jd(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Jd(a)}}function Gd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Xd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=nr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=nr(e.document)}return t}function uo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dg=ba&&"documentMode"in document&&11>=document.documentMode,en=null,fo=null,In=null,mo=!1;function $d(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;mo||en==null||en!==nr(n)||(n=en,"selectionStart"in n&&uo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),In&&Wn(In,n)||(In=n,n=Ir(fo,"onSelect"),0<n.length&&(t=new cr("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=en)))}function vs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var tn={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionrun:vs("Transition","TransitionRun"),transitionstart:vs("Transition","TransitionStart"),transitioncancel:vs("Transition","TransitionCancel"),transitionend:vs("Transition","TransitionEnd")},ho={},Fd={};ba&&(Fd=document.createElement("div").style,"AnimationEvent"in window||(delete tn.animationend.animation,delete tn.animationiteration.animation,delete tn.animationstart.animation),"TransitionEvent"in window||delete tn.transitionend.transition);function Ns(e){if(ho[e])return ho[e];if(!tn[e])return e;var t=tn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Fd)return ho[e]=t[a];return e}var Zd=Ns("animationend"),Kd=Ns("animationiteration"),Pd=Ns("animationstart"),fg=Ns("transitionrun"),mg=Ns("transitionstart"),hg=Ns("transitioncancel"),Wd=Ns("transitionend"),Id=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function Kt(e,t){Id.set(e,t),ys(t,[e])}var fr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],an=0,xo=0;function mr(){for(var e=an,t=xo=an=0;t<e;){var a=Bt[t];Bt[t++]=null;var n=Bt[t];Bt[t++]=null;var c=Bt[t];Bt[t++]=null;var u=Bt[t];if(Bt[t++]=null,n!==null&&c!==null){var m=n.pending;m===null?c.next=c:(c.next=m.next,m.next=c),n.pending=c}u!==0&&ef(a,c,u)}}function hr(e,t,a,n){Bt[an++]=e,Bt[an++]=t,Bt[an++]=a,Bt[an++]=n,xo|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function go(e,t,a,n){return hr(e,t,a,n),pr(e)}function js(e,t){return hr(e,null,null,t),pr(e)}function ef(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var c=!1,u=e.return;u!==null;)u.childLanes|=a,n=u.alternate,n!==null&&(n.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(c=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,c&&t!==null&&(c=31-St(a),e=u.hiddenUpdates,n=e[c],n===null?e[c]=[t]:n.push(t),t.lane=a|536870912),u):null}function pr(e){if(50<Nl)throw Nl=0,Ec=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var sn={};function pg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,a,n){return new pg(e,t,a,n)}function yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function va(e,t){var a=e.alternate;return a===null?(a=Et(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function tf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xr(e,t,a,n,c,u){var m=0;if(n=e,typeof e=="function")yo(e)&&(m=1);else if(typeof e=="string")m=vy(e,a,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Et(31,a,t,c),e.elementType=re,e.lanes=u,e;case O:return ws(a.children,c,u,t);case R:m=8,c|=24;break;case V:return e=Et(12,a,t,c|2),e.elementType=V,e.lanes=u,e;case D:return e=Et(13,a,t,c),e.elementType=D,e.lanes=u,e;case A:return e=Et(19,a,t,c),e.elementType=A,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case S:m=10;break e;case M:m=9;break e;case G:m=11;break e;case X:m=14;break e;case te:m=16,n=null;break e}m=29,a=Error(o(130,e===null?"null":typeof e,"")),n=null}return t=Et(m,a,t,c),t.elementType=e,t.type=n,t.lanes=u,t}function ws(e,t,a,n){return e=Et(7,e,n,t),e.lanes=a,e}function bo(e,t,a){return e=Et(6,e,null,t),e.lanes=a,e}function af(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function vo(e,t,a){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var sf=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var a=sf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Zt(t)},sf.set(e,t),t)}return{value:e,source:t,stack:Zt(t)}}var nn=[],ln=0,gr=null,el=0,qt=[],Vt=0,Va=null,la=1,ra="";function Na(e,t){nn[ln++]=el,nn[ln++]=gr,gr=e,el=t}function nf(e,t,a){qt[Vt++]=la,qt[Vt++]=ra,qt[Vt++]=Va,Va=e;var n=la;e=ra;var c=32-St(n)-1;n&=~(1<<c),a+=1;var u=32-St(t)+c;if(30<u){var m=c-c%5;u=(n&(1<<m)-1).toString(32),n>>=m,c-=m,la=1<<32-St(t)+c|a<<c|n,ra=u+e}else la=1<<u|a<<c|n,ra=e}function No(e){e.return!==null&&(Na(e,1),nf(e,1,0))}function jo(e){for(;e===gr;)gr=nn[--ln],nn[ln]=null,el=nn[--ln],nn[ln]=null;for(;e===Va;)Va=qt[--Vt],qt[Vt]=null,ra=qt[--Vt],qt[Vt]=null,la=qt[--Vt],qt[Vt]=null}function lf(e,t){qt[Vt++]=la,qt[Vt++]=ra,qt[Vt++]=Va,la=t.id,ra=t.overflow,Va=e}var lt=null,qe=null,Se=!1,Qa=null,Qt=!1,wo=Error(o(519));function Ja(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw tl(Ht(t,e)),wo}function rf(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[nt]=e,t[mt]=n,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<wl.length;a++)ve(wl[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),bd(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Nd(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Sh(t.textContent,a)?(n.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),n.onScroll!=null&&ve("scroll",t),n.onScrollEnd!=null&&ve("scrollend",t),n.onClick!=null&&(t.onclick=ya),t=!0):t=!1,t||Ja(e,!0)}function of(e){for(lt=e.return;lt;)switch(lt.tag){case 5:case 31:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:lt=lt.return}}function rn(e){if(e!==lt)return!1;if(!Se)return of(e),Se=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Vc(e.type,e.memoizedProps)),a=!a),a&&qe&&Ja(e),of(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));qe=Mh(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));qe=Mh(e)}else t===27?(t=qe,ss(e.type)?(e=Xc,Xc=null,qe=e):qe=t):qe=lt?Yt(e.stateNode.nextSibling):null;return!0}function Ss(){qe=lt=null,Se=!1}function So(){var e=Qa;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),Qa=null),e}function tl(e){Qa===null?Qa=[e]:Qa.push(e)}var Co=C(null),Cs=null,ja=null;function Ya(e,t,a){q(Co,t._currentValue),t._currentValue=a}function wa(e){e._currentValue=Co.current,T(Co)}function Eo(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Ao(e,t,a,n){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var u=c.dependencies;if(u!==null){var m=c.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=c;for(var j=0;j<t.length;j++)if(y.context===t[j]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),Eo(u.return,a,e),n||(m=null);break e}u=y.next}}else if(c.tag===18){if(m=c.return,m===null)throw Error(o(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),Eo(m,a,e),m=null}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===e){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}}function on(e,t,a,n){e=null;for(var c=t,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var m=c.alternate;if(m===null)throw Error(o(387));if(m=m.memoizedProps,m!==null){var y=c.type;Ct(c.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(c===ie.current){if(m=c.alternate,m===null)throw Error(o(387));m.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}c=c.return}e!==null&&Ao(t,e,a,n),t.flags|=262144}function yr(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){Cs=e,ja=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rt(e){return cf(Cs,e)}function br(e,t){return Cs===null&&Es(e),cf(e,t)}function cf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ja===null){if(e===null)throw Error(o(308));ja=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ja=ja.next=t;return a}var xg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},gg=l.unstable_scheduleCallback,yg=l.unstable_NormalPriority,Ke={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _o(){return{controller:new xg,data:new Map,refCount:0}}function al(e){e.refCount--,e.refCount===0&&gg(yg,function(){e.controller.abort()})}var sl=null,To=0,cn=0,un=null;function bg(e,t){if(sl===null){var a=sl=[];To=0,cn=zc(),un={status:"pending",value:void 0,then:function(n){a.push(n)}}}return To++,t.then(uf,uf),t}function uf(){if(--To===0&&sl!==null){un!==null&&(un.status="fulfilled");var e=sl;sl=null,cn=0,un=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function vg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(n.status="rejected",n.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),n}var df=U.S;U.S=function(e,t){Fm=dt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&bg(e,t),df!==null&&df(e,t)};var As=C(null);function Ro(){var e=As.current;return e!==null?e:Be.pooledCache}function vr(e,t){t===null?q(As,As.current):q(As,t.pool)}function ff(){var e=Ro();return e===null?null:{parent:Ke._currentValue,pool:e}}var dn=Error(o(460)),Oo=Error(o(474)),Nr=Error(o(542)),jr={then:function(){}};function mf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function hf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ya,ya),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xf(e),e;default:if(typeof t.status=="string")t.then(ya,ya);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=n}},function(n){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,xf(e),e}throw Ts=t,dn}}function _s(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ts=a,dn):a}}var Ts=null;function pf(){if(Ts===null)throw Error(o(459));var e=Ts;return Ts=null,e}function xf(e){if(e===dn||e===Nr)throw Error(o(483))}var fn=null,nl=0;function wr(e){var t=nl;return nl+=1,fn===null&&(fn=[]),hf(fn,e,t)}function ll(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sr(e,t){throw t.$$typeof===E?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function gf(e){function t(z,_){if(e){var k=z.deletions;k===null?(z.deletions=[_],z.flags|=16):k.push(_)}}function a(z,_){if(!e)return null;for(;_!==null;)t(z,_),_=_.sibling;return null}function n(z){for(var _=new Map;z!==null;)z.key!==null?_.set(z.key,z):_.set(z.index,z),z=z.sibling;return _}function c(z,_){return z=va(z,_),z.index=0,z.sibling=null,z}function u(z,_,k){return z.index=k,e?(k=z.alternate,k!==null?(k=k.index,k<_?(z.flags|=67108866,_):k):(z.flags|=67108866,_)):(z.flags|=1048576,_)}function m(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function y(z,_,k,F){return _===null||_.tag!==6?(_=bo(k,z.mode,F),_.return=z,_):(_=c(_,k),_.return=z,_)}function j(z,_,k,F){var oe=k.type;return oe===O?$(z,_,k.props.children,F,k.key):_!==null&&(_.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&_s(oe)===_.type)?(_=c(_,k.props),ll(_,k),_.return=z,_):(_=xr(k.type,k.key,k.props,null,z.mode,F),ll(_,k),_.return=z,_)}function L(z,_,k,F){return _===null||_.tag!==4||_.stateNode.containerInfo!==k.containerInfo||_.stateNode.implementation!==k.implementation?(_=vo(k,z.mode,F),_.return=z,_):(_=c(_,k.children||[]),_.return=z,_)}function $(z,_,k,F,oe){return _===null||_.tag!==7?(_=ws(k,z.mode,F,oe),_.return=z,_):(_=c(_,k),_.return=z,_)}function Z(z,_,k){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=bo(""+_,z.mode,k),_.return=z,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case B:return k=xr(_.type,_.key,_.props,null,z.mode,k),ll(k,_),k.return=z,k;case w:return _=vo(_,z.mode,k),_.return=z,_;case te:return _=_s(_),Z(z,_,k)}if(P(_)||I(_))return _=ws(_,z.mode,k,null),_.return=z,_;if(typeof _.then=="function")return Z(z,wr(_),k);if(_.$$typeof===S)return Z(z,br(z,_),k);Sr(z,_)}return null}function H(z,_,k,F){var oe=_!==null?_.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return oe!==null?null:y(z,_,""+k,F);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case B:return k.key===oe?j(z,_,k,F):null;case w:return k.key===oe?L(z,_,k,F):null;case te:return k=_s(k),H(z,_,k,F)}if(P(k)||I(k))return oe!==null?null:$(z,_,k,F,null);if(typeof k.then=="function")return H(z,_,wr(k),F);if(k.$$typeof===S)return H(z,_,br(z,k),F);Sr(z,k)}return null}function J(z,_,k,F,oe){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return z=z.get(k)||null,y(_,z,""+F,oe);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case B:return z=z.get(F.key===null?k:F.key)||null,j(_,z,F,oe);case w:return z=z.get(F.key===null?k:F.key)||null,L(_,z,F,oe);case te:return F=_s(F),J(z,_,k,F,oe)}if(P(F)||I(F))return z=z.get(k)||null,$(_,z,F,oe,null);if(typeof F.then=="function")return J(z,_,k,wr(F),oe);if(F.$$typeof===S)return J(z,_,k,br(_,F),oe);Sr(_,F)}return null}function se(z,_,k,F){for(var oe=null,Te=null,le=_,xe=_=0,je=null;le!==null&&xe<k.length;xe++){le.index>xe?(je=le,le=null):je=le.sibling;var Re=H(z,le,k[xe],F);if(Re===null){le===null&&(le=je);break}e&&le&&Re.alternate===null&&t(z,le),_=u(Re,_,xe),Te===null?oe=Re:Te.sibling=Re,Te=Re,le=je}if(xe===k.length)return a(z,le),Se&&Na(z,xe),oe;if(le===null){for(;xe<k.length;xe++)le=Z(z,k[xe],F),le!==null&&(_=u(le,_,xe),Te===null?oe=le:Te.sibling=le,Te=le);return Se&&Na(z,xe),oe}for(le=n(le);xe<k.length;xe++)je=J(le,z,xe,k[xe],F),je!==null&&(e&&je.alternate!==null&&le.delete(je.key===null?xe:je.key),_=u(je,_,xe),Te===null?oe=je:Te.sibling=je,Te=je);return e&&le.forEach(function(os){return t(z,os)}),Se&&Na(z,xe),oe}function ce(z,_,k,F){if(k==null)throw Error(o(151));for(var oe=null,Te=null,le=_,xe=_=0,je=null,Re=k.next();le!==null&&!Re.done;xe++,Re=k.next()){le.index>xe?(je=le,le=null):je=le.sibling;var os=H(z,le,Re.value,F);if(os===null){le===null&&(le=je);break}e&&le&&os.alternate===null&&t(z,le),_=u(os,_,xe),Te===null?oe=os:Te.sibling=os,Te=os,le=je}if(Re.done)return a(z,le),Se&&Na(z,xe),oe;if(le===null){for(;!Re.done;xe++,Re=k.next())Re=Z(z,Re.value,F),Re!==null&&(_=u(Re,_,xe),Te===null?oe=Re:Te.sibling=Re,Te=Re);return Se&&Na(z,xe),oe}for(le=n(le);!Re.done;xe++,Re=k.next())Re=J(le,z,xe,Re.value,F),Re!==null&&(e&&Re.alternate!==null&&le.delete(Re.key===null?xe:Re.key),_=u(Re,_,xe),Te===null?oe=Re:Te.sibling=Re,Te=Re);return e&&le.forEach(function(Oy){return t(z,Oy)}),Se&&Na(z,xe),oe}function ke(z,_,k,F){if(typeof k=="object"&&k!==null&&k.type===O&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case B:e:{for(var oe=k.key;_!==null;){if(_.key===oe){if(oe=k.type,oe===O){if(_.tag===7){a(z,_.sibling),F=c(_,k.props.children),F.return=z,z=F;break e}}else if(_.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&_s(oe)===_.type){a(z,_.sibling),F=c(_,k.props),ll(F,k),F.return=z,z=F;break e}a(z,_);break}else t(z,_);_=_.sibling}k.type===O?(F=ws(k.props.children,z.mode,F,k.key),F.return=z,z=F):(F=xr(k.type,k.key,k.props,null,z.mode,F),ll(F,k),F.return=z,z=F)}return m(z);case w:e:{for(oe=k.key;_!==null;){if(_.key===oe)if(_.tag===4&&_.stateNode.containerInfo===k.containerInfo&&_.stateNode.implementation===k.implementation){a(z,_.sibling),F=c(_,k.children||[]),F.return=z,z=F;break e}else{a(z,_);break}else t(z,_);_=_.sibling}F=vo(k,z.mode,F),F.return=z,z=F}return m(z);case te:return k=_s(k),ke(z,_,k,F)}if(P(k))return se(z,_,k,F);if(I(k)){if(oe=I(k),typeof oe!="function")throw Error(o(150));return k=oe.call(k),ce(z,_,k,F)}if(typeof k.then=="function")return ke(z,_,wr(k),F);if(k.$$typeof===S)return ke(z,_,br(z,k),F);Sr(z,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,_!==null&&_.tag===6?(a(z,_.sibling),F=c(_,k),F.return=z,z=F):(a(z,_),F=bo(k,z.mode,F),F.return=z,z=F),m(z)):a(z,_)}return function(z,_,k,F){try{nl=0;var oe=ke(z,_,k,F);return fn=null,oe}catch(le){if(le===dn||le===Nr)throw le;var Te=Et(29,le,null,z.mode);return Te.lanes=F,Te.return=z,Te}finally{}}}var Rs=gf(!0),yf=gf(!1),Ga=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $a(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Oe&2)!==0){var c=n.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),n.pending=t,t=pr(e),ef(e,null,a),t}return hr(e,n,t,a),pr(e)}function rl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,od(e,a)}}function Do(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var c=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?c=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?c=u=t:u=u.next=t}else c=u=t;a={baseState:n.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Uo=!1;function il(){if(Uo){var e=un;if(e!==null)throw e}}function ol(e,t,a,n){Uo=!1;var c=e.updateQueue;Ga=!1;var u=c.firstBaseUpdate,m=c.lastBaseUpdate,y=c.shared.pending;if(y!==null){c.shared.pending=null;var j=y,L=j.next;j.next=null,m===null?u=L:m.next=L,m=j;var $=e.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==m&&(y===null?$.firstBaseUpdate=L:y.next=L,$.lastBaseUpdate=j))}if(u!==null){var Z=c.baseState;m=0,$=L=j=null,y=u;do{var H=y.lane&-536870913,J=H!==y.lane;if(J?(Ne&H)===H:(n&H)===H){H!==0&&H===cn&&(Uo=!0),$!==null&&($=$.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var se=e,ce=y;H=t;var ke=a;switch(ce.tag){case 1:if(se=ce.payload,typeof se=="function"){Z=se.call(ke,Z,H);break e}Z=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ce.payload,H=typeof se=="function"?se.call(ke,Z,H):se,H==null)break e;Z=v({},Z,H);break e;case 2:Ga=!0}}H=y.callback,H!==null&&(e.flags|=64,J&&(e.flags|=8192),J=c.callbacks,J===null?c.callbacks=[H]:J.push(H))}else J={lane:H,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(L=$=J,j=Z):$=$.next=J,m|=H;if(y=y.next,y===null){if(y=c.shared.pending,y===null)break;J=y,y=J.next,J.next=null,c.lastBaseUpdate=J,c.shared.pending=null}}while(!0);$===null&&(j=Z),c.baseState=j,c.firstBaseUpdate=L,c.lastBaseUpdate=$,u===null&&(c.shared.lanes=0),Wa|=m,e.lanes=m,e.memoizedState=Z}}function bf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function vf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)bf(a[e],t)}var mn=C(null),Cr=C(0);function Nf(e,t){e=za,q(Cr,e),q(mn,t),za=e|t.baseLanes}function ko(){q(Cr,za),q(mn,mn.current)}function Lo(){za=Cr.current,T(mn),T(Cr)}var At=C(null),Jt=null;function Fa(e){var t=e.alternate;q($e,$e.current&1),q(At,e),Jt===null&&(t===null||mn.current!==null||t.memoizedState!==null)&&(Jt=e)}function Bo(e){q($e,$e.current),q(At,e),Jt===null&&(Jt=e)}function jf(e){e.tag===22?(q($e,$e.current),q(At,e),Jt===null&&(Jt=e)):Za()}function Za(){q($e,$e.current),q(At,At.current)}function _t(e){T(At),Jt===e&&(Jt=null),T($e)}var $e=C(0);function Er(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yc(a)||Gc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sa=0,he=null,De=null,Pe=null,Ar=!1,hn=!1,Os=!1,_r=0,cl=0,pn=null,Ng=0;function Ge(){throw Error(o(321))}function Ho(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ct(e[a],t[a]))return!1;return!0}function qo(e,t,a,n,c,u){return Sa=u,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,U.H=e===null||e.memoizedState===null?lm:tc,Os=!1,u=a(n,c),Os=!1,hn&&(u=Sf(t,a,n,c)),wf(e),u}function wf(e){U.H=fl;var t=De!==null&&De.next!==null;if(Sa=0,Pe=De=he=null,Ar=!1,cl=0,pn=null,t)throw Error(o(300));e===null||We||(e=e.dependencies,e!==null&&yr(e)&&(We=!0))}function Sf(e,t,a,n){he=e;var c=0;do{if(hn&&(pn=null),cl=0,hn=!1,25<=c)throw Error(o(301));if(c+=1,Pe=De=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}U.H=rm,u=t(a,n)}while(hn);return u}function jg(){var e=U.H,t=e.useState()[0];return t=typeof t.then=="function"?ul(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(he.flags|=1024),t}function Vo(){var e=_r!==0;return _r=0,e}function Qo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Jo(e){if(Ar){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ar=!1}Sa=0,Pe=De=he=null,hn=!1,cl=_r=0,pn=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function Fe(){if(De===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Pe===null?he.memoizedState:Pe.next;if(t!==null)Pe=t,De=e;else{if(e===null)throw he.alternate===null?Error(o(467)):Error(o(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Pe===null?he.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function Tr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(e){var t=cl;return cl+=1,pn===null&&(pn=[]),e=hf(pn,e,t),t=he,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,U.H=t===null||t.memoizedState===null?lm:tc),e}function Rr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ul(e);if(e.$$typeof===S)return rt(e)}throw Error(o(438,String(e)))}function Yo(e){var t=null,a=he.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=he.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Tr(),he.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=ge;return t.index++,a}function Ca(e,t){return typeof t=="function"?t(e):t}function Or(e){var t=Fe();return Go(t,De,e)}function Go(e,t,a){var n=e.queue;if(n===null)throw Error(o(311));n.lastRenderedReducer=a;var c=e.baseQueue,u=n.pending;if(u!==null){if(c!==null){var m=c.next;c.next=u.next,u.next=m}t.baseQueue=c=u,n.pending=null}if(u=e.baseState,c===null)e.memoizedState=u;else{t=c.next;var y=m=null,j=null,L=t,$=!1;do{var Z=L.lane&-536870913;if(Z!==L.lane?(Ne&Z)===Z:(Sa&Z)===Z){var H=L.revertLane;if(H===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Z===cn&&($=!0);else if((Sa&H)===H){L=L.next,H===cn&&($=!0);continue}else Z={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(y=j=Z,m=u):j=j.next=Z,he.lanes|=H,Wa|=H;Z=L.action,Os&&a(u,Z),u=L.hasEagerState?L.eagerState:a(u,Z)}else H={lane:Z,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(y=j=H,m=u):j=j.next=H,he.lanes|=Z,Wa|=Z;L=L.next}while(L!==null&&L!==t);if(j===null?m=u:j.next=y,!Ct(u,e.memoizedState)&&(We=!0,$&&(a=un,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=j,n.lastRenderedState=u}return c===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Xo(e){var t=Fe(),a=t.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=e;var n=a.dispatch,c=a.pending,u=t.memoizedState;if(c!==null){a.pending=null;var m=c=c.next;do u=e(u,m.action),m=m.next;while(m!==c);Ct(u,t.memoizedState)||(We=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,n]}function Cf(e,t,a){var n=he,c=Fe(),u=Se;if(u){if(a===void 0)throw Error(o(407));a=a()}else a=t();var m=!Ct((De||c).memoizedState,a);if(m&&(c.memoizedState=a,We=!0),c=c.queue,Zo(_f.bind(null,n,c,e),[e]),c.getSnapshot!==t||m||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,xn(9,{destroy:void 0},Af.bind(null,n,c,a,t),null),Be===null)throw Error(o(349));u||(Sa&127)!==0||Ef(n,t,a)}return a}function Ef(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=he.updateQueue,t===null?(t=Tr(),he.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Af(e,t,a,n){t.value=a,t.getSnapshot=n,Tf(t)&&Rf(e)}function _f(e,t,a){return a(function(){Tf(t)&&Rf(e)})}function Tf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ct(e,a)}catch{return!0}}function Rf(e){var t=js(e,2);t!==null&&bt(t,e,2)}function $o(e){var t=ft();if(typeof e=="function"){var a=e;if(e=a(),Os){Ba(!0);try{a()}finally{Ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function Of(e,t,a,n){return e.baseState=a,Go(e,De,typeof n=="function"?n:Ca)}function wg(e,t,a,n,c){if(Dr(e))throw Error(o(485));if(e=t.action,e!==null){var u={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};U.T!==null?a(!0):u.isTransition=!1,n(u),a=t.pending,a===null?(u.next=t.pending=u,zf(t,u)):(u.next=a.next,t.pending=a.next=u)}}function zf(e,t){var a=t.action,n=t.payload,c=e.state;if(t.isTransition){var u=U.T,m={};U.T=m;try{var y=a(c,n),j=U.S;j!==null&&j(m,y),Mf(e,t,y)}catch(L){Fo(e,t,L)}finally{u!==null&&m.types!==null&&(u.types=m.types),U.T=u}}else try{u=a(c,n),Mf(e,t,u)}catch(L){Fo(e,t,L)}}function Mf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Df(e,t,n)},function(n){return Fo(e,t,n)}):Df(e,t,a)}function Df(e,t,a){t.status="fulfilled",t.value=a,Uf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,zf(e,a)))}function Fo(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Uf(t),t=t.next;while(t!==n)}e.action=null}function Uf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function kf(e,t){return t}function Lf(e,t){if(Se){var a=Be.formState;if(a!==null){e:{var n=he;if(Se){if(qe){t:{for(var c=qe,u=Qt;c.nodeType!==8;){if(!u){c=null;break t}if(c=Yt(c.nextSibling),c===null){c=null;break t}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){qe=Yt(c.nextSibling),n=c.data==="F!";break e}}Ja(n)}n=!1}n&&(t=a[0])}}return a=ft(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:t},a.queue=n,a=am.bind(null,he,n),n.dispatch=a,n=$o(!1),u=ec.bind(null,he,!1,n.queue),n=ft(),c={state:t,dispatch:null,action:e,pending:null},n.queue=c,a=wg.bind(null,he,c,u,a),c.dispatch=a,n.memoizedState=e,[t,a,!1]}function Bf(e){var t=Fe();return Hf(t,De,e)}function Hf(e,t,a){if(t=Go(e,t,kf)[0],e=Or(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=ul(t)}catch(m){throw m===dn?Nr:m}else n=t;t=Fe();var c=t.queue,u=c.dispatch;return a!==t.memoizedState&&(he.flags|=2048,xn(9,{destroy:void 0},Sg.bind(null,c,a),null)),[n,u,e]}function Sg(e,t){e.action=t}function qf(e){var t=Fe(),a=De;if(a!==null)return Hf(t,a,e);Fe(),t=t.memoizedState,a=Fe();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function xn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=he.updateQueue,t===null&&(t=Tr(),he.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function Vf(){return Fe().memoizedState}function zr(e,t,a,n){var c=ft();he.flags|=e,c.memoizedState=xn(1|t,{destroy:void 0},a,n===void 0?null:n)}function Mr(e,t,a,n){var c=Fe();n=n===void 0?null:n;var u=c.memoizedState.inst;De!==null&&n!==null&&Ho(n,De.memoizedState.deps)?c.memoizedState=xn(t,u,a,n):(he.flags|=e,c.memoizedState=xn(1|t,u,a,n))}function Qf(e,t){zr(8390656,8,e,t)}function Zo(e,t){Mr(2048,8,e,t)}function Cg(e){he.flags|=4;var t=he.updateQueue;if(t===null)t=Tr(),he.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Jf(e){var t=Fe().memoizedState;return Cg({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function Yf(e,t){return Mr(4,2,e,t)}function Gf(e,t){return Mr(4,4,e,t)}function Xf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $f(e,t,a){a=a!=null?a.concat([e]):null,Mr(4,4,Xf.bind(null,t,e),a)}function Ko(){}function Ff(e,t){var a=Fe();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Ho(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function Zf(e,t){var a=Fe();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Ho(t,n[1]))return n[0];if(n=e(),Os){Ba(!0);try{e()}finally{Ba(!1)}}return a.memoizedState=[n,t],n}function Po(e,t,a){return a===void 0||(Sa&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Km(),he.lanes|=e,Wa|=e,a)}function Kf(e,t,a,n){return Ct(a,t)?a:mn.current!==null?(e=Po(e,a,n),Ct(e,t)||(We=!0),e):(Sa&42)===0||(Sa&1073741824)!==0&&(Ne&261930)===0?(We=!0,e.memoizedState=a):(e=Km(),he.lanes|=e,Wa|=e,t)}function Pf(e,t,a,n,c){var u=ee.p;ee.p=u!==0&&8>u?u:8;var m=U.T,y={};U.T=y,ec(e,!1,t,a);try{var j=c(),L=U.S;if(L!==null&&L(y,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var $=vg(j,n);dl(e,t,$,Ot(e))}else dl(e,t,n,Ot(e))}catch(Z){dl(e,t,{then:function(){},status:"rejected",reason:Z},Ot())}finally{ee.p=u,m!==null&&y.types!==null&&(m.types=y.types),U.T=m}}function Eg(){}function Wo(e,t,a,n){if(e.tag!==5)throw Error(o(476));var c=Wf(e).queue;Pf(e,c,t,ne,a===null?Eg:function(){return If(e),a(n)})}function Wf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function If(e){var t=Wf(e);t.next===null&&(t=e.alternate.memoizedState),dl(e,t.next.queue,{},Ot())}function Io(){return rt(_l)}function em(){return Fe().memoizedState}function tm(){return Fe().memoizedState}function Ag(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ot();e=Xa(a);var n=$a(t,e,a);n!==null&&(bt(n,t,a),rl(n,t,a)),t={cache:_o()},e.payload=t;return}t=t.return}}function _g(e,t,a){var n=Ot();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Dr(e)?sm(t,a):(a=go(e,t,a,n),a!==null&&(bt(a,e,n),nm(a,t,n)))}function am(e,t,a){var n=Ot();dl(e,t,a,n)}function dl(e,t,a,n){var c={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Dr(e))sm(t,c);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,y=u(m,a);if(c.hasEagerState=!0,c.eagerState=y,Ct(y,m))return hr(e,t,c,0),Be===null&&mr(),!1}catch{}finally{}if(a=go(e,t,c,n),a!==null)return bt(a,e,n),nm(a,t,n),!0}return!1}function ec(e,t,a,n){if(n={lane:2,revertLane:zc(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Dr(e)){if(t)throw Error(o(479))}else t=go(e,a,n,2),t!==null&&bt(t,e,2)}function Dr(e){var t=e.alternate;return e===he||t!==null&&t===he}function sm(e,t){hn=Ar=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function nm(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,od(e,a)}}var fl={readContext:rt,use:Rr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};fl.useEffectEvent=Ge;var lm={readContext:rt,use:Rr,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Qf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,zr(4194308,4,Xf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return zr(4194308,4,e,t)},useInsertionEffect:function(e,t){zr(4,2,e,t)},useMemo:function(e,t){var a=ft();t=t===void 0?null:t;var n=e();if(Os){Ba(!0);try{e()}finally{Ba(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ft();if(a!==void 0){var c=a(t);if(Os){Ba(!0);try{a(t)}finally{Ba(!1)}}}else c=t;return n.memoizedState=n.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},n.queue=e,e=e.dispatch=_g.bind(null,he,e),[n.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=$o(e);var t=e.queue,a=am.bind(null,he,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Ko,useDeferredValue:function(e,t){var a=ft();return Po(a,e,t)},useTransition:function(){var e=$o(!1);return e=Pf.bind(null,he,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=he,c=ft();if(Se){if(a===void 0)throw Error(o(407));a=a()}else{if(a=t(),Be===null)throw Error(o(349));(Ne&127)!==0||Ef(n,t,a)}c.memoizedState=a;var u={value:a,getSnapshot:t};return c.queue=u,Qf(_f.bind(null,n,u,e),[e]),n.flags|=2048,xn(9,{destroy:void 0},Af.bind(null,n,u,a,t),null),a},useId:function(){var e=ft(),t=Be.identifierPrefix;if(Se){var a=ra,n=la;a=(n&~(1<<32-St(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=_r++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Ng++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Io,useFormState:Lf,useActionState:Lf,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=ec.bind(null,he,!0,a),a.dispatch=t,[e,t]},useMemoCache:Yo,useCacheRefresh:function(){return ft().memoizedState=Ag.bind(null,he)},useEffectEvent:function(e){var t=ft(),a={impl:e};return t.memoizedState=a,function(){if((Oe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},tc={readContext:rt,use:Rr,useCallback:Ff,useContext:rt,useEffect:Zo,useImperativeHandle:$f,useInsertionEffect:Yf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Or,useRef:Vf,useState:function(){return Or(Ca)},useDebugValue:Ko,useDeferredValue:function(e,t){var a=Fe();return Kf(a,De.memoizedState,e,t)},useTransition:function(){var e=Or(Ca)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Cf,useId:em,useHostTransitionStatus:Io,useFormState:Bf,useActionState:Bf,useOptimistic:function(e,t){var a=Fe();return Of(a,De,e,t)},useMemoCache:Yo,useCacheRefresh:tm};tc.useEffectEvent=Jf;var rm={readContext:rt,use:Rr,useCallback:Ff,useContext:rt,useEffect:Zo,useImperativeHandle:$f,useInsertionEffect:Yf,useLayoutEffect:Gf,useMemo:Zf,useReducer:Xo,useRef:Vf,useState:function(){return Xo(Ca)},useDebugValue:Ko,useDeferredValue:function(e,t){var a=Fe();return De===null?Po(a,e,t):Kf(a,De.memoizedState,e,t)},useTransition:function(){var e=Xo(Ca)[0],t=Fe().memoizedState;return[typeof e=="boolean"?e:ul(e),t]},useSyncExternalStore:Cf,useId:em,useHostTransitionStatus:Io,useFormState:qf,useActionState:qf,useOptimistic:function(e,t){var a=Fe();return De!==null?Of(a,De,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Yo,useCacheRefresh:tm};rm.useEffectEvent=Jf;function ac(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:v({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var sc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ot(),c=Xa(n);c.payload=t,a!=null&&(c.callback=a),t=$a(e,c,n),t!==null&&(bt(t,e,n),rl(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ot(),c=Xa(n);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=$a(e,c,n),t!==null&&(bt(t,e,n),rl(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ot(),n=Xa(a);n.tag=2,t!=null&&(n.callback=t),t=$a(e,n,a),t!==null&&(bt(t,e,a),rl(t,e,a))}};function im(e,t,a,n,c,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,u,m):t.prototype&&t.prototype.isPureReactComponent?!Wn(a,n)||!Wn(c,u):!0}function om(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&sc.enqueueReplaceState(t,t.state,null)}function zs(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=v({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function cm(e){fr(e)}function um(e){console.error(e)}function dm(e){fr(e)}function Ur(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function fm(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nc(e,t,a){return a=Xa(a),a.tag=3,a.payload={element:null},a.callback=function(){Ur(e,t)},a}function mm(e){return e=Xa(e),e.tag=3,e}function hm(e,t,a,n){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var u=n.value;e.payload=function(){return c(u)},e.callback=function(){fm(t,a,n)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){fm(t,a,n),typeof c!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var y=n.stack;this.componentDidCatch(n.value,{componentStack:y!==null?y:""})})}function Tg(e,t,a,n,c){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&on(t,a,c,!0),a=At.current,a!==null){switch(a.tag){case 31:case 13:return Jt===null?$r():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,n===jr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Tc(e,n,c)),!1;case 22:return a.flags|=65536,n===jr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Tc(e,n,c)),!1}throw Error(o(435,a.tag))}return Tc(e,n,c),$r(),!1}if(Se)return t=At.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,n!==wo&&(e=Error(o(422),{cause:n}),tl(Ht(e,a)))):(n!==wo&&(t=Error(o(423),{cause:n}),tl(Ht(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,n=Ht(n,a),c=nc(e.stateNode,n,c),Do(e,c),Xe!==4&&(Xe=2)),!1;var u=Error(o(520),{cause:n});if(u=Ht(u,a),vl===null?vl=[u]:vl.push(u),Xe!==4&&(Xe=2),t===null)return!0;n=Ht(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=nc(a.stateNode,n,e),Do(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ia===null||!Ia.has(u))))return a.flags|=65536,c&=-c,a.lanes|=c,c=mm(c),hm(c,e,a,n),Do(a,c),!1}a=a.return}while(a!==null);return!1}var lc=Error(o(461)),We=!1;function it(e,t,a,n){t.child=e===null?yf(t,null,a,n):Rs(t,e.child,a,n)}function pm(e,t,a,n,c){a=a.render;var u=t.ref;if("ref"in n){var m={};for(var y in n)y!=="ref"&&(m[y]=n[y])}else m=n;return Es(t),n=qo(e,t,a,m,u,c),y=Vo(),e!==null&&!We?(Qo(e,t,c),Ea(e,t,c)):(Se&&y&&No(t),t.flags|=1,it(e,t,n,c),t.child)}function xm(e,t,a,n,c){if(e===null){var u=a.type;return typeof u=="function"&&!yo(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,gm(e,t,u,n,c)):(e=xr(a.type,null,n,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!mc(e,c)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:Wn,a(m,n)&&e.ref===t.ref)return Ea(e,t,c)}return t.flags|=1,e=va(u,n),e.ref=t.ref,e.return=t,t.child=e}function gm(e,t,a,n,c){if(e!==null){var u=e.memoizedProps;if(Wn(u,n)&&e.ref===t.ref)if(We=!1,t.pendingProps=n=u,mc(e,c))(e.flags&131072)!==0&&(We=!0);else return t.lanes=e.lanes,Ea(e,t,c)}return rc(e,t,a,n,c)}function ym(e,t,a,n){var c=n.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(n=t.child=e.child,c=0;n!==null;)c=c|n.lanes|n.childLanes,n=n.sibling;n=c&~u}else n=0,t.child=null;return bm(e,t,u,a,n)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&vr(t,u!==null?u.cachePool:null),u!==null?Nf(t,u):ko(),jf(t);else return n=t.lanes=536870912,bm(e,t,u!==null?u.baseLanes|a:a,a,n)}else u!==null?(vr(t,u.cachePool),Nf(t,u),Za(),t.memoizedState=null):(e!==null&&vr(t,null),ko(),Za());return it(e,t,c,a),t.child}function ml(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function bm(e,t,a,n,c){var u=Ro();return u=u===null?null:{parent:Ke._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&vr(t,null),ko(),jf(t),e!==null&&on(e,t,n,!0),t.childLanes=c,null}function kr(e,t){return t=Br({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function vm(e,t,a){return Rs(t,e.child,null,a),e=kr(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function Rg(e,t,a){var n=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(n.mode==="hidden")return e=kr(t,n),t.lanes=536870912,ml(null,e);if(Bo(t),(e=qe)?(e=zh(e,Qt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},a=af(e),a.return=t,t.child=a,lt=t,qe=null)):e=null,e===null)throw Ja(t);return t.lanes=536870912,null}return kr(t,n)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Bo(t),c)if(t.flags&256)t.flags&=-257,t=vm(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(We||on(e,t,a,!1),c=(a&e.childLanes)!==0,We||c){if(n=Be,n!==null&&(m=cd(n,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,js(e,m),bt(n,e,m),lc;$r(),t=vm(e,t,a)}else e=u.treeContext,qe=Yt(m.nextSibling),lt=t,Se=!0,Qa=null,Qt=!1,e!==null&&lf(t,e),t=kr(t,n),t.flags|=4096;return t}return e=va(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Lr(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function rc(e,t,a,n,c){return Es(t),a=qo(e,t,a,n,void 0,c),n=Vo(),e!==null&&!We?(Qo(e,t,c),Ea(e,t,c)):(Se&&n&&No(t),t.flags|=1,it(e,t,a,c),t.child)}function Nm(e,t,a,n,c,u){return Es(t),t.updateQueue=null,a=Sf(t,n,a,c),wf(e),n=Vo(),e!==null&&!We?(Qo(e,t,u),Ea(e,t,u)):(Se&&n&&No(t),t.flags|=1,it(e,t,a,u),t.child)}function jm(e,t,a,n,c){if(Es(t),t.stateNode===null){var u=sn,m=a.contextType;typeof m=="object"&&m!==null&&(u=rt(m)),u=new a(n,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=sc,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=n,u.state=t.memoizedState,u.refs={},zo(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?rt(m):sn,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(ac(t,a,m,n),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&sc.enqueueReplaceState(u,u.state,null),ol(t,n,u,c),il(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,j=zs(a,y);u.props=j;var L=u.context,$=a.contextType;m=sn,typeof $=="object"&&$!==null&&(m=rt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,$||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||L!==m)&&om(t,u,n,m),Ga=!1;var H=t.memoizedState;u.state=H,ol(t,n,u,c),il(),L=t.memoizedState,y||H!==L||Ga?(typeof Z=="function"&&(ac(t,a,Z,n),L=t.memoizedState),(j=Ga||im(t,a,j,n,H,L,m))?($||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=L),u.props=n,u.state=L,u.context=m,n=j):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{u=t.stateNode,Mo(e,t),m=t.memoizedProps,$=zs(a,m),u.props=$,Z=t.pendingProps,H=u.context,L=a.contextType,j=sn,typeof L=="object"&&L!==null&&(j=rt(L)),y=a.getDerivedStateFromProps,(L=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==Z||H!==j)&&om(t,u,n,j),Ga=!1,H=t.memoizedState,u.state=H,ol(t,n,u,c),il();var J=t.memoizedState;m!==Z||H!==J||Ga||e!==null&&e.dependencies!==null&&yr(e.dependencies)?(typeof y=="function"&&(ac(t,a,y,n),J=t.memoizedState),($=Ga||im(t,a,$,n,H,J,j)||e!==null&&e.dependencies!==null&&yr(e.dependencies))?(L||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,J,j),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,J,j)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=J),u.props=n,u.state=J,u.context=j,n=$):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),n=!1)}return u=n,Lr(e,t),n=(t.flags&128)!==0,u||n?(u=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&n?(t.child=Rs(t,e.child,null,c),t.child=Rs(t,null,a,c)):it(e,t,a,c),t.memoizedState=u.state,e=t.child):e=Ea(e,t,c),e}function wm(e,t,a,n){return Ss(),t.flags|=256,it(e,t,a,n),t.child}var ic={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function oc(e){return{baseLanes:e,cachePool:ff()}}function cc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Rt),e}function Sm(e,t,a){var n=t.pendingProps,c=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:($e.current&2)!==0),m&&(c=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(c?Fa(t):Za(),(e=qe)?(e=zh(e,Qt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:la,overflow:ra}:null,retryLane:536870912,hydrationErrors:null},a=af(e),a.return=t,t.child=a,lt=t,qe=null)):e=null,e===null)throw Ja(t);return Gc(e)?t.lanes=32:t.lanes=536870912,null}var y=n.children;return n=n.fallback,c?(Za(),c=t.mode,y=Br({mode:"hidden",children:y},c),n=ws(n,c,a,null),y.return=t,n.return=t,y.sibling=n,t.child=y,n=t.child,n.memoizedState=oc(a),n.childLanes=cc(e,m,a),t.memoizedState=ic,ml(null,n)):(Fa(t),uc(t,y))}var j=e.memoizedState;if(j!==null&&(y=j.dehydrated,y!==null)){if(u)t.flags&256?(Fa(t),t.flags&=-257,t=dc(e,t,a)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),y=n.fallback,c=t.mode,n=Br({mode:"visible",children:n.children},c),y=ws(y,c,a,null),y.flags|=2,n.return=t,y.return=t,n.sibling=y,t.child=n,Rs(t,e.child,null,a),n=t.child,n.memoizedState=oc(a),n.childLanes=cc(e,m,a),t.memoizedState=ic,t=ml(null,n));else if(Fa(t),Gc(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var L=m.dgst;m=L,n=Error(o(419)),n.stack="",n.digest=m,tl({value:n,source:null,stack:null}),t=dc(e,t,a)}else if(We||on(e,t,a,!1),m=(a&e.childLanes)!==0,We||m){if(m=Be,m!==null&&(n=cd(m,a),n!==0&&n!==j.retryLane))throw j.retryLane=n,js(e,n),bt(m,e,n),lc;Yc(y)||$r(),t=dc(e,t,a)}else Yc(y)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,qe=Yt(y.nextSibling),lt=t,Se=!0,Qa=null,Qt=!1,e!==null&&lf(t,e),t=uc(t,n.children),t.flags|=4096);return t}return c?(Za(),y=n.fallback,c=t.mode,j=e.child,L=j.sibling,n=va(j,{mode:"hidden",children:n.children}),n.subtreeFlags=j.subtreeFlags&65011712,L!==null?y=va(L,y):(y=ws(y,c,a,null),y.flags|=2),y.return=t,n.return=t,n.sibling=y,t.child=n,ml(null,n),n=t.child,y=e.child.memoizedState,y===null?y=oc(a):(c=y.cachePool,c!==null?(j=Ke._currentValue,c=c.parent!==j?{parent:j,pool:j}:c):c=ff(),y={baseLanes:y.baseLanes|a,cachePool:c}),n.memoizedState=y,n.childLanes=cc(e,m,a),t.memoizedState=ic,ml(e.child,n)):(Fa(t),a=e.child,e=a.sibling,a=va(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function uc(e,t){return t=Br({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Br(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function dc(e,t,a){return Rs(t,e.child,null,a),e=uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Cm(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Eo(e.return,t,a)}function fc(e,t,a,n,c,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:c,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=n,m.tail=a,m.tailMode=c,m.treeForkCount=u)}function Em(e,t,a){var n=t.pendingProps,c=n.revealOrder,u=n.tail;n=n.children;var m=$e.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,q($e,m),it(e,t,n,a),n=Se?el:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,a,t);else if(e.tag===19)Cm(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&Er(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),fc(t,!1,c,a,u,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Er(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}fc(t,!0,a,null,u,n);break;case"together":fc(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Wa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(on(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,a=va(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=va(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function mc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&yr(e)))}function Og(e,t,a){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Ya(t,Ke,e.memoizedState.cache),Ss();break;case 27:case 5:hs(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Fa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Sm(e,t,a):(Fa(t),e=Ea(e,t,a),e!==null?e.sibling:null);Fa(t);break;case 19:var c=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(on(e,t,a,!1),n=(a&t.childLanes)!==0),c){if(n)return Em(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),q($e,$e.current),n)break;return null;case 22:return t.lanes=0,ym(e,t,a,t.pendingProps);case 24:Ya(t,Ke,e.memoizedState.cache)}return Ea(e,t,a)}function Am(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)We=!0;else{if(!mc(e,a)&&(t.flags&128)===0)return We=!1,Og(e,t,a);We=(e.flags&131072)!==0}else We=!1,Se&&(t.flags&1048576)!==0&&nf(t,el,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=_s(t.elementType),t.type=e,typeof e=="function")yo(e)?(n=zs(e,n),t.tag=1,t=jm(null,t,e,n,a)):(t.tag=0,t=rc(null,t,e,n,a));else{if(e!=null){var c=e.$$typeof;if(c===G){t.tag=11,t=pm(null,t,e,n,a);break e}else if(c===X){t.tag=14,t=xm(null,t,e,n,a);break e}}throw t=we(e)||e,Error(o(306,t,""))}}return t;case 0:return rc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,c=zs(n,t.pendingProps),jm(e,t,n,c,a);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(o(387));n=t.pendingProps;var u=t.memoizedState;c=u.element,Mo(e,t),ol(t,n,null,a);var m=t.memoizedState;if(n=m.cache,Ya(t,Ke,n),n!==u.cache&&Ao(t,[Ke],a,!0),il(),n=m.element,u.isDehydrated)if(u={element:n,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=wm(e,t,n,a);break e}else if(n!==c){c=Ht(Error(o(424)),t),tl(c),t=wm(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qe=Yt(e.firstChild),lt=t,Se=!0,Qa=null,Qt=!0,a=yf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ss(),n===c){t=Ea(e,t,a);break e}it(e,t,n,a)}t=t.child}return t;case 26:return Lr(e,t),e===null?(a=Bh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Se||(a=t.type,e=t.pendingProps,n=ei(ae.current).createElement(a),n[nt]=t,n[mt]=e,ot(n,a,e),at(n),t.stateNode=n):t.memoizedState=Bh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hs(t),e===null&&Se&&(n=t.stateNode=Uh(t.type,t.pendingProps,ae.current),lt=t,Qt=!0,c=qe,ss(t.type)?(Xc=c,qe=Yt(n.firstChild)):qe=c),it(e,t,t.pendingProps.children,a),Lr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((c=n=qe)&&(n=iy(n,t.type,t.pendingProps,Qt),n!==null?(t.stateNode=n,lt=t,qe=Yt(n.firstChild),Qt=!1,c=!0):c=!1),c||Ja(t)),hs(t),c=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,n=u.children,Vc(c,u)?n=null:m!==null&&Vc(c,m)&&(t.flags|=32),t.memoizedState!==null&&(c=qo(e,t,jg,null,null,a),_l._currentValue=c),Lr(e,t),it(e,t,n,a),t.child;case 6:return e===null&&Se&&((e=a=qe)&&(a=oy(a,t.pendingProps,Qt),a!==null?(t.stateNode=a,lt=t,qe=null,e=!0):e=!1),e||Ja(t)),null;case 13:return Sm(e,t,a);case 4:return He(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rs(t,null,n,a):it(e,t,n,a),t.child;case 11:return pm(e,t,t.type,t.pendingProps,a);case 7:return it(e,t,t.pendingProps,a),t.child;case 8:return it(e,t,t.pendingProps.children,a),t.child;case 12:return it(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Ya(t,t.type,n.value),it(e,t,n.children,a),t.child;case 9:return c=t.type._context,n=t.pendingProps.children,Es(t),c=rt(c),n=n(c),t.flags|=1,it(e,t,n,a),t.child;case 14:return xm(e,t,t.type,t.pendingProps,a);case 15:return gm(e,t,t.type,t.pendingProps,a);case 19:return Em(e,t,a);case 31:return Rg(e,t,a);case 22:return ym(e,t,a,t.pendingProps);case 24:return Es(t),n=rt(Ke),e===null?(c=Ro(),c===null&&(c=Be,u=_o(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=a),c=u),t.memoizedState={parent:n,cache:c},zo(t),Ya(t,Ke,c)):((e.lanes&a)!==0&&(Mo(e,t),ol(t,null,null,a),il()),c=e.memoizedState,u=t.memoizedState,c.parent!==n?(c={parent:n,cache:n},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ya(t,Ke,n)):(n=u.cache,Ya(t,Ke,n),n!==c.cache&&Ao(t,[Ke],a,!0))),it(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Aa(e){e.flags|=4}function hc(e,t,a,n,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(eh())e.flags|=8192;else throw Ts=jr,Oo}else e.flags&=-16777217}function _m(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jh(t))if(eh())e.flags|=8192;else throw Ts=jr,Oo}function Hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rd():536870912,e.lanes|=t,vn|=t)}function hl(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,n|=c.subtreeFlags&65011712,n|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,n|=c.subtreeFlags,n|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function zg(e,t,a){var n=t.pendingProps;switch(jo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wa(Ke),Ye(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(rn(t)?Aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,So())),Ve(t),null;case 26:var c=t.type,u=t.memoizedState;return e===null?(Aa(t),u!==null?(Ve(t),_m(t,u)):(Ve(t),hc(t,c,null,n,a))):u?u!==e.memoizedState?(Aa(t),Ve(t),_m(t,u)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Aa(t),Ve(t),hc(t,c,e,n,a)),null;case 27:if(ps(t),a=ae.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Aa(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}e=W.current,rn(t)?rf(t):(e=Uh(c,n,a),t.stateNode=e,Aa(t))}return Ve(t),null;case 5:if(ps(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Aa(t);else{if(!n){if(t.stateNode===null)throw Error(o(166));return Ve(t),null}if(u=W.current,rn(t))rf(t);else{var m=ei(ae.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof n.is=="string"?m.createElement("select",{is:n.is}):m.createElement("select"),n.multiple?u.multiple=!0:n.size&&(u.size=n.size);break;default:u=typeof n.is=="string"?m.createElement(c,{is:n.is}):m.createElement(c)}}u[nt]=t,u[mt]=n;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(ot(u,c,n),c){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Aa(t)}}return Ve(t),hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Aa(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(o(166));if(e=ae.current,rn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,c=lt,c!==null)switch(c.tag){case 27:case 5:n=c.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Sh(e.nodeValue,a)),e||Ja(t,!0)}else e=ei(e).createTextNode(n),e[nt]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=rn(t),a!==null){if(e===null){if(!n)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[nt]=t}else Ss(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=So(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ve(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=rn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[nt]=t}else Ss(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),c=!1}else c=So(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,c=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(c=n.alternate.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==c&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Hr(t,t.updateQueue),Ve(t),null);case 4:return Ye(),e===null&&kc(t.stateNode.containerInfo),Ve(t),null;case 10:return wa(t.type),Ve(t),null;case 19:if(T($e),n=t.memoizedState,n===null)return Ve(t),null;if(c=(t.flags&128)!==0,u=n.rendering,u===null)if(c)hl(n,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Er(e),u!==null){for(t.flags|=128,hl(n,!1),e=u.updateQueue,t.updateQueue=e,Hr(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)tf(a,e),a=a.sibling;return q($e,$e.current&1|2),Se&&Na(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&dt()>Yr&&(t.flags|=128,c=!0,hl(n,!1),t.lanes=4194304)}else{if(!c)if(e=Er(u),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Hr(t,e),hl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!u.alternate&&!Se)return Ve(t),null}else 2*dt()-n.renderingStartTime>Yr&&a!==536870912&&(t.flags|=128,c=!0,hl(n,!1),t.lanes=4194304);n.isBackwards?(u.sibling=t.child,t.child=u):(e=n.last,e!==null?e.sibling=u:t.child=u,n.last=u)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=dt(),e.sibling=null,a=$e.current,q($e,c?a&1|2:a&1),Se&&Na(t,n.treeForkCount),e):(Ve(t),null);case 22:case 23:return _t(t),Lo(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&Hr(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&T(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wa(Ke),Ve(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function Mg(e,t){switch(jo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(Ke),Ye(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ps(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(o(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return T($e),null;case 4:return Ye(),null;case 10:return wa(t.type),null;case 22:case 23:return _t(t),Lo(),e!==null&&T(As),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wa(Ke),null;case 25:return null;default:return null}}function Tm(e,t){switch(jo(t),t.tag){case 3:wa(Ke),Ye();break;case 26:case 27:case 5:ps(t);break;case 4:Ye();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:T($e);break;case 10:wa(t.type);break;case 22:case 23:_t(t),Lo(),e!==null&&T(As);break;case 24:wa(Ke)}}function pl(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var c=n.next;a=c;do{if((a.tag&e)===e){n=void 0;var u=a.create,m=a.inst;n=u(),m.destroy=n}a=a.next}while(a!==c)}}catch(y){Me(t,t.return,y)}}function Ka(e,t,a){try{var n=t.updateQueue,c=n!==null?n.lastEffect:null;if(c!==null){var u=c.next;n=u;do{if((n.tag&e)===e){var m=n.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,c=t;var j=a,L=y;try{L()}catch($){Me(c,j,$)}}}n=n.next}while(n!==u)}}catch($){Me(t,t.return,$)}}function Rm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{vf(t,a)}catch(n){Me(e,e.return,n)}}}function Om(e,t,a){a.props=zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){Me(e,t,n)}}function xl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(c){Me(e,t,c)}}function ia(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(c){Me(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Me(e,t,c)}else a.current=null}function zm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(c){Me(e,e.return,c)}}function pc(e,t,a){try{var n=e.stateNode;ty(n,e.type,a,t),n[mt]=t}catch(c){Me(e,e.return,c)}}function Mm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ss(e.type)||e.tag===4}function xc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Mm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ss(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gc(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=ya));else if(n!==4&&(n===27&&ss(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(gc(e,t,a),e=e.sibling;e!==null;)gc(e,t,a),e=e.sibling}function qr(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&ss(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(qr(e,t,a),e=e.sibling;e!==null;)qr(e,t,a),e=e.sibling}function Dm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);ot(t,n,a),t[nt]=e,t[mt]=a}catch(u){Me(e,e.return,u)}}var _a=!1,Ie=!1,yc=!1,Um=typeof WeakSet=="function"?WeakSet:Set,st=null;function Dg(e,t){if(e=e.containerInfo,Hc=ii,e=Xd(e),uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var c=n.anchorOffset,u=n.focusNode;n=n.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,y=-1,j=-1,L=0,$=0,Z=e,H=null;t:for(;;){for(var J;Z!==a||c!==0&&Z.nodeType!==3||(y=m+c),Z!==u||n!==0&&Z.nodeType!==3||(j=m+n),Z.nodeType===3&&(m+=Z.nodeValue.length),(J=Z.firstChild)!==null;)H=Z,Z=J;for(;;){if(Z===e)break t;if(H===a&&++L===c&&(y=m),H===u&&++$===n&&(j=m),(J=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=J}a=y===-1||j===-1?null:{start:y,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(qc={focusedElem:e,selectionRange:a},ii=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,c=u.memoizedProps,u=u.memoizedState,n=a.stateNode;try{var se=zs(a.type,c);e=n.getSnapshotBeforeUpdate(se,u),n.__reactInternalSnapshotBeforeUpdate=e}catch(ce){Me(a,a.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Jc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function km(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Ra(e,a),n&4&&pl(5,a);break;case 1:if(Ra(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){Me(a,a.return,m)}else{var c=zs(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Me(a,a.return,m)}}n&64&&Rm(a),n&512&&xl(a,a.return);break;case 3:if(Ra(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{vf(e,t)}catch(m){Me(a,a.return,m)}}break;case 27:t===null&&n&4&&Dm(a);case 26:case 5:Ra(e,a),t===null&&n&4&&zm(a),n&512&&xl(a,a.return);break;case 12:Ra(e,a);break;case 31:Ra(e,a),n&4&&Hm(e,a);break;case 13:Ra(e,a),n&4&&qm(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Jg.bind(null,a),cy(e,a))));break;case 22:if(n=a.memoizedState!==null||_a,!n){t=t!==null&&t.memoizedState!==null||Ie,c=_a;var u=Ie;_a=n,(Ie=t)&&!u?Oa(e,a,(a.subtreeFlags&8772)!==0):Ra(e,a),_a=c,Ie=u}break;case 30:break;default:Ra(e,a)}}function Lm(e){var t=e.alternate;t!==null&&(e.alternate=null,Lm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&$i(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,pt=!1;function Ta(e,t,a){for(a=a.child;a!==null;)Bm(e,t,a),a=a.sibling}function Bm(e,t,a){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ie||ia(a,t),Ta(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ie||ia(a,t);var n=Qe,c=pt;ss(a.type)&&(Qe=a.stateNode,pt=!1),Ta(e,t,a),Cl(a.stateNode),Qe=n,pt=c;break;case 5:Ie||ia(a,t);case 6:if(n=Qe,c=pt,Qe=null,Ta(e,t,a),Qe=n,pt=c,Qe!==null)if(pt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(a.stateNode)}catch(u){Me(a,t,u)}else try{Qe.removeChild(a.stateNode)}catch(u){Me(a,t,u)}break;case 18:Qe!==null&&(pt?(e=Qe,Rh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),_n(e)):Rh(Qe,a.stateNode));break;case 4:n=Qe,c=pt,Qe=a.stateNode.containerInfo,pt=!0,Ta(e,t,a),Qe=n,pt=c;break;case 0:case 11:case 14:case 15:Ka(2,a,t),Ie||Ka(4,a,t),Ta(e,t,a);break;case 1:Ie||(ia(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Om(a,t,n)),Ta(e,t,a);break;case 21:Ta(e,t,a);break;case 22:Ie=(n=Ie)||a.memoizedState!==null,Ta(e,t,a),Ie=n;break;default:Ta(e,t,a)}}function Hm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{_n(e)}catch(a){Me(t,t.return,a)}}}function qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{_n(e)}catch(a){Me(t,t.return,a)}}function Ug(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Um),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Um),t;default:throw Error(o(435,e.tag))}}function Vr(e,t){var a=Ug(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var c=Yg.bind(null,e,n);n.then(c,c)}})}function xt(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var c=a[n],u=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(ss(y.type)){Qe=y.stateNode,pt=!1;break e}break;case 5:Qe=y.stateNode,pt=!1;break e;case 3:case 4:Qe=y.stateNode.containerInfo,pt=!0;break e}y=y.return}if(Qe===null)throw Error(o(160));Bm(u,m,c),Qe=null,pt=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Vm(t,e),t=t.sibling}var Pt=null;function Vm(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:xt(t,e),gt(e),n&4&&(Ka(3,e,e.return),pl(3,e),Ka(5,e,e.return));break;case 1:xt(t,e),gt(e),n&512&&(Ie||a===null||ia(a,a.return)),n&64&&_a&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var c=Pt;if(xt(t,e),gt(e),n&512&&(Ie||a===null||ia(a,a.return)),n&4){var u=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(n){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Jn]||u[nt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(n),c.head.insertBefore(u,c.querySelector("head > title"))),ot(u,n,a),u[nt]=e,at(u),n=u;break e;case"link":var m=Vh("link","href",c).get(n+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(u=m[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}u=c.createElement(n),ot(u,n,a),c.head.appendChild(u);break;case"meta":if(m=Vh("meta","content",c).get(n+(a.content||""))){for(y=0;y<m.length;y++)if(u=m[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}u=c.createElement(n),ot(u,n,a),c.head.appendChild(u);break;default:throw Error(o(468,n))}u[nt]=e,at(u),n=u}e.stateNode=n}else Qh(c,e.type,e.stateNode);else e.stateNode=qh(c,n,e.memoizedProps);else u!==n?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,n===null?Qh(c,e.type,e.stateNode):qh(c,n,e.memoizedProps)):n===null&&e.stateNode!==null&&pc(e,e.memoizedProps,a.memoizedProps)}break;case 27:xt(t,e),gt(e),n&512&&(Ie||a===null||ia(a,a.return)),a!==null&&n&4&&pc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(xt(t,e),gt(e),n&512&&(Ie||a===null||ia(a,a.return)),e.flags&32){c=e.stateNode;try{Ks(c,"")}catch(se){Me(e,e.return,se)}}n&4&&e.stateNode!=null&&(c=e.memoizedProps,pc(e,c,a!==null?a.memoizedProps:c)),n&1024&&(yc=!0);break;case 6:if(xt(t,e),gt(e),n&4){if(e.stateNode===null)throw Error(o(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(se){Me(e,e.return,se)}}break;case 3:if(si=null,c=Pt,Pt=ti(t.containerInfo),xt(t,e),Pt=c,gt(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{_n(t.containerInfo)}catch(se){Me(e,e.return,se)}yc&&(yc=!1,Qm(e));break;case 4:n=Pt,Pt=ti(e.stateNode.containerInfo),xt(t,e),gt(e),Pt=n;break;case 12:xt(t,e),gt(e);break;case 31:xt(t,e),gt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vr(e,n)));break;case 13:xt(t,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jr=dt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vr(e,n)));break;case 22:c=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,L=_a,$=Ie;if(_a=L||c,Ie=$||j,xt(t,e),Ie=$,_a=L,gt(e),n&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||j||_a||Ie||Ms(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(u=j.stateNode,c)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=j.stateNode;var Z=j.memoizedProps.style,H=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;y.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(se){Me(j,j.return,se)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=c?"":j.memoizedProps}catch(se){Me(j,j.return,se)}}}else if(t.tag===18){if(a===null){j=t;try{var J=j.stateNode;c?Oh(J,!0):Oh(j.stateNode,!1)}catch(se){Me(j,j.return,se)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Vr(e,a))));break;case 19:xt(t,e),gt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Vr(e,n)));break;case 30:break;case 21:break;default:xt(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Mm(n)){a=n;break}n=n.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,u=xc(e);qr(e,u,c);break;case 5:var m=a.stateNode;a.flags&32&&(Ks(m,""),a.flags&=-33);var y=xc(e);qr(e,y,m);break;case 3:case 4:var j=a.stateNode.containerInfo,L=xc(e);gc(e,L,j);break;default:throw Error(o(161))}}catch($){Me(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ra(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)km(e,t.alternate,t),t=t.sibling}function Ms(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ka(4,t,t.return),Ms(t);break;case 1:ia(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Om(t,t.return,a),Ms(t);break;case 27:Cl(t.stateNode);case 26:case 5:ia(t,t.return),Ms(t);break;case 22:t.memoizedState===null&&Ms(t);break;case 30:Ms(t);break;default:Ms(t)}e=e.sibling}}function Oa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,c=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Oa(c,u,a),pl(4,u);break;case 1:if(Oa(c,u,a),n=u,c=n.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Me(n,n.return,L)}if(n=u,c=n.updateQueue,c!==null){var y=n.stateNode;try{var j=c.shared.hiddenCallbacks;if(j!==null)for(c.shared.hiddenCallbacks=null,c=0;c<j.length;c++)bf(j[c],y)}catch(L){Me(n,n.return,L)}}a&&m&64&&Rm(u),xl(u,u.return);break;case 27:Dm(u);case 26:case 5:Oa(c,u,a),a&&n===null&&m&4&&zm(u),xl(u,u.return);break;case 12:Oa(c,u,a);break;case 31:Oa(c,u,a),a&&m&4&&Hm(c,u);break;case 13:Oa(c,u,a),a&&m&4&&qm(c,u);break;case 22:u.memoizedState===null&&Oa(c,u,a),xl(u,u.return);break;case 30:break;default:Oa(c,u,a)}t=t.sibling}}function bc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&al(a))}function vc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e))}function Wt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jm(e,t,a,n),t=t.sibling}function Jm(e,t,a,n){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,n),c&2048&&pl(9,t);break;case 1:Wt(e,t,a,n);break;case 3:Wt(e,t,a,n),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&al(e)));break;case 12:if(c&2048){Wt(e,t,a,n),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,y=u.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Me(t,t.return,j)}}else Wt(e,t,a,n);break;case 31:Wt(e,t,a,n);break;case 13:Wt(e,t,a,n);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Wt(e,t,a,n):gl(e,t):u._visibility&2?Wt(e,t,a,n):(u._visibility|=2,gn(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),c&2048&&bc(m,t);break;case 24:Wt(e,t,a,n),c&2048&&vc(t.alternate,t);break;default:Wt(e,t,a,n)}}function gn(e,t,a,n,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,y=a,j=n,L=m.flags;switch(m.tag){case 0:case 11:case 15:gn(u,m,y,j,c),pl(8,m);break;case 23:break;case 22:var $=m.stateNode;m.memoizedState!==null?$._visibility&2?gn(u,m,y,j,c):gl(u,m):($._visibility|=2,gn(u,m,y,j,c)),c&&L&2048&&bc(m.alternate,m);break;case 24:gn(u,m,y,j,c),c&&L&2048&&vc(m.alternate,m);break;default:gn(u,m,y,j,c)}t=t.sibling}}function gl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,c=n.flags;switch(n.tag){case 22:gl(a,n),c&2048&&bc(n.alternate,n);break;case 24:gl(a,n),c&2048&&vc(n.alternate,n);break;default:gl(a,n)}t=t.sibling}}var yl=8192;function yn(e,t,a){if(e.subtreeFlags&yl)for(e=e.child;e!==null;)Ym(e,t,a),e=e.sibling}function Ym(e,t,a){switch(e.tag){case 26:yn(e,t,a),e.flags&yl&&e.memoizedState!==null&&Ny(a,Pt,e.memoizedState,e.memoizedProps);break;case 5:yn(e,t,a);break;case 3:case 4:var n=Pt;Pt=ti(e.stateNode.containerInfo),yn(e,t,a),Pt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yl,yl=16777216,yn(e,t,a),yl=n):yn(e,t,a));break;default:yn(e,t,a)}}function Gm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];st=n,$m(n,e)}Gm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Xm(e),e=e.sibling}function Xm(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Ka(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qr(e)):bl(e);break;default:bl(e)}}function Qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];st=n,$m(n,e)}Gm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ka(8,t,t.return),Qr(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Qr(t));break;default:Qr(t)}e=e.sibling}}function $m(e,t){for(;st!==null;){var a=st;switch(a.tag){case 0:case 11:case 15:Ka(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:al(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,st=n;else e:for(a=e;st!==null;){n=st;var c=n.sibling,u=n.return;if(Lm(n),n===a){st=null;break e}if(c!==null){c.return=u,st=c;break e}st=u}}}var kg={getCacheForType:function(e){var t=rt(Ke),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return rt(Ke).controller.signal}},Lg=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Be=null,be=null,Ne=0,ze=0,Tt=null,Pa=!1,bn=!1,Nc=!1,za=0,Xe=0,Wa=0,Ds=0,jc=0,Rt=0,vn=0,vl=null,yt=null,wc=!1,Jr=0,Fm=0,Yr=1/0,Gr=null,Ia=null,tt=0,es=null,Nn=null,Ma=0,Sc=0,Cc=null,Zm=null,Nl=0,Ec=null;function Ot(){return(Oe&2)!==0&&Ne!==0?Ne&-Ne:U.T!==null?zc():ud()}function Km(){if(Rt===0)if((Ne&536870912)===0||Se){var e=Il;Il<<=1,(Il&3932160)===0&&(Il=262144),Rt=e}else Rt=536870912;return e=At.current,e!==null&&(e.flags|=32),Rt}function bt(e,t,a){(e===Be&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(jn(e,0),ts(e,Ne,Rt,!1)),Qn(e,a),((Oe&2)===0||e!==Be)&&(e===Be&&((Oe&2)===0&&(Ds|=a),Xe===4&&ts(e,Ne,Rt,!1)),oa(e))}function Pm(e,t,a){if((Oe&6)!==0)throw Error(o(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Vn(e,t),c=n?qg(e,t):_c(e,t,!0),u=n;do{if(c===0){bn&&!n&&ts(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!Bg(a)){c=_c(e,t,!1),u=!1;continue}if(c===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;c=vl;var j=y.current.memoizedState.isDehydrated;if(j&&(jn(y,m).flags|=256),m=_c(y,m,!1),m!==2){if(Nc&&!j){y.errorRecoveryDisabledLanes|=u,Ds|=u,c=4;break e}u=yt,yt=c,u!==null&&(yt===null?yt=u:yt.push.apply(yt,u))}c=m}if(u=!1,c!==2)continue}}if(c===1){jn(e,0),ts(e,t,0,!0);break}e:{switch(n=e,u=c,u){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:ts(n,t,Rt,!Pa);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=Jr+300-dt(),10<c)){if(ts(n,t,Rt,!Pa),tr(n,0,!0)!==0)break e;Ma=t,n.timeoutHandle=_h(Wm.bind(null,n,a,yt,Gr,wc,t,Rt,Ds,vn,Pa,u,"Throttled",-0,0),c);break e}Wm(n,a,yt,Gr,wc,t,Rt,Ds,vn,Pa,u,null,-0,0)}}break}while(!0);oa(e)}function Wm(e,t,a,n,c,u,m,y,j,L,$,Z,H,J){if(e.timeoutHandle=-1,Z=t.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ya},Ym(t,u,Z);var se=(u&62914560)===u?Jr-dt():(u&4194048)===u?Fm-dt():0;if(se=jy(Z,se),se!==null){Ma=u,e.cancelPendingCommit=se(rh.bind(null,e,t,u,a,n,c,m,y,j,$,Z,null,H,J)),ts(e,u,m,!L);return}}rh(e,t,u,a,n,c,m,y,j)}function Bg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var c=a[n],u=c.getSnapshot;c=c.value;try{if(!Ct(u(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ts(e,t,a,n){t&=~jc,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var c=t;0<c;){var u=31-St(c),m=1<<u;n[u]=-1,c&=~m}a!==0&&id(e,a,t)}function Xr(){return(Oe&6)===0?(jl(0),!1):!0}function Ac(){if(be!==null){if(ze===0)var e=be.return;else e=be,ja=Cs=null,Jo(e),fn=null,nl=0,e=be;for(;e!==null;)Tm(e.alternate,e),e=e.return;be=null}}function jn(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,ny(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Ma=0,Ac(),Be=e,be=a=va(e.current,null),Ne=t,ze=0,Tt=null,Pa=!1,bn=Vn(e,t),Nc=!1,vn=Rt=jc=Ds=Wa=Xe=0,yt=vl=null,wc=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var c=31-St(n),u=1<<c;t|=e[c],n&=~u}return za=t,mr(),a}function Im(e,t){he=null,U.H=fl,t===dn||t===Nr?(t=pf(),ze=3):t===Oo?(t=pf(),ze=4):ze=t===lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Tt=t,be===null&&(Xe=1,Ur(e,Ht(t,e.current)))}function eh(){var e=At.current;return e===null?!0:(Ne&4194048)===Ne?Jt===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===Jt:!1}function th(){var e=U.H;return U.H=fl,e===null?fl:e}function ah(){var e=U.A;return U.A=kg,e}function $r(){Xe=4,Pa||(Ne&4194048)!==Ne&&At.current!==null||(bn=!0),(Wa&134217727)===0&&(Ds&134217727)===0||Be===null||ts(Be,Ne,Rt,!1)}function _c(e,t,a){var n=Oe;Oe|=2;var c=th(),u=ah();(Be!==e||Ne!==t)&&(Gr=null,jn(e,t)),t=!1;var m=Xe;e:do try{if(ze!==0&&be!==null){var y=be,j=Tt;switch(ze){case 8:Ac(),m=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(t=!0);var L=ze;if(ze=0,Tt=null,wn(e,y,j,L),a&&bn){m=0;break e}break;default:L=ze,ze=0,Tt=null,wn(e,y,j,L)}}Hg(),m=Xe;break}catch($){Im(e,$)}while(!0);return t&&e.shellSuspendCounter++,ja=Cs=null,Oe=n,U.H=c,U.A=u,be===null&&(Be=null,Ne=0,mr()),m}function Hg(){for(;be!==null;)sh(be)}function qg(e,t){var a=Oe;Oe|=2;var n=th(),c=ah();Be!==e||Ne!==t?(Gr=null,Yr=dt()+500,jn(e,t)):bn=Vn(e,t);e:do try{if(ze!==0&&be!==null){t=be;var u=Tt;t:switch(ze){case 1:ze=0,Tt=null,wn(e,t,u,1);break;case 2:case 9:if(mf(u)){ze=0,Tt=null,nh(t);break}t=function(){ze!==2&&ze!==9||Be!==e||(ze=7),oa(e)},u.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:mf(u)?(ze=0,Tt=null,nh(t)):(ze=0,Tt=null,wn(e,t,u,7));break;case 5:var m=null;switch(be.tag){case 26:m=be.memoizedState;case 5:case 27:var y=be;if(m?Jh(m):y.stateNode.complete){ze=0,Tt=null;var j=y.sibling;if(j!==null)be=j;else{var L=y.return;L!==null?(be=L,Fr(L)):be=null}break t}}ze=0,Tt=null,wn(e,t,u,5);break;case 6:ze=0,Tt=null,wn(e,t,u,6);break;case 8:Ac(),Xe=6;break e;default:throw Error(o(462))}}Vg();break}catch($){Im(e,$)}while(!0);return ja=Cs=null,U.H=n,U.A=c,Oe=a,be!==null?0:(Be=null,Ne=0,mr(),Xe)}function Vg(){for(;be!==null&&!Ut();)sh(be)}function sh(e){var t=Am(e.alternate,e,za);e.memoizedProps=e.pendingProps,t===null?Fr(e):be=t}function nh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Nm(a,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Nm(a,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:Jo(t);default:Tm(a,t),t=be=tf(t,za),t=Am(a,t,za)}e.memoizedProps=e.pendingProps,t===null?Fr(e):be=t}function wn(e,t,a,n){ja=Cs=null,Jo(t),fn=null,nl=0;var c=t.return;try{if(Tg(e,c,t,a,Ne)){Xe=1,Ur(e,Ht(a,e.current)),be=null;return}}catch(u){if(c!==null)throw be=c,u;Xe=1,Ur(e,Ht(a,e.current)),be=null;return}t.flags&32768?(Se||n===1?e=!0:bn||(Ne&536870912)!==0?e=!1:(Pa=e=!0,(n===2||n===9||n===3||n===6)&&(n=At.current,n!==null&&n.tag===13&&(n.flags|=16384))),lh(t,e)):Fr(t)}function Fr(e){var t=e;do{if((t.flags&32768)!==0){lh(t,Pa);return}e=t.return;var a=zg(t.alternate,t,za);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Xe===0&&(Xe=5)}function lh(e,t){do{var a=Mg(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Xe=6,be=null}function rh(e,t,a,n,c,u,m,y,j){e.cancelPendingCommit=null;do Zr();while(tt!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(u=t.lanes|t.childLanes,u|=xo,vx(e,a,u,m,y,j),e===Be&&(be=Be=null,Ne=0),Nn=t,es=e,Ma=a,Sc=u,Cc=c,Zm=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gg(Pl,function(){return dh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=U.T,U.T=null,c=ee.p,ee.p=2,m=Oe,Oe|=4;try{Dg(e,t,a)}finally{Oe=m,ee.p=c,U.T=n}}tt=1,ih(),oh(),ch()}}function ih(){if(tt===1){tt=0;var e=es,t=Nn,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var n=ee.p;ee.p=2;var c=Oe;Oe|=4;try{Vm(t,e);var u=qc,m=Xd(e.containerInfo),y=u.focusedElem,j=u.selectionRange;if(m!==y&&y&&y.ownerDocument&&Gd(y.ownerDocument.documentElement,y)){if(j!==null&&uo(y)){var L=j.start,$=j.end;if($===void 0&&($=L),"selectionStart"in y)y.selectionStart=L,y.selectionEnd=Math.min($,y.value.length);else{var Z=y.ownerDocument||document,H=Z&&Z.defaultView||window;if(H.getSelection){var J=H.getSelection(),se=y.textContent.length,ce=Math.min(j.start,se),ke=j.end===void 0?ce:Math.min(j.end,se);!J.extend&&ce>ke&&(m=ke,ke=ce,ce=m);var z=Yd(y,ce),_=Yd(y,ke);if(z&&_&&(J.rangeCount!==1||J.anchorNode!==z.node||J.anchorOffset!==z.offset||J.focusNode!==_.node||J.focusOffset!==_.offset)){var k=Z.createRange();k.setStart(z.node,z.offset),J.removeAllRanges(),ce>ke?(J.addRange(k),J.extend(_.node,_.offset)):(k.setEnd(_.node,_.offset),J.addRange(k))}}}}for(Z=[],J=y;J=J.parentNode;)J.nodeType===1&&Z.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Z.length;y++){var F=Z[y];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ii=!!Hc,qc=Hc=null}finally{Oe=c,ee.p=n,U.T=a}}e.current=t,tt=2}}function oh(){if(tt===2){tt=0;var e=es,t=Nn,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var n=ee.p;ee.p=2;var c=Oe;Oe|=4;try{km(e,t.alternate,t)}finally{Oe=c,ee.p=n,U.T=a}}tt=3}}function ch(){if(tt===4||tt===3){tt=0,Qi();var e=es,t=Nn,a=Ma,n=Zm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Nn=es=null,uh(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Ia=null),Gi(a),t=t.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(qn,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=U.T,c=ee.p,ee.p=2,U.T=null;try{for(var u=e.onRecoverableError,m=0;m<n.length;m++){var y=n[m];u(y.value,{componentStack:y.stack})}}finally{U.T=t,ee.p=c}}(Ma&3)!==0&&Zr(),oa(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Ec?Nl++:(Nl=0,Ec=e):Nl=0,jl(0)}}function uh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,al(t)))}function Zr(){return ih(),oh(),ch(),dh()}function dh(){if(tt!==5)return!1;var e=es,t=Sc;Sc=0;var a=Gi(Ma),n=U.T,c=ee.p;try{ee.p=32>a?32:a,U.T=null,a=Cc,Cc=null;var u=es,m=Ma;if(tt=0,Nn=es=null,Ma=0,(Oe&6)!==0)throw Error(o(331));var y=Oe;if(Oe|=4,Xm(u.current),Jm(u,u.current,m,a),Oe=y,jl(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(qn,u)}catch{}return!0}finally{ee.p=c,U.T=n,uh(e,t)}}function fh(e,t,a){t=Ht(a,t),t=nc(e.stateNode,t,2),e=$a(e,t,2),e!==null&&(Qn(e,2),oa(e))}function Me(e,t,a){if(e.tag===3)fh(e,e,a);else for(;t!==null;){if(t.tag===3){fh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ia===null||!Ia.has(n))){e=Ht(a,e),a=mm(2),n=$a(t,a,2),n!==null&&(hm(a,n,t,e),Qn(n,2),oa(n));break}}t=t.return}}function Tc(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new Lg;var c=new Set;n.set(t,c)}else c=n.get(t),c===void 0&&(c=new Set,n.set(t,c));c.has(a)||(Nc=!0,c.add(a),e=Qg.bind(null,e,t,a),t.then(e,e))}function Qg(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Be===e&&(Ne&a)===a&&(Xe===4||Xe===3&&(Ne&62914560)===Ne&&300>dt()-Jr?(Oe&2)===0&&jn(e,0):jc|=a,vn===Ne&&(vn=0)),oa(e)}function mh(e,t){t===0&&(t=rd()),e=js(e,t),e!==null&&(Qn(e,t),oa(e))}function Jg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),mh(e,a)}function Yg(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}n!==null&&n.delete(t),mh(e,a)}function Gg(e,t){return Bn(e,t)}var Kr=null,Sn=null,Rc=!1,Pr=!1,Oc=!1,as=0;function oa(e){e!==Sn&&e.next===null&&(Sn===null?Kr=Sn=e:Sn=Sn.next=e),Pr=!0,Rc||(Rc=!0,$g())}function jl(e,t){if(!Oc&&Pr){Oc=!0;do for(var a=!1,n=Kr;n!==null;){if(e!==0){var c=n.pendingLanes;if(c===0)var u=0;else{var m=n.suspendedLanes,y=n.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=c&~(m&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,gh(n,u))}else u=Ne,u=tr(n,n===Be?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(u&3)===0||Vn(n,u)||(a=!0,gh(n,u));n=n.next}while(a);Oc=!1}}function Xg(){hh()}function hh(){Pr=Rc=!1;var e=0;as!==0&&sy()&&(e=as);for(var t=dt(),a=null,n=Kr;n!==null;){var c=n.next,u=ph(n,t);u===0?(n.next=null,a===null?Kr=c:a.next=c,c===null&&(Sn=a)):(a=n,(e!==0||(u&3)!==0)&&(Pr=!0)),n=c}tt!==0&&tt!==5||jl(e),as!==0&&(as=0)}function ph(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,c=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-St(u),y=1<<m,j=c[m];j===-1?((y&a)===0||(y&n)!==0)&&(c[m]=bx(y,t)):j<=t&&(e.expiredLanes|=y),u&=~y}if(t=Be,a=Ne,a=tr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Hn(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Vn(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Hn(n),Gi(a)){case 2:case 8:a=nd;break;case 32:a=Pl;break;case 268435456:a=ld;break;default:a=Pl}return n=xh.bind(null,e),a=Bn(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Hn(n),e.callbackPriority=2,e.callbackNode=null,2}function xh(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Zr()&&e.callbackNode!==a)return null;var n=Ne;return n=tr(e,e===Be?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Pm(e,n,t),ph(e,dt()),e.callbackNode!=null&&e.callbackNode===a?xh.bind(null,e):null)}function gh(e,t){if(Zr())return null;Pm(e,t,!0)}function $g(){ly(function(){(Oe&6)!==0?Bn(sd,Xg):hh()})}function zc(){if(as===0){var e=cn;e===0&&(e=Wl,Wl<<=1,(Wl&261888)===0&&(Wl=256)),as=e}return as}function yh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:lr(""+e)}function bh(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Fg(e,t,a,n,c){if(t==="submit"&&a&&a.stateNode===c){var u=yh((c[mt]||null).action),m=n.submitter;m&&(t=(t=m[mt]||null)?yh(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var y=new cr("action","action",null,n,c);e.push({event:y,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(as!==0){var j=m?bh(c,m):new FormData(c);Wo(a,{pending:!0,data:j,method:c.method,action:u},null,j)}}else typeof u=="function"&&(y.preventDefault(),j=m?bh(c,m):new FormData(c),Wo(a,{pending:!0,data:j,method:c.method,action:u},u,j))},currentTarget:c}]})}}for(var Mc=0;Mc<po.length;Mc++){var Dc=po[Mc],Zg=Dc.toLowerCase(),Kg=Dc[0].toUpperCase()+Dc.slice(1);Kt(Zg,"on"+Kg)}Kt(Zd,"onAnimationEnd"),Kt(Kd,"onAnimationIteration"),Kt(Pd,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt(fg,"onTransitionRun"),Kt(mg,"onTransitionStart"),Kt(hg,"onTransitionCancel"),Kt(Wd,"onTransitionEnd"),Fs("onMouseEnter",["mouseout","mouseover"]),Fs("onMouseLeave",["mouseout","mouseover"]),Fs("onPointerEnter",["pointerout","pointerover"]),Fs("onPointerLeave",["pointerout","pointerover"]),ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ys("onBeforeInput",["compositionend","keypress","textInput","paste"]),ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function vh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],c=n.event;n=n.listeners;e:{var u=void 0;if(t)for(var m=n.length-1;0<=m;m--){var y=n[m],j=y.instance,L=y.currentTarget;if(y=y.listener,j!==u&&c.isPropagationStopped())break e;u=y,c.currentTarget=L;try{u(c)}catch($){fr($)}c.currentTarget=null,u=j}else for(m=0;m<n.length;m++){if(y=n[m],j=y.instance,L=y.currentTarget,y=y.listener,j!==u&&c.isPropagationStopped())break e;u=y,c.currentTarget=L;try{u(c)}catch($){fr($)}c.currentTarget=null,u=j}}}}function ve(e,t){var a=t[Xi];a===void 0&&(a=t[Xi]=new Set);var n=e+"__bubble";a.has(n)||(Nh(t,e,2,!1),a.add(n))}function Uc(e,t,a){var n=0;t&&(n|=4),Nh(a,e,n,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function kc(e){if(!e[Wr]){e[Wr]=!0,md.forEach(function(a){a!=="selectionchange"&&(Pg.has(a)||Uc(a,!1,e),Uc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,Uc("selectionchange",!1,t))}}function Nh(e,t,a,n){switch(Kh(t)){case 2:var c=Cy;break;case 8:c=Ey;break;default:c=Pc}a=c.bind(null,t,a,e),c=void 0,!to||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),n?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function Lc(e,t,a,n,c){var u=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var m=n.tag;if(m===3||m===4){var y=n.stateNode.containerInfo;if(y===c)break;if(m===4)for(m=n.return;m!==null;){var j=m.tag;if((j===3||j===4)&&m.stateNode.containerInfo===c)return;m=m.return}for(;y!==null;){if(m=Gs(y),m===null)return;if(j=m.tag,j===5||j===6||j===26||j===27){n=u=m;continue e}y=y.parentNode}}n=n.return}Cd(function(){var L=u,$=Ii(a),Z=[];e:{var H=Id.get(e);if(H!==void 0){var J=cr,se=e;switch(e){case"keypress":if(ir(a)===0)break e;case"keydown":case"keyup":J=Yx;break;case"focusin":se="focus",J=lo;break;case"focusout":se="blur",J=lo;break;case"beforeblur":case"afterblur":J=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=_d;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=zx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=$x;break;case Zd:case Kd:case Pd:J=Ux;break;case Wd:J=Zx;break;case"scroll":case"scrollend":J=Rx;break;case"wheel":J=Px;break;case"copy":case"cut":case"paste":J=Lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=Rd;break;case"toggle":case"beforetoggle":J=Ix}var ce=(t&4)!==0,ke=!ce&&(e==="scroll"||e==="scrollend"),z=ce?H!==null?H+"Capture":null:H;ce=[];for(var _=L,k;_!==null;){var F=_;if(k=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||k===null||z===null||(F=Gn(_,z),F!=null&&ce.push(Sl(_,F,k))),ke)break;_=_.return}0<ce.length&&(H=new J(H,se,null,a,$),Z.push({event:H,listeners:ce}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",H&&a!==Wi&&(se=a.relatedTarget||a.fromElement)&&(Gs(se)||se[Ys]))break e;if((J||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,J?(se=a.relatedTarget||a.toElement,J=L,se=se?Gs(se):null,se!==null&&(ke=f(se),ce=se.tag,se!==ke||ce!==5&&ce!==27&&ce!==6)&&(se=null)):(J=null,se=L),J!==se)){if(ce=_d,F="onMouseLeave",z="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ce=Rd,F="onPointerLeave",z="onPointerEnter",_="pointer"),ke=J==null?H:Yn(J),k=se==null?H:Yn(se),H=new ce(F,_+"leave",J,a,$),H.target=ke,H.relatedTarget=k,F=null,Gs($)===L&&(ce=new ce(z,_+"enter",se,a,$),ce.target=k,ce.relatedTarget=ke,F=ce),ke=F,J&&se)t:{for(ce=Wg,z=J,_=se,k=0,F=z;F;F=ce(F))k++;F=0;for(var oe=_;oe;oe=ce(oe))F++;for(;0<k-F;)z=ce(z),k--;for(;0<F-k;)_=ce(_),F--;for(;k--;){if(z===_||_!==null&&z===_.alternate){ce=z;break t}z=ce(z),_=ce(_)}ce=null}else ce=null;J!==null&&jh(Z,H,J,ce,!1),se!==null&&ke!==null&&jh(Z,ke,se,ce,!0)}}e:{if(H=L?Yn(L):window,J=H.nodeName&&H.nodeName.toLowerCase(),J==="select"||J==="input"&&H.type==="file")var Te=Bd;else if(kd(H))if(Hd)Te=cg;else{Te=ig;var le=rg}else J=H.nodeName,!J||J.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?L&&Pi(L.elementType)&&(Te=Bd):Te=og;if(Te&&(Te=Te(e,L))){Ld(Z,Te,a,$);break e}le&&le(e,H,L),e==="focusout"&&L&&H.type==="number"&&L.memoizedProps.value!=null&&Ki(H,"number",H.value)}switch(le=L?Yn(L):window,e){case"focusin":(kd(le)||le.contentEditable==="true")&&(en=le,fo=L,In=null);break;case"focusout":In=fo=en=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,$d(Z,a,$);break;case"selectionchange":if(dg)break;case"keydown":case"keyup":$d(Z,a,$)}var xe;if(io)e:{switch(e){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Is?Dd(e,a)&&(je="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Od&&a.locale!=="ko"&&(Is||je!=="onCompositionStart"?je==="onCompositionEnd"&&Is&&(xe=Ed()):(qa=$,ao="value"in qa?qa.value:qa.textContent,Is=!0)),le=Ir(L,je),0<le.length&&(je=new Td(je,e,null,a,$),Z.push({event:je,listeners:le}),xe?je.data=xe:(xe=Ud(a),xe!==null&&(je.data=xe)))),(xe=tg?ag(e,a):sg(e,a))&&(je=Ir(L,"onBeforeInput"),0<je.length&&(le=new Td("onBeforeInput","beforeinput",null,a,$),Z.push({event:le,listeners:je}),le.data=xe)),Fg(Z,e,L,a,$)}vh(Z,t)})}function Sl(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ir(e,t){for(var a=t+"Capture",n=[];e!==null;){var c=e,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Gn(e,a),c!=null&&n.unshift(Sl(e,c,u)),c=Gn(e,t),c!=null&&n.push(Sl(e,c,u))),e.tag===3)return n;e=e.return}return[]}function Wg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function jh(e,t,a,n,c){for(var u=t._reactName,m=[];a!==null&&a!==n;){var y=a,j=y.alternate,L=y.stateNode;if(y=y.tag,j!==null&&j===n)break;y!==5&&y!==26&&y!==27||L===null||(j=L,c?(L=Gn(a,u),L!=null&&m.unshift(Sl(a,L,j))):c||(L=Gn(a,u),L!=null&&m.push(Sl(a,L,j)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var Ig=/\r\n?/g,ey=/\u0000|\uFFFD/g;function wh(e){return(typeof e=="string"?e:""+e).replace(Ig,`
`).replace(ey,"")}function Sh(e,t){return t=wh(t),wh(e)===t}function Ue(e,t,a,n,c,u){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ks(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ks(e,""+n);break;case"className":sr(e,"class",n);break;case"tabIndex":sr(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":sr(e,a,n);break;case"style":wd(e,n,u);break;case"data":if(t!=="object"){sr(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=lr(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&Ue(e,t,"name",c.name,c,null),Ue(e,t,"formEncType",c.formEncType,c,null),Ue(e,t,"formMethod",c.formMethod,c,null),Ue(e,t,"formTarget",c.formTarget,c,null)):(Ue(e,t,"encType",c.encType,c,null),Ue(e,t,"method",c.method,c,null),Ue(e,t,"target",c.target,c,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=lr(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=ya);break;case"onScroll":n!=null&&ve("scroll",e);break;case"onScrollEnd":n!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=lr(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":ve("beforetoggle",e),ve("toggle",e),ar(e,"popover",n);break;case"xlinkActuate":ga(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ga(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ga(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ga(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ga(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ga(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ga(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ga(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ga(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":ar(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_x.get(a)||a,ar(e,a,n))}}function Bc(e,t,a,n,c,u){switch(a){case"style":wd(e,n,u);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(o(61));if(a=n.__html,a!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Ks(e,n):(typeof n=="number"||typeof n=="bigint")&&Ks(e,""+n);break;case"onScroll":n!=null&&ve("scroll",e);break;case"onScrollEnd":n!=null&&ve("scrollend",e);break;case"onClick":n!=null&&(e.onclick=ya);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),u=e[mt]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,c),typeof n=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,c);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):ar(e,a,n)}}}function ot(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var n=!1,c=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":n=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,u,m,a,null)}}c&&Ue(e,t,"srcSet",a.srcSet,a,null),n&&Ue(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var y=u=m=c=null,j=null,L=null;for(n in a)if(a.hasOwnProperty(n)){var $=a[n];if($!=null)switch(n){case"name":c=$;break;case"type":m=$;break;case"checked":j=$;break;case"defaultChecked":L=$;break;case"value":u=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,t));break;default:Ue(e,t,n,$,a,null)}}bd(e,u,y,j,L,m,c,!1);return;case"select":ve("invalid",e),n=m=u=null;for(c in a)if(a.hasOwnProperty(c)&&(y=a[c],y!=null))switch(c){case"value":u=y;break;case"defaultValue":m=y;break;case"multiple":n=y;default:Ue(e,t,c,y,a,null)}t=u,a=m,e.multiple=!!n,t!=null?Zs(e,!!n,t,!1):a!=null&&Zs(e,!!n,a,!0);return;case"textarea":ve("invalid",e),u=c=n=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":n=y;break;case"defaultValue":c=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(o(91));break;default:Ue(e,t,m,y,a,null)}Nd(e,n,c,u);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(n=a[j],n!=null))switch(j){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Ue(e,t,j,n,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(n=0;n<wl.length;n++)ve(wl[n],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(n=a[L],n!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,L,n,a,null)}return;default:if(Pi(t)){for($ in a)a.hasOwnProperty($)&&(n=a[$],n!==void 0&&Bc(e,t,$,n,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(n=a[y],n!=null&&Ue(e,t,y,n,a,null))}function ty(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,m=null,y=null,j=null,L=null,$=null;for(J in a){var Z=a[J];if(a.hasOwnProperty(J)&&Z!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=Z;default:n.hasOwnProperty(J)||Ue(e,t,J,null,n,Z)}}for(var H in n){var J=n[H];if(Z=a[H],n.hasOwnProperty(H)&&(J!=null||Z!=null))switch(H){case"type":u=J;break;case"name":c=J;break;case"checked":L=J;break;case"defaultChecked":$=J;break;case"value":m=J;break;case"defaultValue":y=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(o(137,t));break;default:J!==Z&&Ue(e,t,H,J,n,Z)}}Zi(e,m,y,j,L,$,u,c);return;case"select":J=m=y=H=null;for(u in a)if(j=a[u],a.hasOwnProperty(u)&&j!=null)switch(u){case"value":break;case"multiple":J=j;default:n.hasOwnProperty(u)||Ue(e,t,u,null,n,j)}for(c in n)if(u=n[c],j=a[c],n.hasOwnProperty(c)&&(u!=null||j!=null))switch(c){case"value":H=u;break;case"defaultValue":y=u;break;case"multiple":m=u;default:u!==j&&Ue(e,t,c,u,n,j)}t=y,a=m,n=J,H!=null?Zs(e,!!a,H,!1):!!n!=!!a&&(t!=null?Zs(e,!!a,t,!0):Zs(e,!!a,a?[]:"",!1));return;case"textarea":J=H=null;for(y in a)if(c=a[y],a.hasOwnProperty(y)&&c!=null&&!n.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Ue(e,t,y,null,n,c)}for(m in n)if(c=n[m],u=a[m],n.hasOwnProperty(m)&&(c!=null||u!=null))switch(m){case"value":H=c;break;case"defaultValue":J=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==u&&Ue(e,t,m,c,n,u)}vd(e,H,J);return;case"option":for(var se in a)if(H=a[se],a.hasOwnProperty(se)&&H!=null&&!n.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Ue(e,t,se,null,n,H)}for(j in n)if(H=n[j],J=a[j],n.hasOwnProperty(j)&&H!==J&&(H!=null||J!=null))switch(j){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ue(e,t,j,H,n,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in a)H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!n.hasOwnProperty(ce)&&Ue(e,t,ce,null,n,H);for(L in n)if(H=n[L],J=a[L],n.hasOwnProperty(L)&&H!==J&&(H!=null||J!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(o(137,t));break;default:Ue(e,t,L,H,n,J)}return;default:if(Pi(t)){for(var ke in a)H=a[ke],a.hasOwnProperty(ke)&&H!==void 0&&!n.hasOwnProperty(ke)&&Bc(e,t,ke,void 0,n,H);for($ in n)H=n[$],J=a[$],!n.hasOwnProperty($)||H===J||H===void 0&&J===void 0||Bc(e,t,$,H,n,J);return}}for(var z in a)H=a[z],a.hasOwnProperty(z)&&H!=null&&!n.hasOwnProperty(z)&&Ue(e,t,z,null,n,H);for(Z in n)H=n[Z],J=a[Z],!n.hasOwnProperty(Z)||H===J||H==null&&J==null||Ue(e,t,Z,H,n,J)}function Ch(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ay(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var c=a[n],u=c.transferSize,m=c.initiatorType,y=c.duration;if(u&&y&&Ch(m)){for(m=0,y=c.responseEnd,n+=1;n<a.length;n++){var j=a[n],L=j.startTime;if(L>y)break;var $=j.transferSize,Z=j.initiatorType;$&&Ch(Z)&&(j=j.responseEnd,m+=$*(j<y?1:(y-L)/(j-L)))}if(--n,t+=8*(u+m)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hc=null,qc=null;function ei(e){return e.nodeType===9?e:e.ownerDocument}function Eh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ah(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qc=null;function sy(){var e=window.event;return e&&e.type==="popstate"?e===Qc?!1:(Qc=e,!0):(Qc=null,!1)}var _h=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,Th=typeof Promise=="function"?Promise:void 0,ly=typeof queueMicrotask=="function"?queueMicrotask:typeof Th<"u"?function(e){return Th.resolve(null).then(e).catch(ry)}:_h;function ry(e){setTimeout(function(){throw e})}function ss(e){return e==="head"}function Rh(e,t){var a=t,n=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(c),_n(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Cl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Cl(a);for(var u=a.firstChild;u;){var m=u.nextSibling,y=u.nodeName;u[Jn]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&Cl(e.ownerDocument.body);a=c}while(a);_n(t)}function Oh(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jc(a),$i(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function iy(e,t,a,n){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Jn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function oy(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function zh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Yc(e){return e.data==="$?"||e.data==="$~"}function Gc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cy(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xc=null;function Mh(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Yt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Dh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Uh(e,t,a){switch(t=ei(a),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Cl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$i(e)}var Gt=new Map,kh=new Set;function ti(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Da=ee.d;ee.d={f:uy,r:dy,D:fy,C:my,L:hy,m:py,X:gy,S:xy,M:yy};function uy(){var e=Da.f(),t=Xr();return e||t}function dy(e){var t=Xs(e);t!==null&&t.tag===5&&t.type==="form"?If(t):Da.r(e)}var Cn=typeof document>"u"?null:document;function Lh(e,t,a){var n=Cn;if(n&&typeof t=="string"&&t){var c=Lt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),kh.has(c)||(kh.add(c),e={rel:e,crossOrigin:a,href:t},n.querySelector(c)===null&&(t=n.createElement("link"),ot(t,"link",e),at(t),n.head.appendChild(t)))}}function fy(e){Da.D(e),Lh("dns-prefetch",e,null)}function my(e,t){Da.C(e,t),Lh("preconnect",e,t)}function hy(e,t,a){Da.L(e,t,a);var n=Cn;if(n&&e&&t){var c='link[rel="preload"][as="'+Lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Lt(a.imageSizes)+'"]')):c+='[href="'+Lt(e)+'"]';var u=c;switch(t){case"style":u=En(e);break;case"script":u=An(e)}Gt.has(u)||(e=v({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Gt.set(u,e),n.querySelector(c)!==null||t==="style"&&n.querySelector(El(u))||t==="script"&&n.querySelector(Al(u))||(t=n.createElement("link"),ot(t,"link",e),at(t),n.head.appendChild(t)))}}function py(e,t){Da.m(e,t);var a=Cn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Lt(n)+'"][href="'+Lt(e)+'"]',u=c;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=An(e)}if(!Gt.has(u)&&(e=v({rel:"modulepreload",href:e},t),Gt.set(u,e),a.querySelector(c)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(u)))return}n=a.createElement("link"),ot(n,"link",e),at(n),a.head.appendChild(n)}}}function xy(e,t,a){Da.S(e,t,a);var n=Cn;if(n&&e){var c=$s(n).hoistableStyles,u=En(e);t=t||"default";var m=c.get(u);if(!m){var y={loading:0,preload:null};if(m=n.querySelector(El(u)))y.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Gt.get(u))&&$c(e,a);var j=m=n.createElement("link");at(j),ot(j,"link",e),j._p=new Promise(function(L,$){j.onload=L,j.onerror=$}),j.addEventListener("load",function(){y.loading|=1}),j.addEventListener("error",function(){y.loading|=2}),y.loading|=4,ai(m,t,n)}m={type:"stylesheet",instance:m,count:1,state:y},c.set(u,m)}}}function gy(e,t){Da.X(e,t);var a=Cn;if(a&&e){var n=$s(a).hoistableScripts,c=An(e),u=n.get(c);u||(u=a.querySelector(Al(c)),u||(e=v({src:e,async:!0},t),(t=Gt.get(c))&&Fc(e,t),u=a.createElement("script"),at(u),ot(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(c,u))}}function yy(e,t){Da.M(e,t);var a=Cn;if(a&&e){var n=$s(a).hoistableScripts,c=An(e),u=n.get(c);u||(u=a.querySelector(Al(c)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Gt.get(c))&&Fc(e,t),u=a.createElement("script"),at(u),ot(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},n.set(c,u))}}function Bh(e,t,a,n){var c=(c=ae.current)?ti(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=En(a.href),a=$s(c).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=En(a.href);var u=$s(c).hoistableStyles,m=u.get(e);if(m||(c=c.ownerDocument||c,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=c.querySelector(El(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Gt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gt.set(e,a),u||by(c,e,a,m.state))),t&&n===null)throw Error(o(528,""));return m}if(t&&n!==null)throw Error(o(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=An(a),a=$s(c).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function En(e){return'href="'+Lt(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function Hh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function by(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),ot(t,"link",a),at(t),e.head.appendChild(t))}function An(e){return'[src="'+Lt(e)+'"]'}function Al(e){return"script[async]"+e}function qh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Lt(a.href)+'"]');if(n)return t.instance=n,at(n),n;var c=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),at(n),ot(n,"style",c),ai(n,a.precedence,e),t.instance=n;case"stylesheet":c=En(a.href);var u=e.querySelector(El(c));if(u)return t.state.loading|=4,t.instance=u,at(u),u;n=Hh(a),(c=Gt.get(c))&&$c(n,c),u=(e.ownerDocument||e).createElement("link"),at(u);var m=u;return m._p=new Promise(function(y,j){m.onload=y,m.onerror=j}),ot(u,"link",n),t.state.loading|=4,ai(u,a.precedence,e),t.instance=u;case"script":return u=An(a.src),(c=e.querySelector(Al(u)))?(t.instance=c,at(c),c):(n=a,(c=Gt.get(u))&&(n=v({},a),Fc(n,c)),e=e.ownerDocument||e,c=e.createElement("script"),at(c),ot(c,"link",n),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,ai(n,a.precedence,e));return t.instance}function ai(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=n.length?n[n.length-1]:null,u=c,m=0;m<n.length;m++){var y=n[m];if(y.dataset.precedence===t)u=y;else if(u!==c)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function $c(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Fc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var si=null;function Vh(e,t,a){if(si===null){var n=new Map,c=si=new Map;c.set(a,n)}else c=si,n=c.get(a),n||(n=new Map,c.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var u=a[c];if(!(u[Jn]||u[nt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var y=n.get(m);y?y.push(u):n.set(m,[u])}}return n}function Qh(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function vy(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Jh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ny(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=En(n.href),u=t.querySelector(El(c));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ni.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,at(u);return}u=t.ownerDocument||t,n=Hh(n),(c=Gt.get(c))&&$c(n,c),u=u.createElement("link"),at(u);var m=u;m._p=new Promise(function(y,j){m.onload=y,m.onerror=j}),ot(u,"link",n),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=ni.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Zc=0;function jy(e,t){return e.stylesheets&&e.count===0&&ri(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&ri(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Zc===0&&(Zc=62500*ay());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ri(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Zc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(c)}}:null}function ni(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ri(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var li=null;function ri(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,li=new Map,t.forEach(wy,e),li=null,ni.call(e))}function wy(e,t){if(!(t.state.loading&4)){var a=li.get(e);if(a)var n=a.get(null);else{a=new Map,li.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var m=c[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),n=m)}n&&a.set(null,n)}c=t.instance,m=c.getAttribute("data-precedence"),u=a.get(m)||n,u===n&&a.set(null,c),a.set(m,c),this.count++,n=ni.bind(this),c.addEventListener("load",n),c.addEventListener("error",n),u?u.parentNode.insertBefore(c,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var _l={$$typeof:S,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Sy(e,t,a,n,c,u,m,y,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=n,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function Yh(e,t,a,n,c,u,m,y,j,L,$,Z){return e=new Sy(e,t,a,m,j,L,$,Z,y),t=1,u===!0&&(t|=24),u=Et(3,null,null,t),e.current=u,u.stateNode=e,t=_o(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:n,isDehydrated:a,cache:t},zo(u),e}function Gh(e){return e?(e=sn,e):sn}function Xh(e,t,a,n,c,u){c=Gh(c),n.context===null?n.context=c:n.pendingContext=c,n=Xa(t),n.payload={element:a},u=u===void 0?null:u,u!==null&&(n.callback=u),a=$a(e,n,t),a!==null&&(bt(a,e,t),rl(a,e,t))}function $h(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Kc(e,t){$h(e,t),(e=e.alternate)&&$h(e,t)}function Fh(e){if(e.tag===13||e.tag===31){var t=js(e,67108864);t!==null&&bt(t,e,67108864),Kc(e,67108864)}}function Zh(e){if(e.tag===13||e.tag===31){var t=Ot();t=Yi(t);var a=js(e,t);a!==null&&bt(a,e,t),Kc(e,t)}}var ii=!0;function Cy(e,t,a,n){var c=U.T;U.T=null;var u=ee.p;try{ee.p=2,Pc(e,t,a,n)}finally{ee.p=u,U.T=c}}function Ey(e,t,a,n){var c=U.T;U.T=null;var u=ee.p;try{ee.p=8,Pc(e,t,a,n)}finally{ee.p=u,U.T=c}}function Pc(e,t,a,n){if(ii){var c=Wc(n);if(c===null)Lc(e,t,n,oi,a),Ph(e,n);else if(_y(c,e,t,a,n))n.stopPropagation();else if(Ph(e,n),t&4&&-1<Ay.indexOf(e)){for(;c!==null;){var u=Xs(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=gs(u.pendingLanes);if(m!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var j=1<<31-St(m);y.entanglements[1]|=j,m&=~j}oa(u),(Oe&6)===0&&(Yr=dt()+500,jl(0))}}break;case 31:case 13:y=js(u,2),y!==null&&bt(y,u,2),Xr(),Kc(u,2)}if(u=Wc(n),u===null&&Lc(e,t,n,oi,a),u===c)break;c=u}c!==null&&n.stopPropagation()}else Lc(e,t,n,null,a)}}function Wc(e){return e=Ii(e),Ic(e)}var oi=null;function Ic(e){if(oi=null,e=Gs(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=p(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return oi=e,null}function Kh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(fx()){case sd:return 2;case nd:return 8;case Pl:case mx:return 32;case ld:return 268435456;default:return 32}default:return 32}}var eu=!1,ns=null,ls=null,rs=null,Tl=new Map,Rl=new Map,is=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ph(e,t){switch(e){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":rs=null;break;case"pointerover":case"pointerout":Tl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(t.pointerId)}}function Ol(e,t,a,n,c,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:u,targetContainers:[c]},t!==null&&(t=Xs(t),t!==null&&Fh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function _y(e,t,a,n,c){switch(t){case"focusin":return ns=Ol(ns,e,t,a,n,c),!0;case"dragenter":return ls=Ol(ls,e,t,a,n,c),!0;case"mouseover":return rs=Ol(rs,e,t,a,n,c),!0;case"pointerover":var u=c.pointerId;return Tl.set(u,Ol(Tl.get(u)||null,e,t,a,n,c)),!0;case"gotpointercapture":return u=c.pointerId,Rl.set(u,Ol(Rl.get(u)||null,e,t,a,n,c)),!0}return!1}function Wh(e){var t=Gs(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,dd(e.priority,function(){Zh(a)});return}}else if(t===31){if(t=p(a),t!==null){e.blockedOn=t,dd(e.priority,function(){Zh(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Wc(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Wi=n,a.target.dispatchEvent(n),Wi=null}else return t=Xs(a),t!==null&&Fh(t),e.blockedOn=a,!1;t.shift()}return!0}function Ih(e,t,a){ci(e)&&a.delete(t)}function Ty(){eu=!1,ns!==null&&ci(ns)&&(ns=null),ls!==null&&ci(ls)&&(ls=null),rs!==null&&ci(rs)&&(rs=null),Tl.forEach(Ih),Rl.forEach(Ih)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,eu||(eu=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Ty)))}var di=null;function ep(e){di!==e&&(di=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){di===e&&(di=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],c=e[t+2];if(typeof n!="function"){if(Ic(n||a)===null)continue;break}var u=Xs(a);u!==null&&(e.splice(t,3),t-=3,Wo(u,{pending:!0,data:c,method:a.method,action:n},n,c))}}))}function _n(e){function t(j){return ui(j,e)}ns!==null&&ui(ns,e),ls!==null&&ui(ls,e),rs!==null&&ui(rs,e),Tl.forEach(t),Rl.forEach(t);for(var a=0;a<is.length;a++){var n=is[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var c=a[n],u=a[n+1],m=c[mt]||null;if(typeof u=="function")m||ep(a);else if(m){var y=null;if(u&&u.hasAttribute("formAction")){if(c=u,m=u[mt]||null)y=m.formAction;else if(Ic(c)!==null)continue}else y=m.action;typeof y=="function"?a[n+1]=y:(a.splice(n,3),n-=3),ep(a)}}}function tp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return c=m})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function tu(e){this._internalRoot=e}fi.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var a=t.current,n=Ot();Xh(a,n,e,t,null,null)},fi.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),Xr(),t[Ys]=null}};function fi(e){this._internalRoot=e}fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ud();e={blockedOn:null,target:e,priority:t};for(var a=0;a<is.length&&t!==0&&t<is[a].priority;a++);is.splice(a,0,e),a===0&&Wh(e)}};var ap=r.version;if(ap!=="19.2.0")throw Error(o(527,ap,"19.2.0"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Ry={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mi.isDisabled&&mi.supportsFiber)try{qn=mi.inject(Ry),wt=mi}catch{}}return Ml.createRoot=function(e,t){if(!d(e))throw Error(o(299));var a=!1,n="",c=cm,u=um,m=dm;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=Yh(e,1,!1,null,null,a,n,null,c,u,m,tp),e[Ys]=t.current,kc(e),new tu(t)},Ml.hydrateRoot=function(e,t,a){if(!d(e))throw Error(o(299));var n=!1,c="",u=cm,m=um,y=dm,j=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),t=Yh(e,1,!0,t,a??null,n,c,j,u,m,y,tp),t.context=Gh(null),a=t.current,n=Ot(),n=Yi(n),c=Xa(n),c.callback=null,$a(a,c,n),a=n,t.current.lanes=a,Qn(t,a),oa(t),e[Ys]=t.current,kc(e),new fi(t)},Ml.version="19.2.0",Ml}var fp;function Qy(){if(fp)return nu.exports;fp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),nu.exports=Vy(),nu.exports}var Jy=Qy();var mp="popstate";function Yy(l={}){function r(o,d){let{pathname:f,search:h,hash:p}=o.location;return yu("",{pathname:f,search:h,hash:p},d.state&&d.state.usr||null,d.state&&d.state.key||"default")}function i(o,d){return typeof d=="string"?d:Hl(d)}return Xy(r,i,null,l)}function Je(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Ft(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Gy(){return Math.random().toString(36).substring(2,10)}function hp(l,r){return{usr:l.state,key:l.key,idx:r}}function yu(l,r,i=null,o){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?zn(r):r,state:i,key:r&&r.key||o||Gy()}}function Hl({pathname:l="/",search:r="",hash:i=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function zn(l){let r={};if(l){let i=l.indexOf("#");i>=0&&(r.hash=l.substring(i),l=l.substring(0,i));let o=l.indexOf("?");o>=0&&(r.search=l.substring(o),l=l.substring(0,o)),l&&(r.pathname=l)}return r}function Xy(l,r,i,o={}){let{window:d=document.defaultView,v5Compat:f=!1}=o,h=d.history,p="POP",x=null,g=b();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function b(){return(h.state||{idx:null}).idx}function v(){p="POP";let R=b(),V=R==null?null:R-g;g=R,x&&x({action:p,location:O.location,delta:V})}function E(R,V){p="PUSH";let M=yu(O.location,R,V);g=b()+1;let S=hp(M,g),G=O.createHref(M);try{h.pushState(S,"",G)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;d.location.assign(G)}f&&x&&x({action:p,location:O.location,delta:1})}function B(R,V){p="REPLACE";let M=yu(O.location,R,V);g=b();let S=hp(M,g),G=O.createHref(M);h.replaceState(S,"",G),f&&x&&x({action:p,location:O.location,delta:0})}function w(R){return $y(R)}let O={get action(){return p},get location(){return l(d,h)},listen(R){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(mp,v),x=R,()=>{d.removeEventListener(mp,v),x=null}},createHref(R){return r(d,R)},createURL:w,encodeLocation(R){let V=w(R);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:E,replace:B,go(R){return h.go(R)}};return O}function $y(l,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Je(i,"No window.location.(origin|href) available to create URL");let o=typeof l=="string"?l:Hl(l);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Xp(l,r,i="/"){return Fy(l,r,i,!1)}function Fy(l,r,i,o){let d=typeof r=="string"?zn(r):r,f=La(d.pathname||"/",i);if(f==null)return null;let h=$p(l);Zy(h);let p=null;for(let x=0;p==null&&x<h.length;++x){let g=rb(f);p=nb(h[x],g,o)}return p}function $p(l,r=[],i=[],o="",d=!1){let f=(h,p,x=d,g)=>{let b={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(o)&&x)return;Je(b.relativePath.startsWith(o),`Absolute route path "${b.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(o.length)}let v=ka([o,b.relativePath]),E=i.concat(b);h.children&&h.children.length>0&&(Je(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),$p(h.children,r,E,v,x)),!(h.path==null&&!h.index)&&r.push({path:v,score:ab(v,h.index),routesMeta:E})};return l.forEach((h,p)=>{if(h.path===""||!h.path?.includes("?"))f(h,p);else for(let x of Fp(h.path))f(h,p,!0,x)}),r}function Fp(l){let r=l.split("/");if(r.length===0)return[];let[i,...o]=r,d=i.endsWith("?"),f=i.replace(/\?$/,"");if(o.length===0)return d?[f,""]:[f];let h=Fp(o.join("/")),p=[];return p.push(...h.map(x=>x===""?f:[f,x].join("/"))),d&&p.push(...h),p.map(x=>l.startsWith("/")&&x===""?"/":x)}function Zy(l){l.sort((r,i)=>r.score!==i.score?i.score-r.score:sb(r.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Ky=/^:[\w-]+$/,Py=3,Wy=2,Iy=1,eb=10,tb=-2,pp=l=>l==="*";function ab(l,r){let i=l.split("/"),o=i.length;return i.some(pp)&&(o+=tb),r&&(o+=Wy),i.filter(d=>!pp(d)).reduce((d,f)=>d+(Ky.test(f)?Py:f===""?Iy:eb),o)}function sb(l,r){return l.length===r.length&&l.slice(0,-1).every((o,d)=>o===r[d])?l[l.length-1]-r[r.length-1]:0}function nb(l,r,i=!1){let{routesMeta:o}=l,d={},f="/",h=[];for(let p=0;p<o.length;++p){let x=o[p],g=p===o.length-1,b=f==="/"?r:r.slice(f.length)||"/",v=Ai({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},b),E=x.route;if(!v&&g&&i&&!o[o.length-1].route.index&&(v=Ai({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},b)),!v)return null;Object.assign(d,v.params),h.push({params:d,pathname:ka([f,v.pathname]),pathnameBase:db(ka([f,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(f=ka([f,v.pathnameBase]))}return h}function Ai(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,o]=lb(l.path,l.caseSensitive,l.end),d=r.match(i);if(!d)return null;let f=d[0],h=f.replace(/(.)\/+$/,"$1"),p=d.slice(1);return{params:o.reduce((g,{paramName:b,isOptional:v},E)=>{if(b==="*"){let w=p[E]||"";h=f.slice(0,f.length-w.length).replace(/(.)\/+$/,"$1")}const B=p[E];return v&&!B?g[b]=void 0:g[b]=(B||"").replace(/%2F/g,"/"),g},{}),pathname:f,pathnameBase:h,pattern:l}}function lb(l,r=!1,i=!0){Ft(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let o=[],d="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,p,x)=>(o.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(o.push({paramName:"*"}),d+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?d+="\\/*$":l!==""&&l!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,r?void 0:"i"),o]}function rb(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Ft(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function La(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,o=l.charAt(i);return o&&o!=="/"?null:l.slice(i)||"/"}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ob=l=>ib.test(l);function cb(l,r="/"){let{pathname:i,search:o="",hash:d=""}=typeof l=="string"?zn(l):l,f;if(i)if(ob(i))f=i;else{if(i.includes("//")){let h=i;i=i.replace(/\/\/+/g,"/"),Ft(!1,`Pathnames cannot have embedded double slashes - normalizing ${h} -> ${i}`)}i.startsWith("/")?f=xp(i.substring(1),"/"):f=xp(i,r)}else f=r;return{pathname:f,search:fb(o),hash:mb(d)}}function xp(l,r){let i=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(d=>{d===".."?i.length>1&&i.pop():d!=="."&&i.push(d)}),i.length>1?i.join("/"):"/"}function ou(l,r,i,o){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ub(l){return l.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Bu(l){let r=ub(l);return r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase)}function Hu(l,r,i,o=!1){let d;typeof l=="string"?d=zn(l):(d={...l},Je(!d.pathname||!d.pathname.includes("?"),ou("?","pathname","search",d)),Je(!d.pathname||!d.pathname.includes("#"),ou("#","pathname","hash",d)),Je(!d.search||!d.search.includes("#"),ou("#","search","hash",d)));let f=l===""||d.pathname==="",h=f?"/":d.pathname,p;if(h==null)p=i;else{let v=r.length-1;if(!o&&h.startsWith("..")){let E=h.split("/");for(;E[0]==="..";)E.shift(),v-=1;d.pathname=E.join("/")}p=v>=0?r[v]:"/"}let x=cb(d,p),g=h&&h!=="/"&&h.endsWith("/"),b=(f||h===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(g||b)&&(x.pathname+="/"),x}var ka=l=>l.join("/").replace(/\/\/+/g,"/"),db=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),fb=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,mb=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function hb(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zp=["POST","PUT","PATCH","DELETE"];new Set(Zp);var pb=["GET",...Zp];new Set(pb);var Mn=N.createContext(null);Mn.displayName="DataRouter";var Ri=N.createContext(null);Ri.displayName="DataRouterState";N.createContext(!1);var Kp=N.createContext({isTransitioning:!1});Kp.displayName="ViewTransition";var xb=N.createContext(new Map);xb.displayName="Fetchers";var gb=N.createContext(null);gb.displayName="Await";var aa=N.createContext(null);aa.displayName="Navigation";var Ql=N.createContext(null);Ql.displayName="Location";var ha=N.createContext({outlet:null,matches:[],isDataRoute:!1});ha.displayName="Route";var qu=N.createContext(null);qu.displayName="RouteError";function yb(l,{relative:r}={}){Je(Dn(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=N.useContext(aa),{hash:d,pathname:f,search:h}=Yl(l,{relative:r}),p=f;return i!=="/"&&(p=f==="/"?i:ka([i,f])),o.createHref({pathname:p,search:h,hash:d})}function Dn(){return N.useContext(Ql)!=null}function pa(){return Je(Dn(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Ql).location}var Pp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Wp(l){N.useContext(aa).static||N.useLayoutEffect(l)}function Jl(){let{isDataRoute:l}=N.useContext(ha);return l?Ob():bb()}function bb(){Je(Dn(),"useNavigate() may be used only in the context of a <Router> component.");let l=N.useContext(Mn),{basename:r,navigator:i}=N.useContext(aa),{matches:o}=N.useContext(ha),{pathname:d}=pa(),f=JSON.stringify(Bu(o)),h=N.useRef(!1);return Wp(()=>{h.current=!0}),N.useCallback((x,g={})=>{if(Ft(h.current,Pp),!h.current)return;if(typeof x=="number"){i.go(x);return}let b=Hu(x,JSON.parse(f),d,g.relative==="path");l==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:ka([r,b.pathname])),(g.replace?i.replace:i.push)(b,g.state,g)},[r,i,f,d,l])}N.createContext(null);function Yl(l,{relative:r}={}){let{matches:i}=N.useContext(ha),{pathname:o}=pa(),d=JSON.stringify(Bu(i));return N.useMemo(()=>Hu(l,JSON.parse(d),o,r==="path"),[l,d,o,r])}function vb(l,r){return Ip(l,r)}function Ip(l,r,i,o,d){Je(Dn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=N.useContext(aa),{matches:h}=N.useContext(ha),p=h[h.length-1],x=p?p.params:{},g=p?p.pathname:"/",b=p?p.pathnameBase:"/",v=p&&p.route;{let M=v&&v.path||"";e0(g,!v||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let E=pa(),B;if(r){let M=typeof r=="string"?zn(r):r;Je(b==="/"||M.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${M.pathname}" was given in the \`location\` prop.`),B=M}else B=E;let w=B.pathname||"/",O=w;if(b!=="/"){let M=b.replace(/^\//,"").split("/");O="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let R=Xp(l,{pathname:O});Ft(v||R!=null,`No routes matched location "${B.pathname}${B.search}${B.hash}" `),Ft(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${B.pathname}${B.search}${B.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=Cb(R&&R.map(M=>Object.assign({},M,{params:Object.assign({},x,M.params),pathname:ka([b,f.encodeLocation?f.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?b:ka([b,f.encodeLocation?f.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),h,i,o,d);return r&&V?N.createElement(Ql.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...B},navigationType:"POP"}},V):V}function Nb(){let l=Rb(),r=hb(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",l),h=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:f},"ErrorBoundary")," or"," ",N.createElement("code",{style:f},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),i?N.createElement("pre",{style:d},i):null,h)}var jb=N.createElement(Nb,null),wb=class extends N.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError?this.props.onError(l,r):console.error("React Router caught the following error during render",l)}render(){return this.state.error!==void 0?N.createElement(ha.Provider,{value:this.props.routeContext},N.createElement(qu.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sb({routeContext:l,match:r,children:i}){let o=N.useContext(Mn);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(ha.Provider,{value:l},i)}function Cb(l,r=[],i=null,o=null,d=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let f=l,h=i?.errors;if(h!=null){let b=f.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);Je(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,b+1))}let p=!1,x=-1;if(i)for(let b=0;b<f.length;b++){let v=f[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(x=b),v.route.id){let{loaderData:E,errors:B}=i,w=v.route.loader&&!E.hasOwnProperty(v.route.id)&&(!B||B[v.route.id]===void 0);if(v.route.lazy||w){p=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let g=i&&o?(b,v)=>{o(b,{location:i.location,params:i.matches?.[0]?.params??{},errorInfo:v})}:void 0;return f.reduceRight((b,v,E)=>{let B,w=!1,O=null,R=null;i&&(B=h&&v.route.id?h[v.route.id]:void 0,O=v.route.errorElement||jb,p&&(x<0&&E===0?(e0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,R=null):x===E&&(w=!0,R=v.route.hydrateFallbackElement||null)));let V=r.concat(f.slice(0,E+1)),M=()=>{let S;return B?S=O:w?S=R:v.route.Component?S=N.createElement(v.route.Component,null):v.route.element?S=v.route.element:S=b,N.createElement(Sb,{match:v,routeContext:{outlet:b,matches:V,isDataRoute:i!=null},children:S})};return i&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?N.createElement(wb,{location:i.location,revalidation:i.revalidation,component:O,error:B,children:M(),routeContext:{outlet:null,matches:V,isDataRoute:!0},onError:g}):M()},null)}function Vu(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Eb(l){let r=N.useContext(Mn);return Je(r,Vu(l)),r}function Ab(l){let r=N.useContext(Ri);return Je(r,Vu(l)),r}function _b(l){let r=N.useContext(ha);return Je(r,Vu(l)),r}function Qu(l){let r=_b(l),i=r.matches[r.matches.length-1];return Je(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function Tb(){return Qu("useRouteId")}function Rb(){let l=N.useContext(qu),r=Ab("useRouteError"),i=Qu("useRouteError");return l!==void 0?l:r.errors?.[i]}function Ob(){let{router:l}=Eb("useNavigate"),r=Qu("useNavigate"),i=N.useRef(!1);return Wp(()=>{i.current=!0}),N.useCallback(async(d,f={})=>{Ft(i.current,Pp),i.current&&(typeof d=="number"?l.navigate(d):await l.navigate(d,{fromRouteId:r,...f}))},[l,r])}var gp={};function e0(l,r,i){!r&&!gp[l]&&(gp[l]=!0,Ft(!1,i))}N.memo(zb);function zb({routes:l,future:r,state:i,unstable_onError:o}){return Ip(l,void 0,i,o,r)}function Bl({to:l,replace:r,state:i,relative:o}){Je(Dn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:d}=N.useContext(aa);Ft(!d,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=N.useContext(ha),{pathname:h}=pa(),p=Jl(),x=Hu(l,Bu(f),h,o==="path"),g=JSON.stringify(x);return N.useEffect(()=>{p(JSON.parse(g),{replace:r,state:i,relative:o})},[p,g,o,r,i]),null}function zt(l){Je(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mb({basename:l="/",children:r=null,location:i,navigationType:o="POP",navigator:d,static:f=!1}){Je(!Dn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=l.replace(/^\/*/,"/"),p=N.useMemo(()=>({basename:h,navigator:d,static:f,future:{}}),[h,d,f]);typeof i=="string"&&(i=zn(i));let{pathname:x="/",search:g="",hash:b="",state:v=null,key:E="default"}=i,B=N.useMemo(()=>{let w=La(x,h);return w==null?null:{location:{pathname:w,search:g,hash:b,state:v,key:E},navigationType:o}},[h,x,g,b,v,E,o]);return Ft(B!=null,`<Router basename="${h}"> is not able to match the URL "${x}${g}${b}" because it does not start with the basename, so the <Router> won't render anything.`),B==null?null:N.createElement(aa.Provider,{value:p},N.createElement(Ql.Provider,{children:r,value:B}))}function Db({children:l,location:r}){return vb(bu(l),r)}function bu(l,r=[]){let i=[];return N.Children.forEach(l,(o,d)=>{if(!N.isValidElement(o))return;let f=[...r,d];if(o.type===N.Fragment){i.push.apply(i,bu(o.props.children,f));return}Je(o.type===zt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Je(!o.props.index||!o.props.children,"An index route cannot have child routes.");let h={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(h.children=bu(o.props.children,f)),i.push(h)}),i}var yi="get",bi="application/x-www-form-urlencoded";function Oi(l){return l!=null&&typeof l.tagName=="string"}function Ub(l){return Oi(l)&&l.tagName.toLowerCase()==="button"}function kb(l){return Oi(l)&&l.tagName.toLowerCase()==="form"}function Lb(l){return Oi(l)&&l.tagName.toLowerCase()==="input"}function Bb(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Hb(l,r){return l.button===0&&(!r||r==="_self")&&!Bb(l)}var hi=null;function qb(){if(hi===null)try{new FormData(document.createElement("form"),0),hi=!1}catch{hi=!0}return hi}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cu(l){return l!=null&&!Vb.has(l)?(Ft(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bi}"`),null):l}function Qb(l,r){let i,o,d,f,h;if(kb(l)){let p=l.getAttribute("action");o=p?La(p,r):null,i=l.getAttribute("method")||yi,d=cu(l.getAttribute("enctype"))||bi,f=new FormData(l)}else if(Ub(l)||Lb(l)&&(l.type==="submit"||l.type==="image")){let p=l.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=l.getAttribute("formaction")||p.getAttribute("action");if(o=x?La(x,r):null,i=l.getAttribute("formmethod")||p.getAttribute("method")||yi,d=cu(l.getAttribute("formenctype"))||cu(p.getAttribute("enctype"))||bi,f=new FormData(p,l),!qb()){let{name:g,type:b,value:v}=l;if(b==="image"){let E=g?`${g}.`:"";f.append(`${E}x`,"0"),f.append(`${E}y`,"0")}else g&&f.append(g,v)}}else{if(Oi(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=yi,o=null,d=bi,h=l}return f&&d==="text/plain"&&(h=f,f=void 0),{action:o,method:i.toLowerCase(),encType:d,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ju(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Jb(l,r,i){let o=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return o.pathname==="/"?o.pathname=`_root.${i}`:r&&La(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Yb(l,r){if(l.id in r)return r[l.id];try{let i=await import(l.module);return r[l.id]=i,i}catch(i){return console.error(`Error loading route module \`${l.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gb(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function Xb(l,r,i){let o=await Promise.all(l.map(async d=>{let f=r.routes[d.route.id];if(f){let h=await Yb(f,i);return h.links?h.links():[]}return[]}));return Kb(o.flat(1).filter(Gb).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function yp(l,r,i,o,d,f){let h=(x,g)=>i[g]?x.route.id!==i[g].route.id:!0,p=(x,g)=>i[g].pathname!==x.pathname||i[g].route.path?.endsWith("*")&&i[g].params["*"]!==x.params["*"];return f==="assets"?r.filter((x,g)=>h(x,g)||p(x,g)):f==="data"?r.filter((x,g)=>{let b=o.routes[x.route.id];if(!b||!b.hasLoader)return!1;if(h(x,g)||p(x,g))return!0;if(x.route.shouldRevalidate){let v=x.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(l,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function $b(l,r,{includeHydrateFallback:i}={}){return Fb(l.map(o=>{let d=r.routes[o.route.id];if(!d)return[];let f=[d.module];return d.clientActionModule&&(f=f.concat(d.clientActionModule)),d.clientLoaderModule&&(f=f.concat(d.clientLoaderModule)),i&&d.hydrateFallbackModule&&(f=f.concat(d.hydrateFallbackModule)),d.imports&&(f=f.concat(d.imports)),f}).flat(1))}function Fb(l){return[...new Set(l)]}function Zb(l){let r={},i=Object.keys(l).sort();for(let o of i)r[o]=l[o];return r}function Kb(l,r){let i=new Set;return new Set(r),l.reduce((o,d)=>{let f=JSON.stringify(Zb(d));return i.has(f)||(i.add(f),o.push({key:f,link:d})),o},[])}function t0(){let l=N.useContext(Mn);return Ju(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Pb(){let l=N.useContext(Ri);return Ju(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Yu=N.createContext(void 0);Yu.displayName="FrameworkContext";function a0(){let l=N.useContext(Yu);return Ju(l,"You must render this element inside a <HydratedRouter> element"),l}function Wb(l,r){let i=N.useContext(Yu),[o,d]=N.useState(!1),[f,h]=N.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:g,onMouseLeave:b,onTouchStart:v}=r,E=N.useRef(null);N.useEffect(()=>{if(l==="render"&&h(!0),l==="viewport"){let O=V=>{V.forEach(M=>{h(M.isIntersecting)})},R=new IntersectionObserver(O,{threshold:.5});return E.current&&R.observe(E.current),()=>{R.disconnect()}}},[l]),N.useEffect(()=>{if(o){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[o]);let B=()=>{d(!0)},w=()=>{d(!1),h(!1)};return i?l!=="intent"?[f,E,{}]:[f,E,{onFocus:Dl(p,B),onBlur:Dl(x,w),onMouseEnter:Dl(g,B),onMouseLeave:Dl(b,w),onTouchStart:Dl(v,B)}]:[!1,E,{}]}function Dl(l,r){return i=>{l&&l(i),i.defaultPrevented||r(i)}}function Ib({page:l,...r}){let{router:i}=t0(),o=N.useMemo(()=>Xp(i.routes,l,i.basename),[i.routes,l,i.basename]);return o?N.createElement(tv,{page:l,matches:o,...r}):null}function ev(l){let{manifest:r,routeModules:i}=a0(),[o,d]=N.useState([]);return N.useEffect(()=>{let f=!1;return Xb(l,r,i).then(h=>{f||d(h)}),()=>{f=!0}},[l,r,i]),o}function tv({page:l,matches:r,...i}){let o=pa(),{manifest:d,routeModules:f}=a0(),{basename:h}=t0(),{loaderData:p,matches:x}=Pb(),g=N.useMemo(()=>yp(l,r,x,d,o,"data"),[l,r,x,d,o]),b=N.useMemo(()=>yp(l,r,x,d,o,"assets"),[l,r,x,d,o]),v=N.useMemo(()=>{if(l===o.pathname+o.search+o.hash)return[];let w=new Set,O=!1;if(r.forEach(V=>{let M=d.routes[V.route.id];!M||!M.hasLoader||(!g.some(S=>S.route.id===V.route.id)&&V.route.id in p&&f[V.route.id]?.shouldRevalidate||M.hasClientLoader?O=!0:w.add(V.route.id))}),w.size===0)return[];let R=Jb(l,h,"data");return O&&w.size>0&&R.searchParams.set("_routes",r.filter(V=>w.has(V.route.id)).map(V=>V.route.id).join(",")),[R.pathname+R.search]},[h,p,o,d,g,r,l,f]),E=N.useMemo(()=>$b(b,d),[b,d]),B=ev(b);return N.createElement(N.Fragment,null,v.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),E.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),B.map(({key:w,link:O})=>N.createElement("link",{key:w,nonce:i.nonce,...O})))}function av(...l){return r=>{l.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var s0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s0&&(window.__reactRouterVersion="7.9.6")}catch{}function sv({basename:l,children:r,window:i}){let o=N.useRef();o.current==null&&(o.current=Yy({window:i,v5Compat:!0}));let d=o.current,[f,h]=N.useState({action:d.action,location:d.location}),p=N.useCallback(x=>{N.startTransition(()=>h(x))},[h]);return N.useLayoutEffect(()=>d.listen(p),[d,p]),N.createElement(Mb,{basename:l,children:r,location:f.location,navigationType:f.action,navigator:d})}var n0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ua=N.forwardRef(function({onClick:r,discover:i="render",prefetch:o="none",relative:d,reloadDocument:f,replace:h,state:p,target:x,to:g,preventScrollReset:b,viewTransition:v,...E},B){let{basename:w}=N.useContext(aa),O=typeof g=="string"&&n0.test(g),R,V=!1;if(typeof g=="string"&&O&&(R=g,s0))try{let re=new URL(window.location.href),ge=g.startsWith("//")?new URL(re.protocol+g):new URL(g),Ee=La(ge.pathname,w);ge.origin===re.origin&&Ee!=null?g=Ee+ge.search+ge.hash:V=!0}catch{Ft(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=yb(g,{relative:d}),[S,G,D]=Wb(o,E),A=iv(g,{replace:h,state:p,target:x,preventScrollReset:b,relative:d,viewTransition:v});function X(re){r&&r(re),re.defaultPrevented||A(re)}let te=N.createElement("a",{...E,...D,href:R||M,onClick:V||f?r:X,ref:av(B,G),target:x,"data-discover":!O&&i==="render"?"true":void 0});return S&&!O?N.createElement(N.Fragment,null,te,N.createElement(Ib,{page:M})):te});ua.displayName="Link";var nv=N.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:o="",end:d=!1,style:f,to:h,viewTransition:p,children:x,...g},b){let v=Yl(h,{relative:g.relative}),E=pa(),B=N.useContext(Ri),{navigator:w,basename:O}=N.useContext(aa),R=B!=null&&fv(v)&&p===!0,V=w.encodeLocation?w.encodeLocation(v).pathname:v.pathname,M=E.pathname,S=B&&B.navigation&&B.navigation.location?B.navigation.location.pathname:null;i||(M=M.toLowerCase(),S=S?S.toLowerCase():null,V=V.toLowerCase()),S&&O&&(S=La(S,O)||S);const G=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let D=M===V||!d&&M.startsWith(V)&&M.charAt(G)==="/",A=S!=null&&(S===V||!d&&S.startsWith(V)&&S.charAt(V.length)==="/"),X={isActive:D,isPending:A,isTransitioning:R},te=D?r:void 0,re;typeof o=="function"?re=o(X):re=[o,D?"active":null,A?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let ge=typeof f=="function"?f(X):f;return N.createElement(ua,{...g,"aria-current":te,className:re,ref:b,style:ge,to:h,viewTransition:p},typeof x=="function"?x(X):x)});nv.displayName="NavLink";var lv=N.forwardRef(({discover:l="render",fetcherKey:r,navigate:i,reloadDocument:o,replace:d,state:f,method:h=yi,action:p,onSubmit:x,relative:g,preventScrollReset:b,viewTransition:v,...E},B)=>{let w=uv(),O=dv(p,{relative:g}),R=h.toLowerCase()==="get"?"get":"post",V=typeof p=="string"&&n0.test(p),M=S=>{if(x&&x(S),S.defaultPrevented)return;S.preventDefault();let G=S.nativeEvent.submitter,D=G?.getAttribute("formmethod")||h;w(G||S.currentTarget,{fetcherKey:r,method:D,navigate:i,replace:d,state:f,relative:g,preventScrollReset:b,viewTransition:v})};return N.createElement("form",{ref:B,method:R,action:O,onSubmit:o?x:M,...E,"data-discover":!V&&l==="render"?"true":void 0})});lv.displayName="Form";function rv(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l0(l){let r=N.useContext(Mn);return Je(r,rv(l)),r}function iv(l,{target:r,replace:i,state:o,preventScrollReset:d,relative:f,viewTransition:h}={}){let p=Jl(),x=pa(),g=Yl(l,{relative:f});return N.useCallback(b=>{if(Hb(b,r)){b.preventDefault();let v=i!==void 0?i:Hl(x)===Hl(g);p(l,{replace:v,state:o,preventScrollReset:d,relative:f,viewTransition:h})}},[x,p,g,i,o,r,l,d,f,h])}var ov=0,cv=()=>`__${String(++ov)}__`;function uv(){let{router:l}=l0("useSubmit"),{basename:r}=N.useContext(aa),i=Tb();return N.useCallback(async(o,d={})=>{let{action:f,method:h,encType:p,formData:x,body:g}=Qb(o,r);if(d.navigate===!1){let b=d.fetcherKey||cv();await l.fetch(b,i,d.action||f,{preventScrollReset:d.preventScrollReset,formData:x,body:g,formMethod:d.method||h,formEncType:d.encType||p,flushSync:d.flushSync})}else await l.navigate(d.action||f,{preventScrollReset:d.preventScrollReset,formData:x,body:g,formMethod:d.method||h,formEncType:d.encType||p,replace:d.replace,state:d.state,fromRouteId:i,flushSync:d.flushSync,viewTransition:d.viewTransition})},[l,r,i])}function dv(l,{relative:r}={}){let{basename:i}=N.useContext(aa),o=N.useContext(ha);Je(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),f={...Yl(l||".",{relative:r})},h=pa();if(l==null){f.search=h.search;let p=new URLSearchParams(f.search),x=p.getAll("index");if(x.some(b=>b==="")){p.delete("index"),x.filter(v=>v).forEach(v=>p.append("index",v));let b=p.toString();f.search=b?`?${b}`:""}}return(!l||l===".")&&d.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(f.pathname=f.pathname==="/"?i:ka([i,f.pathname])),Hl(f)}function fv(l,{relative:r}={}){let i=N.useContext(Kp);Je(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=l0("useViewTransitionState"),d=Yl(l,{relative:r});if(!i.isTransitioning)return!1;let f=La(i.currentLocation.pathname,o)||i.currentLocation.pathname,h=La(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Ai(d.pathname,h)!=null||Ai(d.pathname,f)!=null}function r0(l,r){return function(){return l.apply(r,arguments)}}const{toString:mv}=Object.prototype,{getPrototypeOf:Gu}=Object,{iterator:zi,toStringTag:i0}=Symbol,Mi=(l=>r=>{const i=mv.call(r);return l[i]||(l[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),sa=l=>(l=l.toLowerCase(),r=>Mi(r)===l),Di=l=>r=>typeof r===l,{isArray:Un}=Array,Tn=Di("undefined");function Gl(l){return l!==null&&!Tn(l)&&l.constructor!==null&&!Tn(l.constructor)&&vt(l.constructor.isBuffer)&&l.constructor.isBuffer(l)}const o0=sa("ArrayBuffer");function hv(l){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(l):r=l&&l.buffer&&o0(l.buffer),r}const pv=Di("string"),vt=Di("function"),c0=Di("number"),Xl=l=>l!==null&&typeof l=="object",xv=l=>l===!0||l===!1,vi=l=>{if(Mi(l)!=="object")return!1;const r=Gu(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(i0 in l)&&!(zi in l)},gv=l=>{if(!Xl(l)||Gl(l))return!1;try{return Object.keys(l).length===0&&Object.getPrototypeOf(l)===Object.prototype}catch{return!1}},yv=sa("Date"),bv=sa("File"),vv=sa("Blob"),Nv=sa("FileList"),jv=l=>Xl(l)&&vt(l.pipe),wv=l=>{let r;return l&&(typeof FormData=="function"&&l instanceof FormData||vt(l.append)&&((r=Mi(l))==="formdata"||r==="object"&&vt(l.toString)&&l.toString()==="[object FormData]"))},Sv=sa("URLSearchParams"),[Cv,Ev,Av,_v]=["ReadableStream","Request","Response","Headers"].map(sa),Tv=l=>l.trim?l.trim():l.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(l,r,{allOwnKeys:i=!1}={}){if(l===null||typeof l>"u")return;let o,d;if(typeof l!="object"&&(l=[l]),Un(l))for(o=0,d=l.length;o<d;o++)r.call(null,l[o],o,l);else{if(Gl(l))return;const f=i?Object.getOwnPropertyNames(l):Object.keys(l),h=f.length;let p;for(o=0;o<h;o++)p=f[o],r.call(null,l[p],p,l)}}function u0(l,r){if(Gl(l))return null;r=r.toLowerCase();const i=Object.keys(l);let o=i.length,d;for(;o-- >0;)if(d=i[o],r===d.toLowerCase())return d;return null}const Us=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,d0=l=>!Tn(l)&&l!==Us;function vu(){const{caseless:l,skipUndefined:r}=d0(this)&&this||{},i={},o=(d,f)=>{const h=l&&u0(i,f)||f;vi(i[h])&&vi(d)?i[h]=vu(i[h],d):vi(d)?i[h]=vu({},d):Un(d)?i[h]=d.slice():(!r||!Tn(d))&&(i[h]=d)};for(let d=0,f=arguments.length;d<f;d++)arguments[d]&&$l(arguments[d],o);return i}const Rv=(l,r,i,{allOwnKeys:o}={})=>($l(r,(d,f)=>{i&&vt(d)?l[f]=r0(d,i):l[f]=d},{allOwnKeys:o}),l),Ov=l=>(l.charCodeAt(0)===65279&&(l=l.slice(1)),l),zv=(l,r,i,o)=>{l.prototype=Object.create(r.prototype,o),l.prototype.constructor=l,Object.defineProperty(l,"super",{value:r.prototype}),i&&Object.assign(l.prototype,i)},Mv=(l,r,i,o)=>{let d,f,h;const p={};if(r=r||{},l==null)return r;do{for(d=Object.getOwnPropertyNames(l),f=d.length;f-- >0;)h=d[f],(!o||o(h,l,r))&&!p[h]&&(r[h]=l[h],p[h]=!0);l=i!==!1&&Gu(l)}while(l&&(!i||i(l,r))&&l!==Object.prototype);return r},Dv=(l,r,i)=>{l=String(l),(i===void 0||i>l.length)&&(i=l.length),i-=r.length;const o=l.indexOf(r,i);return o!==-1&&o===i},Uv=l=>{if(!l)return null;if(Un(l))return l;let r=l.length;if(!c0(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=l[r];return i},kv=(l=>r=>l&&r instanceof l)(typeof Uint8Array<"u"&&Gu(Uint8Array)),Lv=(l,r)=>{const o=(l&&l[zi]).call(l);let d;for(;(d=o.next())&&!d.done;){const f=d.value;r.call(l,f[0],f[1])}},Bv=(l,r)=>{let i;const o=[];for(;(i=l.exec(r))!==null;)o.push(i);return o},Hv=sa("HTMLFormElement"),qv=l=>l.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,d){return o.toUpperCase()+d}),bp=(({hasOwnProperty:l})=>(r,i)=>l.call(r,i))(Object.prototype),Vv=sa("RegExp"),f0=(l,r)=>{const i=Object.getOwnPropertyDescriptors(l),o={};$l(i,(d,f)=>{let h;(h=r(d,f,l))!==!1&&(o[f]=h||d)}),Object.defineProperties(l,o)},Qv=l=>{f0(l,(r,i)=>{if(vt(l)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=l[i];if(vt(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Jv=(l,r)=>{const i={},o=d=>{d.forEach(f=>{i[f]=!0})};return Un(l)?o(l):o(String(l).split(r)),i},Yv=()=>{},Gv=(l,r)=>l!=null&&Number.isFinite(l=+l)?l:r;function Xv(l){return!!(l&&vt(l.append)&&l[i0]==="FormData"&&l[zi])}const $v=l=>{const r=new Array(10),i=(o,d)=>{if(Xl(o)){if(r.indexOf(o)>=0)return;if(Gl(o))return o;if(!("toJSON"in o)){r[d]=o;const f=Un(o)?[]:{};return $l(o,(h,p)=>{const x=i(h,d+1);!Tn(x)&&(f[p]=x)}),r[d]=void 0,f}}return o};return i(l,0)},Fv=sa("AsyncFunction"),Zv=l=>l&&(Xl(l)||vt(l))&&vt(l.then)&&vt(l.catch),m0=((l,r)=>l?setImmediate:r?((i,o)=>(Us.addEventListener("message",({source:d,data:f})=>{d===Us&&f===i&&o.length&&o.shift()()},!1),d=>{o.push(d),Us.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",vt(Us.postMessage)),Kv=typeof queueMicrotask<"u"?queueMicrotask.bind(Us):typeof process<"u"&&process.nextTick||m0,Pv=l=>l!=null&&vt(l[zi]),Q={isArray:Un,isArrayBuffer:o0,isBuffer:Gl,isFormData:wv,isArrayBufferView:hv,isString:pv,isNumber:c0,isBoolean:xv,isObject:Xl,isPlainObject:vi,isEmptyObject:gv,isReadableStream:Cv,isRequest:Ev,isResponse:Av,isHeaders:_v,isUndefined:Tn,isDate:yv,isFile:bv,isBlob:vv,isRegExp:Vv,isFunction:vt,isStream:jv,isURLSearchParams:Sv,isTypedArray:kv,isFileList:Nv,forEach:$l,merge:vu,extend:Rv,trim:Tv,stripBOM:Ov,inherits:zv,toFlatObject:Mv,kindOf:Mi,kindOfTest:sa,endsWith:Dv,toArray:Uv,forEachEntry:Lv,matchAll:Bv,isHTMLForm:Hv,hasOwnProperty:bp,hasOwnProp:bp,reduceDescriptors:f0,freezeMethods:Qv,toObjectSet:Jv,toCamelCase:qv,noop:Yv,toFiniteNumber:Gv,findKey:u0,global:Us,isContextDefined:d0,isSpecCompliantForm:Xv,toJSONObject:$v,isAsyncFn:Fv,isThenable:Zv,setImmediate:m0,asap:Kv,isIterable:Pv};function pe(l,r,i,o,d){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=l,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),o&&(this.request=o),d&&(this.response=d,this.status=d.status?d.status:null)}Q.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const h0=pe.prototype,p0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(l=>{p0[l]={value:l}});Object.defineProperties(pe,p0);Object.defineProperty(h0,"isAxiosError",{value:!0});pe.from=(l,r,i,o,d,f)=>{const h=Object.create(h0);Q.toFlatObject(l,h,function(b){return b!==Error.prototype},g=>g!=="isAxiosError");const p=l&&l.message?l.message:"Error",x=r==null&&l?l.code:r;return pe.call(h,p,x,i,o,d),l&&h.cause==null&&Object.defineProperty(h,"cause",{value:l,configurable:!0}),h.name=l&&l.name||"Error",f&&Object.assign(h,f),h};const Wv=null;function Nu(l){return Q.isPlainObject(l)||Q.isArray(l)}function x0(l){return Q.endsWith(l,"[]")?l.slice(0,-2):l}function vp(l,r,i){return l?l.concat(r).map(function(d,f){return d=x0(d),!i&&f?"["+d+"]":d}).join(i?".":""):r}function Iv(l){return Q.isArray(l)&&!l.some(Nu)}const e1=Q.toFlatObject(Q,{},null,function(r){return/^is[A-Z]/.test(r)});function Ui(l,r,i){if(!Q.isObject(l))throw new TypeError("target must be an object");r=r||new FormData,i=Q.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,R){return!Q.isUndefined(R[O])});const o=i.metaTokens,d=i.visitor||b,f=i.dots,h=i.indexes,x=(i.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(r);if(!Q.isFunction(d))throw new TypeError("visitor must be a function");function g(w){if(w===null)return"";if(Q.isDate(w))return w.toISOString();if(Q.isBoolean(w))return w.toString();if(!x&&Q.isBlob(w))throw new pe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(w)||Q.isTypedArray(w)?x&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function b(w,O,R){let V=w;if(w&&!R&&typeof w=="object"){if(Q.endsWith(O,"{}"))O=o?O:O.slice(0,-2),w=JSON.stringify(w);else if(Q.isArray(w)&&Iv(w)||(Q.isFileList(w)||Q.endsWith(O,"[]"))&&(V=Q.toArray(w)))return O=x0(O),V.forEach(function(S,G){!(Q.isUndefined(S)||S===null)&&r.append(h===!0?vp([O],G,f):h===null?O:O+"[]",g(S))}),!1}return Nu(w)?!0:(r.append(vp(R,O,f),g(w)),!1)}const v=[],E=Object.assign(e1,{defaultVisitor:b,convertValue:g,isVisitable:Nu});function B(w,O){if(!Q.isUndefined(w)){if(v.indexOf(w)!==-1)throw Error("Circular reference detected in "+O.join("."));v.push(w),Q.forEach(w,function(V,M){(!(Q.isUndefined(V)||V===null)&&d.call(r,V,Q.isString(M)?M.trim():M,O,E))===!0&&B(V,O?O.concat(M):[M])}),v.pop()}}if(!Q.isObject(l))throw new TypeError("data must be an object");return B(l),r}function Np(l){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(l).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Xu(l,r){this._pairs=[],l&&Ui(l,this,r)}const g0=Xu.prototype;g0.append=function(r,i){this._pairs.push([r,i])};g0.toString=function(r){const i=r?function(o){return r.call(this,o,Np)}:Np;return this._pairs.map(function(d){return i(d[0])+"="+i(d[1])},"").join("&")};function t1(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function y0(l,r,i){if(!r)return l;const o=i&&i.encode||t1;Q.isFunction(i)&&(i={serialize:i});const d=i&&i.serialize;let f;if(d?f=d(r,i):f=Q.isURLSearchParams(r)?r.toString():new Xu(r,i).toString(o),f){const h=l.indexOf("#");h!==-1&&(l=l.slice(0,h)),l+=(l.indexOf("?")===-1?"?":"&")+f}return l}class jp{constructor(){this.handlers=[]}use(r,i,o){return this.handlers.push({fulfilled:r,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){Q.forEach(this.handlers,function(o){o!==null&&r(o)})}}const b0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},a1=typeof URLSearchParams<"u"?URLSearchParams:Xu,s1=typeof FormData<"u"?FormData:null,n1=typeof Blob<"u"?Blob:null,l1={isBrowser:!0,classes:{URLSearchParams:a1,FormData:s1,Blob:n1},protocols:["http","https","file","blob","url","data"]},$u=typeof window<"u"&&typeof document<"u",ju=typeof navigator=="object"&&navigator||void 0,r1=$u&&(!ju||["ReactNative","NativeScript","NS"].indexOf(ju.product)<0),i1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",o1=$u&&window.location.href||"http://localhost",c1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$u,hasStandardBrowserEnv:r1,hasStandardBrowserWebWorkerEnv:i1,navigator:ju,origin:o1},Symbol.toStringTag,{value:"Module"})),ut={...c1,...l1};function u1(l,r){return Ui(l,new ut.classes.URLSearchParams,{visitor:function(i,o,d,f){return ut.isNode&&Q.isBuffer(i)?(this.append(o,i.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...r})}function d1(l){return Q.matchAll(/\w+|\[(\w*)]/g,l).map(r=>r[0]==="[]"?"":r[1]||r[0])}function f1(l){const r={},i=Object.keys(l);let o;const d=i.length;let f;for(o=0;o<d;o++)f=i[o],r[f]=l[f];return r}function v0(l){function r(i,o,d,f){let h=i[f++];if(h==="__proto__")return!0;const p=Number.isFinite(+h),x=f>=i.length;return h=!h&&Q.isArray(d)?d.length:h,x?(Q.hasOwnProp(d,h)?d[h]=[d[h],o]:d[h]=o,!p):((!d[h]||!Q.isObject(d[h]))&&(d[h]=[]),r(i,o,d[h],f)&&Q.isArray(d[h])&&(d[h]=f1(d[h])),!p)}if(Q.isFormData(l)&&Q.isFunction(l.entries)){const i={};return Q.forEachEntry(l,(o,d)=>{r(d1(o),d,i,0)}),i}return null}function m1(l,r,i){if(Q.isString(l))try{return(r||JSON.parse)(l),Q.trim(l)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(l)}const Fl={transitional:b0,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const o=i.getContentType()||"",d=o.indexOf("application/json")>-1,f=Q.isObject(r);if(f&&Q.isHTMLForm(r)&&(r=new FormData(r)),Q.isFormData(r))return d?JSON.stringify(v0(r)):r;if(Q.isArrayBuffer(r)||Q.isBuffer(r)||Q.isStream(r)||Q.isFile(r)||Q.isBlob(r)||Q.isReadableStream(r))return r;if(Q.isArrayBufferView(r))return r.buffer;if(Q.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let p;if(f){if(o.indexOf("application/x-www-form-urlencoded")>-1)return u1(r,this.formSerializer).toString();if((p=Q.isFileList(r))||o.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Ui(p?{"files[]":r}:r,x&&new x,this.formSerializer)}}return f||d?(i.setContentType("application/json",!1),m1(r)):r}],transformResponse:[function(r){const i=this.transitional||Fl.transitional,o=i&&i.forcedJSONParsing,d=this.responseType==="json";if(Q.isResponse(r)||Q.isReadableStream(r))return r;if(r&&Q.isString(r)&&(o&&!this.responseType||d)){const h=!(i&&i.silentJSONParsing)&&d;try{return JSON.parse(r,this.parseReviver)}catch(p){if(h)throw p.name==="SyntaxError"?pe.from(p,pe.ERR_BAD_RESPONSE,this,null,this.response):p}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ut.classes.FormData,Blob:ut.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],l=>{Fl.headers[l]={}});const h1=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),p1=l=>{const r={};let i,o,d;return l&&l.split(`
`).forEach(function(h){d=h.indexOf(":"),i=h.substring(0,d).trim().toLowerCase(),o=h.substring(d+1).trim(),!(!i||r[i]&&h1[i])&&(i==="set-cookie"?r[i]?r[i].push(o):r[i]=[o]:r[i]=r[i]?r[i]+", "+o:o)}),r},wp=Symbol("internals");function Ul(l){return l&&String(l).trim().toLowerCase()}function Ni(l){return l===!1||l==null?l:Q.isArray(l)?l.map(Ni):String(l)}function x1(l){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(l);)r[o[1]]=o[2];return r}const g1=l=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(l.trim());function uu(l,r,i,o,d){if(Q.isFunction(o))return o.call(this,r,i);if(d&&(r=i),!!Q.isString(r)){if(Q.isString(o))return r.indexOf(o)!==-1;if(Q.isRegExp(o))return o.test(r)}}function y1(l){return l.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,o)=>i.toUpperCase()+o)}function b1(l,r){const i=Q.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(l,o+i,{value:function(d,f,h){return this[o].call(this,r,d,f,h)},configurable:!0})})}let Nt=class{constructor(r){r&&this.set(r)}set(r,i,o){const d=this;function f(p,x,g){const b=Ul(x);if(!b)throw new Error("header name must be a non-empty string");const v=Q.findKey(d,b);(!v||d[v]===void 0||g===!0||g===void 0&&d[v]!==!1)&&(d[v||x]=Ni(p))}const h=(p,x)=>Q.forEach(p,(g,b)=>f(g,b,x));if(Q.isPlainObject(r)||r instanceof this.constructor)h(r,i);else if(Q.isString(r)&&(r=r.trim())&&!g1(r))h(p1(r),i);else if(Q.isObject(r)&&Q.isIterable(r)){let p={},x,g;for(const b of r){if(!Q.isArray(b))throw TypeError("Object iterator must return a key-value pair");p[g=b[0]]=(x=p[g])?Q.isArray(x)?[...x,b[1]]:[x,b[1]]:b[1]}h(p,i)}else r!=null&&f(i,r,o);return this}get(r,i){if(r=Ul(r),r){const o=Q.findKey(this,r);if(o){const d=this[o];if(!i)return d;if(i===!0)return x1(d);if(Q.isFunction(i))return i.call(this,d,o);if(Q.isRegExp(i))return i.exec(d);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=Ul(r),r){const o=Q.findKey(this,r);return!!(o&&this[o]!==void 0&&(!i||uu(this,this[o],o,i)))}return!1}delete(r,i){const o=this;let d=!1;function f(h){if(h=Ul(h),h){const p=Q.findKey(o,h);p&&(!i||uu(o,o[p],p,i))&&(delete o[p],d=!0)}}return Q.isArray(r)?r.forEach(f):f(r),d}clear(r){const i=Object.keys(this);let o=i.length,d=!1;for(;o--;){const f=i[o];(!r||uu(this,this[f],f,r,!0))&&(delete this[f],d=!0)}return d}normalize(r){const i=this,o={};return Q.forEach(this,(d,f)=>{const h=Q.findKey(o,f);if(h){i[h]=Ni(d),delete i[f];return}const p=r?y1(f):String(f).trim();p!==f&&delete i[f],i[p]=Ni(d),o[p]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return Q.forEach(this,(o,d)=>{o!=null&&o!==!1&&(i[d]=r&&Q.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const o=new this(r);return i.forEach(d=>o.set(d)),o}static accessor(r){const o=(this[wp]=this[wp]={accessors:{}}).accessors,d=this.prototype;function f(h){const p=Ul(h);o[p]||(b1(d,h),o[p]=!0)}return Q.isArray(r)?r.forEach(f):f(r),this}};Nt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(Nt.prototype,({value:l},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>l,set(o){this[i]=o}}});Q.freezeMethods(Nt);function du(l,r){const i=this||Fl,o=r||i,d=Nt.from(o.headers);let f=o.data;return Q.forEach(l,function(p){f=p.call(i,f,d.normalize(),r?r.status:void 0)}),d.normalize(),f}function N0(l){return!!(l&&l.__CANCEL__)}function kn(l,r,i){pe.call(this,l??"canceled",pe.ERR_CANCELED,r,i),this.name="CanceledError"}Q.inherits(kn,pe,{__CANCEL__:!0});function j0(l,r,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?l(i):r(new pe("Request failed with status code "+i.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function v1(l){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(l);return r&&r[1]||""}function N1(l,r){l=l||10;const i=new Array(l),o=new Array(l);let d=0,f=0,h;return r=r!==void 0?r:1e3,function(x){const g=Date.now(),b=o[f];h||(h=g),i[d]=x,o[d]=g;let v=f,E=0;for(;v!==d;)E+=i[v++],v=v%l;if(d=(d+1)%l,d===f&&(f=(f+1)%l),g-h<r)return;const B=b&&g-b;return B?Math.round(E*1e3/B):void 0}}function j1(l,r){let i=0,o=1e3/r,d,f;const h=(g,b=Date.now())=>{i=b,d=null,f&&(clearTimeout(f),f=null),l(...g)};return[(...g)=>{const b=Date.now(),v=b-i;v>=o?h(g,b):(d=g,f||(f=setTimeout(()=>{f=null,h(d)},o-v)))},()=>d&&h(d)]}const _i=(l,r,i=3)=>{let o=0;const d=N1(50,250);return j1(f=>{const h=f.loaded,p=f.lengthComputable?f.total:void 0,x=h-o,g=d(x),b=h<=p;o=h;const v={loaded:h,total:p,progress:p?h/p:void 0,bytes:x,rate:g||void 0,estimated:g&&p&&b?(p-h)/g:void 0,event:f,lengthComputable:p!=null,[r?"download":"upload"]:!0};l(v)},i)},Sp=(l,r)=>{const i=l!=null;return[o=>r[0]({lengthComputable:i,total:l,loaded:o}),r[1]]},Cp=l=>(...r)=>Q.asap(()=>l(...r)),w1=ut.hasStandardBrowserEnv?((l,r)=>i=>(i=new URL(i,ut.origin),l.protocol===i.protocol&&l.host===i.host&&(r||l.port===i.port)))(new URL(ut.origin),ut.navigator&&/(msie|trident)/i.test(ut.navigator.userAgent)):()=>!0,S1=ut.hasStandardBrowserEnv?{write(l,r,i,o,d,f,h){if(typeof document>"u")return;const p=[`${l}=${encodeURIComponent(r)}`];Q.isNumber(i)&&p.push(`expires=${new Date(i).toUTCString()}`),Q.isString(o)&&p.push(`path=${o}`),Q.isString(d)&&p.push(`domain=${d}`),f===!0&&p.push("secure"),Q.isString(h)&&p.push(`SameSite=${h}`),document.cookie=p.join("; ")},read(l){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+l+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(l){this.write(l,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function C1(l){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(l)}function E1(l,r){return r?l.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):l}function w0(l,r,i){let o=!C1(r);return l&&(o||i==!1)?E1(l,r):r}const Ep=l=>l instanceof Nt?{...l}:l;function Ls(l,r){r=r||{};const i={};function o(g,b,v,E){return Q.isPlainObject(g)&&Q.isPlainObject(b)?Q.merge.call({caseless:E},g,b):Q.isPlainObject(b)?Q.merge({},b):Q.isArray(b)?b.slice():b}function d(g,b,v,E){if(Q.isUndefined(b)){if(!Q.isUndefined(g))return o(void 0,g,v,E)}else return o(g,b,v,E)}function f(g,b){if(!Q.isUndefined(b))return o(void 0,b)}function h(g,b){if(Q.isUndefined(b)){if(!Q.isUndefined(g))return o(void 0,g)}else return o(void 0,b)}function p(g,b,v){if(v in r)return o(g,b);if(v in l)return o(void 0,g)}const x={url:f,method:f,data:f,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:p,headers:(g,b,v)=>d(Ep(g),Ep(b),v,!0)};return Q.forEach(Object.keys({...l,...r}),function(b){const v=x[b]||d,E=v(l[b],r[b],b);Q.isUndefined(E)&&v!==p||(i[b]=E)}),i}const S0=l=>{const r=Ls({},l);let{data:i,withXSRFToken:o,xsrfHeaderName:d,xsrfCookieName:f,headers:h,auth:p}=r;if(r.headers=h=Nt.from(h),r.url=y0(w0(r.baseURL,r.url,r.allowAbsoluteUrls),l.params,l.paramsSerializer),p&&h.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),Q.isFormData(i)){if(ut.hasStandardBrowserEnv||ut.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if(Q.isFunction(i.getHeaders)){const x=i.getHeaders(),g=["content-type","content-length"];Object.entries(x).forEach(([b,v])=>{g.includes(b.toLowerCase())&&h.set(b,v)})}}if(ut.hasStandardBrowserEnv&&(o&&Q.isFunction(o)&&(o=o(r)),o||o!==!1&&w1(r.url))){const x=d&&f&&S1.read(f);x&&h.set(d,x)}return r},A1=typeof XMLHttpRequest<"u",_1=A1&&function(l){return new Promise(function(i,o){const d=S0(l);let f=d.data;const h=Nt.from(d.headers).normalize();let{responseType:p,onUploadProgress:x,onDownloadProgress:g}=d,b,v,E,B,w;function O(){B&&B(),w&&w(),d.cancelToken&&d.cancelToken.unsubscribe(b),d.signal&&d.signal.removeEventListener("abort",b)}let R=new XMLHttpRequest;R.open(d.method.toUpperCase(),d.url,!0),R.timeout=d.timeout;function V(){if(!R)return;const S=Nt.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),D={data:!p||p==="text"||p==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:S,config:l,request:R};j0(function(X){i(X),O()},function(X){o(X),O()},D),R=null}"onloadend"in R?R.onloadend=V:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(V)},R.onabort=function(){R&&(o(new pe("Request aborted",pe.ECONNABORTED,l,R)),R=null)},R.onerror=function(G){const D=G&&G.message?G.message:"Network Error",A=new pe(D,pe.ERR_NETWORK,l,R);A.event=G||null,o(A),R=null},R.ontimeout=function(){let G=d.timeout?"timeout of "+d.timeout+"ms exceeded":"timeout exceeded";const D=d.transitional||b0;d.timeoutErrorMessage&&(G=d.timeoutErrorMessage),o(new pe(G,D.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,l,R)),R=null},f===void 0&&h.setContentType(null),"setRequestHeader"in R&&Q.forEach(h.toJSON(),function(G,D){R.setRequestHeader(D,G)}),Q.isUndefined(d.withCredentials)||(R.withCredentials=!!d.withCredentials),p&&p!=="json"&&(R.responseType=d.responseType),g&&([E,w]=_i(g,!0),R.addEventListener("progress",E)),x&&R.upload&&([v,B]=_i(x),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",B)),(d.cancelToken||d.signal)&&(b=S=>{R&&(o(!S||S.type?new kn(null,l,R):S),R.abort(),R=null)},d.cancelToken&&d.cancelToken.subscribe(b),d.signal&&(d.signal.aborted?b():d.signal.addEventListener("abort",b)));const M=v1(d.url);if(M&&ut.protocols.indexOf(M)===-1){o(new pe("Unsupported protocol "+M+":",pe.ERR_BAD_REQUEST,l));return}R.send(f||null)})},T1=(l,r)=>{const{length:i}=l=l?l.filter(Boolean):[];if(r||i){let o=new AbortController,d;const f=function(g){if(!d){d=!0,p();const b=g instanceof Error?g:this.reason;o.abort(b instanceof pe?b:new kn(b instanceof Error?b.message:b))}};let h=r&&setTimeout(()=>{h=null,f(new pe(`timeout ${r} of ms exceeded`,pe.ETIMEDOUT))},r);const p=()=>{l&&(h&&clearTimeout(h),h=null,l.forEach(g=>{g.unsubscribe?g.unsubscribe(f):g.removeEventListener("abort",f)}),l=null)};l.forEach(g=>g.addEventListener("abort",f));const{signal:x}=o;return x.unsubscribe=()=>Q.asap(p),x}},R1=function*(l,r){let i=l.byteLength;if(i<r){yield l;return}let o=0,d;for(;o<i;)d=o+r,yield l.slice(o,d),o=d},O1=async function*(l,r){for await(const i of z1(l))yield*R1(i,r)},z1=async function*(l){if(l[Symbol.asyncIterator]){yield*l;return}const r=l.getReader();try{for(;;){const{done:i,value:o}=await r.read();if(i)break;yield o}}finally{await r.cancel()}},Ap=(l,r,i,o)=>{const d=O1(l,r);let f=0,h,p=x=>{h||(h=!0,o&&o(x))};return new ReadableStream({async pull(x){try{const{done:g,value:b}=await d.next();if(g){p(),x.close();return}let v=b.byteLength;if(i){let E=f+=v;i(E)}x.enqueue(new Uint8Array(b))}catch(g){throw p(g),g}},cancel(x){return p(x),d.return()}},{highWaterMark:2})},_p=64*1024,{isFunction:pi}=Q,M1=(({Request:l,Response:r})=>({Request:l,Response:r}))(Q.global),{ReadableStream:Tp,TextEncoder:Rp}=Q.global,Op=(l,...r)=>{try{return!!l(...r)}catch{return!1}},D1=l=>{l=Q.merge.call({skipUndefined:!0},M1,l);const{fetch:r,Request:i,Response:o}=l,d=r?pi(r):typeof fetch=="function",f=pi(i),h=pi(o);if(!d)return!1;const p=d&&pi(Tp),x=d&&(typeof Rp=="function"?(w=>O=>w.encode(O))(new Rp):async w=>new Uint8Array(await new i(w).arrayBuffer())),g=f&&p&&Op(()=>{let w=!1;const O=new i(ut.origin,{body:new Tp,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!O}),b=h&&p&&Op(()=>Q.isReadableStream(new o("").body)),v={stream:b&&(w=>w.body)};d&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!v[w]&&(v[w]=(O,R)=>{let V=O&&O[w];if(V)return V.call(O);throw new pe(`Response type '${w}' is not supported`,pe.ERR_NOT_SUPPORT,R)})});const E=async w=>{if(w==null)return 0;if(Q.isBlob(w))return w.size;if(Q.isSpecCompliantForm(w))return(await new i(ut.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(w)||Q.isArrayBuffer(w))return w.byteLength;if(Q.isURLSearchParams(w)&&(w=w+""),Q.isString(w))return(await x(w)).byteLength},B=async(w,O)=>{const R=Q.toFiniteNumber(w.getContentLength());return R??E(O)};return async w=>{let{url:O,method:R,data:V,signal:M,cancelToken:S,timeout:G,onDownloadProgress:D,onUploadProgress:A,responseType:X,headers:te,withCredentials:re="same-origin",fetchOptions:ge}=S0(w),Ee=r||fetch;X=X?(X+"").toLowerCase():"text";let I=T1([M,S&&S.toAbortSignal()],G),de=null;const we=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let P;try{if(A&&g&&R!=="get"&&R!=="head"&&(P=await B(te,V))!==0){let C=new i(O,{method:"POST",body:V,duplex:"half"}),T;if(Q.isFormData(V)&&(T=C.headers.get("content-type"))&&te.setContentType(T),C.body){const[q,W]=Sp(P,_i(Cp(A)));V=Ap(C.body,_p,q,W)}}Q.isString(re)||(re=re?"include":"omit");const U=f&&"credentials"in i.prototype,ee={...ge,signal:I,method:R.toUpperCase(),headers:te.normalize().toJSON(),body:V,duplex:"half",credentials:U?re:void 0};de=f&&new i(O,ee);let ne=await(f?Ee(de,ge):Ee(O,ee));const ye=b&&(X==="stream"||X==="response");if(b&&(D||ye&&we)){const C={};["status","statusText","headers"].forEach(Y=>{C[Y]=ne[Y]});const T=Q.toFiniteNumber(ne.headers.get("content-length")),[q,W]=D&&Sp(T,_i(Cp(D),!0))||[];ne=new o(Ap(ne.body,_p,q,()=>{W&&W(),we&&we()}),C)}X=X||"text";let Ae=await v[Q.findKey(v,X)||"text"](ne,w);return!ye&&we&&we(),await new Promise((C,T)=>{j0(C,T,{data:Ae,headers:Nt.from(ne.headers),status:ne.status,statusText:ne.statusText,config:w,request:de})})}catch(U){throw we&&we(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,w,de),{cause:U.cause||U}):pe.from(U,U&&U.code,w,de)}}},U1=new Map,C0=l=>{let r=l&&l.env||{};const{fetch:i,Request:o,Response:d}=r,f=[o,d,i];let h=f.length,p=h,x,g,b=U1;for(;p--;)x=f[p],g=b.get(x),g===void 0&&b.set(x,g=p?new Map:D1(r)),b=g;return g};C0();const Fu={http:Wv,xhr:_1,fetch:{get:C0}};Q.forEach(Fu,(l,r)=>{if(l){try{Object.defineProperty(l,"name",{value:r})}catch{}Object.defineProperty(l,"adapterName",{value:r})}});const zp=l=>`- ${l}`,k1=l=>Q.isFunction(l)||l===null||l===!1;function L1(l,r){l=Q.isArray(l)?l:[l];const{length:i}=l;let o,d;const f={};for(let h=0;h<i;h++){o=l[h];let p;if(d=o,!k1(o)&&(d=Fu[(p=String(o)).toLowerCase()],d===void 0))throw new pe(`Unknown adapter '${p}'`);if(d&&(Q.isFunction(d)||(d=d.get(r))))break;f[p||"#"+h]=d}if(!d){const h=Object.entries(f).map(([x,g])=>`adapter ${x} `+(g===!1?"is not supported by the environment":"is not available in the build"));let p=i?h.length>1?`since :
`+h.map(zp).join(`
`):" "+zp(h[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return d}const E0={getAdapter:L1,adapters:Fu};function fu(l){if(l.cancelToken&&l.cancelToken.throwIfRequested(),l.signal&&l.signal.aborted)throw new kn(null,l)}function Mp(l){return fu(l),l.headers=Nt.from(l.headers),l.data=du.call(l,l.transformRequest),["post","put","patch"].indexOf(l.method)!==-1&&l.headers.setContentType("application/x-www-form-urlencoded",!1),E0.getAdapter(l.adapter||Fl.adapter,l)(l).then(function(o){return fu(l),o.data=du.call(l,l.transformResponse,o),o.headers=Nt.from(o.headers),o},function(o){return N0(o)||(fu(l),o&&o.response&&(o.response.data=du.call(l,l.transformResponse,o.response),o.response.headers=Nt.from(o.response.headers))),Promise.reject(o)})}const A0="1.13.2",ki={};["object","boolean","number","function","string","symbol"].forEach((l,r)=>{ki[l]=function(o){return typeof o===l||"a"+(r<1?"n ":" ")+l}});const Dp={};ki.transitional=function(r,i,o){function d(f,h){return"[Axios v"+A0+"] Transitional option '"+f+"'"+h+(o?". "+o:"")}return(f,h,p)=>{if(r===!1)throw new pe(d(h," has been removed"+(i?" in "+i:"")),pe.ERR_DEPRECATED);return i&&!Dp[h]&&(Dp[h]=!0,console.warn(d(h," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(f,h,p):!0}};ki.spelling=function(r){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function B1(l,r,i){if(typeof l!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const o=Object.keys(l);let d=o.length;for(;d-- >0;){const f=o[d],h=r[f];if(h){const p=l[f],x=p===void 0||h(p,f,l);if(x!==!0)throw new pe("option "+f+" must be "+x,pe.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new pe("Unknown option "+f,pe.ERR_BAD_OPTION)}}const ji={assertOptions:B1,validators:ki},ca=ji.validators;let ks=class{constructor(r){this.defaults=r||{},this.interceptors={request:new jp,response:new jp}}async request(r,i){try{return await this._request(r,i)}catch(o){if(o instanceof Error){let d={};Error.captureStackTrace?Error.captureStackTrace(d):d=new Error;const f=d.stack?d.stack.replace(/^.+\n/,""):"";try{o.stack?f&&!String(o.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+f):o.stack=f}catch{}}throw o}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=Ls(this.defaults,i);const{transitional:o,paramsSerializer:d,headers:f}=i;o!==void 0&&ji.assertOptions(o,{silentJSONParsing:ca.transitional(ca.boolean),forcedJSONParsing:ca.transitional(ca.boolean),clarifyTimeoutError:ca.transitional(ca.boolean)},!1),d!=null&&(Q.isFunction(d)?i.paramsSerializer={serialize:d}:ji.assertOptions(d,{encode:ca.function,serialize:ca.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),ji.assertOptions(i,{baseUrl:ca.spelling("baseURL"),withXsrfToken:ca.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let h=f&&Q.merge(f.common,f[i.method]);f&&Q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete f[w]}),i.headers=Nt.concat(h,f);const p=[];let x=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(i)===!1||(x=x&&O.synchronous,p.unshift(O.fulfilled,O.rejected))});const g=[];this.interceptors.response.forEach(function(O){g.push(O.fulfilled,O.rejected)});let b,v=0,E;if(!x){const w=[Mp.bind(this),void 0];for(w.unshift(...p),w.push(...g),E=w.length,b=Promise.resolve(i);v<E;)b=b.then(w[v++],w[v++]);return b}E=p.length;let B=i;for(;v<E;){const w=p[v++],O=p[v++];try{B=w(B)}catch(R){O.call(this,R);break}}try{b=Mp.call(this,B)}catch(w){return Promise.reject(w)}for(v=0,E=g.length;v<E;)b=b.then(g[v++],g[v++]);return b}getUri(r){r=Ls(this.defaults,r);const i=w0(r.baseURL,r.url,r.allowAbsoluteUrls);return y0(i,r.params,r.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(r){ks.prototype[r]=function(i,o){return this.request(Ls(o||{},{method:r,url:i,data:(o||{}).data}))}});Q.forEach(["post","put","patch"],function(r){function i(o){return function(f,h,p){return this.request(Ls(p||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:f,data:h}))}}ks.prototype[r]=i(),ks.prototype[r+"Form"]=i(!0)});let H1=class _0{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(f){i=f});const o=this;this.promise.then(d=>{if(!o._listeners)return;let f=o._listeners.length;for(;f-- >0;)o._listeners[f](d);o._listeners=null}),this.promise.then=d=>{let f;const h=new Promise(p=>{o.subscribe(p),f=p}).then(d);return h.cancel=function(){o.unsubscribe(f)},h},r(function(f,h,p){o.reason||(o.reason=new kn(f,h,p),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=o=>{r.abort(o)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new _0(function(d){r=d}),cancel:r}}};function q1(l){return function(i){return l.apply(null,i)}}function V1(l){return Q.isObject(l)&&l.isAxiosError===!0}const wu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(wu).forEach(([l,r])=>{wu[r]=l});function T0(l){const r=new ks(l),i=r0(ks.prototype.request,r);return Q.extend(i,ks.prototype,r,{allOwnKeys:!0}),Q.extend(i,r,null,{allOwnKeys:!0}),i.create=function(d){return T0(Ls(l,d))},i}const Ze=T0(Fl);Ze.Axios=ks;Ze.CanceledError=kn;Ze.CancelToken=H1;Ze.isCancel=N0;Ze.VERSION=A0;Ze.toFormData=Ui;Ze.AxiosError=pe;Ze.Cancel=Ze.CanceledError;Ze.all=function(r){return Promise.all(r)};Ze.spread=q1;Ze.isAxiosError=V1;Ze.mergeConfig=Ls;Ze.AxiosHeaders=Nt;Ze.formToJSON=l=>v0(Q.isHTMLForm(l)?new FormData(l):l);Ze.getAdapter=E0.getAdapter;Ze.HttpStatusCode=wu;Ze.default=Ze;const{Axios:J2,AxiosError:Y2,CanceledError:G2,isCancel:X2,CancelToken:$2,VERSION:F2,all:Z2,Cancel:K2,isAxiosError:P2,spread:W2,toFormData:I2,AxiosHeaders:ew,HttpStatusCode:tw,formToJSON:aw,getAdapter:sw,mergeConfig:nw}=Ze;let Su=l=>console.warn("Toast:",l);function Q1(l){Su=l}function J1(l,r={}){try{Su(typeof l=="string"?{message:l,type:r.type||"info",duration:r.duration!==void 0?r.duration:3e3}:{type:"info",duration:3e3,...l,...r})}catch{}}const Y1="http://localhost:5000/api",fe=Ze.create({baseURL:Y1,headers:{"Content-Type":"application/json"}});fe.interceptors.request.use(l=>{const r=localStorage.getItem("token");return r&&(l.headers.Authorization=`Bearer ${r}`),l},l=>Promise.reject(l));fe.interceptors.response.use(l=>l,l=>{l.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login");try{const r=l.response?.data?.message||l.message||"Request failed";J1(r)}catch{}return Promise.reject(l)});const R0=N.createContext(null),G1=({children:l})=>{const[r,i]=N.useState(null),[o,d]=N.useState(localStorage.getItem("token")),[f,h]=N.useState(!0);N.useEffect(()=>{if(o){const b=JSON.parse(localStorage.getItem("user")||"null");i(b)}h(!1)},[o]);const g={user:r,token:o,loading:f,login:async(b,v)=>{try{const{data:E}=await fe.post("/auth/login",{email:b,password:v});return d(E.token),i(E.user),localStorage.setItem("token",E.token),localStorage.setItem("user",JSON.stringify(E.user)),{success:!0}}catch(E){return{success:!1,error:E.response?.data?.message||"Login failed"}}},logout:()=>{d(null),i(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isAdmin:r?.role==="admin",isTechnician:r?.role==="technician"};return s.jsx(R0.Provider,{value:g,children:l})},Vs=()=>{const l=N.useContext(R0);if(!l)throw new Error("useAuth must be used within AuthProvider");return l},ma=Object.create(null);ma.open="0";ma.close="1";ma.ping="2";ma.pong="3";ma.message="4";ma.upgrade="5";ma.noop="6";const wi=Object.create(null);Object.keys(ma).forEach(l=>{wi[ma[l]]=l});const Cu={type:"error",data:"parser error"},O0=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",z0=typeof ArrayBuffer=="function",M0=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l&&l.buffer instanceof ArrayBuffer,Zu=({type:l,data:r},i,o)=>O0&&r instanceof Blob?i?o(r):Up(r,o):z0&&(r instanceof ArrayBuffer||M0(r))?i?o(r):Up(new Blob([r]),o):o(ma[l]+(r||"")),Up=(l,r)=>{const i=new FileReader;return i.onload=function(){const o=i.result.split(",")[1];r("b"+(o||""))},i.readAsDataURL(l)};function kp(l){return l instanceof Uint8Array?l:l instanceof ArrayBuffer?new Uint8Array(l):new Uint8Array(l.buffer,l.byteOffset,l.byteLength)}let mu;function X1(l,r){if(O0&&l.data instanceof Blob)return l.data.arrayBuffer().then(kp).then(r);if(z0&&(l.data instanceof ArrayBuffer||M0(l.data)))return r(kp(l.data));Zu(l,!1,i=>{mu||(mu=new TextEncoder),r(mu.encode(i))})}const Lp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ll=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let l=0;l<Lp.length;l++)Ll[Lp.charCodeAt(l)]=l;const $1=l=>{let r=l.length*.75,i=l.length,o,d=0,f,h,p,x;l[l.length-1]==="="&&(r--,l[l.length-2]==="="&&r--);const g=new ArrayBuffer(r),b=new Uint8Array(g);for(o=0;o<i;o+=4)f=Ll[l.charCodeAt(o)],h=Ll[l.charCodeAt(o+1)],p=Ll[l.charCodeAt(o+2)],x=Ll[l.charCodeAt(o+3)],b[d++]=f<<2|h>>4,b[d++]=(h&15)<<4|p>>2,b[d++]=(p&3)<<6|x&63;return g},F1=typeof ArrayBuffer=="function",Ku=(l,r)=>{if(typeof l!="string")return{type:"message",data:D0(l,r)};const i=l.charAt(0);return i==="b"?{type:"message",data:Z1(l.substring(1),r)}:wi[i]?l.length>1?{type:wi[i],data:l.substring(1)}:{type:wi[i]}:Cu},Z1=(l,r)=>{if(F1){const i=$1(l);return D0(i,r)}else return{base64:!0,data:l}},D0=(l,r)=>{switch(r){case"blob":return l instanceof Blob?l:new Blob([l]);case"arraybuffer":default:return l instanceof ArrayBuffer?l:l.buffer}},U0="",K1=(l,r)=>{const i=l.length,o=new Array(i);let d=0;l.forEach((f,h)=>{Zu(f,!1,p=>{o[h]=p,++d===i&&r(o.join(U0))})})},P1=(l,r)=>{const i=l.split(U0),o=[];for(let d=0;d<i.length;d++){const f=Ku(i[d],r);if(o.push(f),f.type==="error")break}return o};function W1(){return new TransformStream({transform(l,r){X1(l,i=>{const o=i.length;let d;if(o<126)d=new Uint8Array(1),new DataView(d.buffer).setUint8(0,o);else if(o<65536){d=new Uint8Array(3);const f=new DataView(d.buffer);f.setUint8(0,126),f.setUint16(1,o)}else{d=new Uint8Array(9);const f=new DataView(d.buffer);f.setUint8(0,127),f.setBigUint64(1,BigInt(o))}l.data&&typeof l.data!="string"&&(d[0]|=128),r.enqueue(d),r.enqueue(i)})}})}let hu;function xi(l){return l.reduce((r,i)=>r+i.length,0)}function gi(l,r){if(l[0].length===r)return l.shift();const i=new Uint8Array(r);let o=0;for(let d=0;d<r;d++)i[d]=l[0][o++],o===l[0].length&&(l.shift(),o=0);return l.length&&o<l[0].length&&(l[0]=l[0].slice(o)),i}function I1(l,r){hu||(hu=new TextDecoder);const i=[];let o=0,d=-1,f=!1;return new TransformStream({transform(h,p){for(i.push(h);;){if(o===0){if(xi(i)<1)break;const x=gi(i,1);f=(x[0]&128)===128,d=x[0]&127,d<126?o=3:d===126?o=1:o=2}else if(o===1){if(xi(i)<2)break;const x=gi(i,2);d=new DataView(x.buffer,x.byteOffset,x.length).getUint16(0),o=3}else if(o===2){if(xi(i)<8)break;const x=gi(i,8),g=new DataView(x.buffer,x.byteOffset,x.length),b=g.getUint32(0);if(b>Math.pow(2,21)-1){p.enqueue(Cu);break}d=b*Math.pow(2,32)+g.getUint32(4),o=3}else{if(xi(i)<d)break;const x=gi(i,d);p.enqueue(Ku(f?x:hu.decode(x),r)),o=0}if(d===0||d>l){p.enqueue(Cu);break}}}})}const k0=4;function et(l){if(l)return eN(l)}function eN(l){for(var r in et.prototype)l[r]=et.prototype[r];return l}et.prototype.on=et.prototype.addEventListener=function(l,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+l]=this._callbacks["$"+l]||[]).push(r),this};et.prototype.once=function(l,r){function i(){this.off(l,i),r.apply(this,arguments)}return i.fn=r,this.on(l,i),this};et.prototype.off=et.prototype.removeListener=et.prototype.removeAllListeners=et.prototype.removeEventListener=function(l,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var i=this._callbacks["$"+l];if(!i)return this;if(arguments.length==1)return delete this._callbacks["$"+l],this;for(var o,d=0;d<i.length;d++)if(o=i[d],o===r||o.fn===r){i.splice(d,1);break}return i.length===0&&delete this._callbacks["$"+l],this};et.prototype.emit=function(l){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),i=this._callbacks["$"+l],o=1;o<arguments.length;o++)r[o-1]=arguments[o];if(i){i=i.slice(0);for(var o=0,d=i.length;o<d;++o)i[o].apply(this,r)}return this};et.prototype.emitReserved=et.prototype.emit;et.prototype.listeners=function(l){return this._callbacks=this._callbacks||{},this._callbacks["$"+l]||[]};et.prototype.hasListeners=function(l){return!!this.listeners(l).length};const Li=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,i)=>i(r,0),Xt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tN="arraybuffer";function L0(l,...r){return r.reduce((i,o)=>(l.hasOwnProperty(o)&&(i[o]=l[o]),i),{})}const aN=Xt.setTimeout,sN=Xt.clearTimeout;function Bi(l,r){r.useNativeTimers?(l.setTimeoutFn=aN.bind(Xt),l.clearTimeoutFn=sN.bind(Xt)):(l.setTimeoutFn=Xt.setTimeout.bind(Xt),l.clearTimeoutFn=Xt.clearTimeout.bind(Xt))}const nN=1.33;function lN(l){return typeof l=="string"?rN(l):Math.ceil((l.byteLength||l.size)*nN)}function rN(l){let r=0,i=0;for(let o=0,d=l.length;o<d;o++)r=l.charCodeAt(o),r<128?i+=1:r<2048?i+=2:r<55296||r>=57344?i+=3:(o++,i+=4);return i}function B0(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function iN(l){let r="";for(let i in l)l.hasOwnProperty(i)&&(r.length&&(r+="&"),r+=encodeURIComponent(i)+"="+encodeURIComponent(l[i]));return r}function oN(l){let r={},i=l.split("&");for(let o=0,d=i.length;o<d;o++){let f=i[o].split("=");r[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return r}class cN extends Error{constructor(r,i,o){super(r),this.description=i,this.context=o,this.type="TransportError"}}class Pu extends et{constructor(r){super(),this.writable=!1,Bi(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,i,o){return super.emitReserved("error",new cN(r,i,o)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const i=Ku(r,this.socket.binaryType);this.onPacket(i)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,i={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(i)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const i=iN(r);return i.length?"?"+i:""}}class uN extends Pu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const i=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let o=0;this._polling&&(o++,this.once("pollComplete",function(){--o||i()})),this.writable||(o++,this.once("drain",function(){--o||i()}))}else i()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const i=o=>{if(this.readyState==="opening"&&o.type==="open"&&this.onOpen(),o.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(o)};P1(r,this.socket.binaryType).forEach(i),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,K1(r,i=>{this.doWrite(i,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",i=this.query||{};return this.opts.timestampRequests!==!1&&(i[this.opts.timestampParam]=B0()),!this.supportsBinary&&!i.sid&&(i.b64=1),this.createUri(r,i)}}let H0=!1;try{H0=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dN=H0;function fN(){}class mN extends uN{constructor(r){if(super(r),typeof location<"u"){const i=location.protocol==="https:";let o=location.port;o||(o=i?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||o!==r.port}}doWrite(r,i){const o=this.request({method:"POST",data:r});o.on("success",i),o.on("error",(d,f)=>{this.onError("xhr post error",d,f)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(i,o)=>{this.onError("xhr poll error",i,o)}),this.pollXhr=r}}class da extends et{constructor(r,i,o){super(),this.createRequest=r,Bi(this,o),this._opts=o,this._method=o.method||"GET",this._uri=i,this._data=o.data!==void 0?o.data:null,this._create()}_create(){var r;const i=L0(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;const o=this._xhr=this.createRequest(i);try{o.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let d in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(d)&&o.setRequestHeader(d,this._opts.extraHeaders[d])}}catch{}if(this._method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(o),"withCredentials"in o&&(o.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(o.timeout=this._opts.requestTimeout),o.onreadystatechange=()=>{var d;o.readyState===3&&((d=this._opts.cookieJar)===null||d===void 0||d.parseCookies(o.getResponseHeader("set-cookie"))),o.readyState===4&&(o.status===200||o.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof o.status=="number"?o.status:0)},0))},o.send(this._data)}catch(d){this.setTimeoutFn(()=>{this._onError(d)},0);return}typeof document<"u"&&(this._index=da.requestsCount++,da.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fN,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete da.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}da.requestsCount=0;da.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Bp);else if(typeof addEventListener=="function"){const l="onpagehide"in Xt?"pagehide":"unload";addEventListener(l,Bp,!1)}}function Bp(){for(let l in da.requests)da.requests.hasOwnProperty(l)&&da.requests[l].abort()}const hN=(function(){const l=q0({xdomain:!1});return l&&l.responseType!==null})();class pN extends mN{constructor(r){super(r);const i=r&&r.forceBase64;this.supportsBinary=hN&&!i}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new da(q0,this.uri(),r)}}function q0(l){const r=l.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||dN))return new XMLHttpRequest}catch{}if(!r)try{return new Xt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const V0=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class xN extends Pu{get name(){return"websocket"}doOpen(){const r=this.uri(),i=this.opts.protocols,o=V0?{}:L0(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(o.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,i,o)}catch(d){return this.emitReserved("error",d)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let i=0;i<r.length;i++){const o=r[i],d=i===r.length-1;Zu(o,this.supportsBinary,f=>{try{this.doWrite(o,f)}catch{}d&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",i=this.query||{};return this.opts.timestampRequests&&(i[this.opts.timestampParam]=B0()),this.supportsBinary||(i.b64=1),this.createUri(r,i)}}const pu=Xt.WebSocket||Xt.MozWebSocket;class gN extends xN{createSocket(r,i,o){return V0?new pu(r,i,o):i?new pu(r,i):new pu(r)}doWrite(r,i){this.ws.send(i)}}class yN extends Pu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const i=I1(Number.MAX_SAFE_INTEGER,this.socket.binaryType),o=r.readable.pipeThrough(i).getReader(),d=W1();d.readable.pipeTo(r.writable),this._writer=d.writable.getWriter();const f=()=>{o.read().then(({done:p,value:x})=>{p||(this.onPacket(x),f())}).catch(p=>{})};f();const h={type:"open"};this.query.sid&&(h.data=`{"sid":"${this.query.sid}"}`),this._writer.write(h).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let i=0;i<r.length;i++){const o=r[i],d=i===r.length-1;this._writer.write(o).then(()=>{d&&Li(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const bN={websocket:gN,webtransport:yN,polling:pN},vN=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,NN=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Eu(l){if(l.length>8e3)throw"URI too long";const r=l,i=l.indexOf("["),o=l.indexOf("]");i!=-1&&o!=-1&&(l=l.substring(0,i)+l.substring(i,o).replace(/:/g,";")+l.substring(o,l.length));let d=vN.exec(l||""),f={},h=14;for(;h--;)f[NN[h]]=d[h]||"";return i!=-1&&o!=-1&&(f.source=r,f.host=f.host.substring(1,f.host.length-1).replace(/;/g,":"),f.authority=f.authority.replace("[","").replace("]","").replace(/;/g,":"),f.ipv6uri=!0),f.pathNames=jN(f,f.path),f.queryKey=wN(f,f.query),f}function jN(l,r){const i=/\/{2,9}/g,o=r.replace(i,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&o.splice(0,1),r.slice(-1)=="/"&&o.splice(o.length-1,1),o}function wN(l,r){const i={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(o,d,f){d&&(i[d]=f)}),i}const Au=typeof addEventListener=="function"&&typeof removeEventListener=="function",Si=[];Au&&addEventListener("offline",()=>{Si.forEach(l=>l())},!1);class ms extends et{constructor(r,i){if(super(),this.binaryType=tN,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(i=r,r=null),r){const o=Eu(r);i.hostname=o.host,i.secure=o.protocol==="https"||o.protocol==="wss",i.port=o.port,o.query&&(i.query=o.query)}else i.host&&(i.hostname=Eu(i.host).host);Bi(this,i),this.secure=i.secure!=null?i.secure:typeof location<"u"&&location.protocol==="https:",i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},i.transports.forEach(o=>{const d=o.prototype.name;this.transports.push(d),this._transportsByName[d]=o}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=oN(this.opts.query)),Au&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Si.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const i=Object.assign({},this.opts.query);i.EIO=k0,i.transport=r,this.id&&(i.sid=this.id);const o=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](o)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&ms.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const i=this.createTransport(r);i.open(),this.setTransport(i)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",i=>this._onClose("transport close",i))}onOpen(){this.readyState="open",ms.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const i=new Error("server error");i.code=r.data,this._onError(i);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let o=0;o<this.writeBuffer.length;o++){const d=this.writeBuffer[o].data;if(d&&(i+=lN(d)),o>0&&i>this._maxPayload)return this.writeBuffer.slice(0,o);i+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,Li(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,i,o){return this._sendPacket("message",r,i,o),this}send(r,i,o){return this._sendPacket("message",r,i,o),this}_sendPacket(r,i,o,d){if(typeof i=="function"&&(d=i,i=void 0),typeof o=="function"&&(d=o,o=null),this.readyState==="closing"||this.readyState==="closed")return;o=o||{},o.compress=o.compress!==!1;const f={type:r,data:i,options:o};this.emitReserved("packetCreate",f),this.writeBuffer.push(f),d&&this.once("flush",d),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),r()},o=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?o():r()}):this.upgrading?o():r()),this}_onError(r){if(ms.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,i){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Au&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const o=Si.indexOf(this._offlineEventListener);o!==-1&&Si.splice(o,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,i),this.writeBuffer=[],this._prevBufferLen=0}}}ms.protocol=k0;class SN extends ms{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let i=this.createTransport(r),o=!1;ms.priorWebsocketSuccess=!1;const d=()=>{o||(i.send([{type:"ping",data:"probe"}]),i.once("packet",v=>{if(!o)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;ms.priorWebsocketSuccess=i.name==="websocket",this.transport.pause(()=>{o||this.readyState!=="closed"&&(b(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const E=new Error("probe error");E.transport=i.name,this.emitReserved("upgradeError",E)}}))};function f(){o||(o=!0,b(),i.close(),i=null)}const h=v=>{const E=new Error("probe error: "+v);E.transport=i.name,f(),this.emitReserved("upgradeError",E)};function p(){h("transport closed")}function x(){h("socket closed")}function g(v){i&&v.name!==i.name&&f()}const b=()=>{i.removeListener("open",d),i.removeListener("error",h),i.removeListener("close",p),this.off("close",x),this.off("upgrading",g)};i.once("open",d),i.once("error",h),i.once("close",p),this.once("close",x),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{o||i.open()},200):i.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const i=[];for(let o=0;o<r.length;o++)~this.transports.indexOf(r[o])&&i.push(r[o]);return i}}let CN=class extends SN{constructor(r,i={}){const o=typeof r=="object"?r:i;(!o.transports||o.transports&&typeof o.transports[0]=="string")&&(o.transports=(o.transports||["polling","websocket","webtransport"]).map(d=>bN[d]).filter(d=>!!d)),super(r,o)}};function EN(l,r="",i){let o=l;i=i||typeof location<"u"&&location,l==null&&(l=i.protocol+"//"+i.host),typeof l=="string"&&(l.charAt(0)==="/"&&(l.charAt(1)==="/"?l=i.protocol+l:l=i.host+l),/^(https?|wss?):\/\//.test(l)||(typeof i<"u"?l=i.protocol+"//"+l:l="https://"+l),o=Eu(l)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const f=o.host.indexOf(":")!==-1?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+f+":"+o.port+r,o.href=o.protocol+"://"+f+(i&&i.port===o.port?"":":"+o.port),o}const AN=typeof ArrayBuffer=="function",_N=l=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(l):l.buffer instanceof ArrayBuffer,Q0=Object.prototype.toString,TN=typeof Blob=="function"||typeof Blob<"u"&&Q0.call(Blob)==="[object BlobConstructor]",RN=typeof File=="function"||typeof File<"u"&&Q0.call(File)==="[object FileConstructor]";function Wu(l){return AN&&(l instanceof ArrayBuffer||_N(l))||TN&&l instanceof Blob||RN&&l instanceof File}function Ci(l,r){if(!l||typeof l!="object")return!1;if(Array.isArray(l)){for(let i=0,o=l.length;i<o;i++)if(Ci(l[i]))return!0;return!1}if(Wu(l))return!0;if(l.toJSON&&typeof l.toJSON=="function"&&arguments.length===1)return Ci(l.toJSON(),!0);for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i)&&Ci(l[i]))return!0;return!1}function ON(l){const r=[],i=l.data,o=l;return o.data=_u(i,r),o.attachments=r.length,{packet:o,buffers:r}}function _u(l,r){if(!l)return l;if(Wu(l)){const i={_placeholder:!0,num:r.length};return r.push(l),i}else if(Array.isArray(l)){const i=new Array(l.length);for(let o=0;o<l.length;o++)i[o]=_u(l[o],r);return i}else if(typeof l=="object"&&!(l instanceof Date)){const i={};for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(i[o]=_u(l[o],r));return i}return l}function zN(l,r){return l.data=Tu(l.data,r),delete l.attachments,l}function Tu(l,r){if(!l)return l;if(l&&l._placeholder===!0){if(typeof l.num=="number"&&l.num>=0&&l.num<r.length)return r[l.num];throw new Error("illegal attachments")}else if(Array.isArray(l))for(let i=0;i<l.length;i++)l[i]=Tu(l[i],r);else if(typeof l=="object")for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&(l[i]=Tu(l[i],r));return l}const MN=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],DN=5;var Ce;(function(l){l[l.CONNECT=0]="CONNECT",l[l.DISCONNECT=1]="DISCONNECT",l[l.EVENT=2]="EVENT",l[l.ACK=3]="ACK",l[l.CONNECT_ERROR=4]="CONNECT_ERROR",l[l.BINARY_EVENT=5]="BINARY_EVENT",l[l.BINARY_ACK=6]="BINARY_ACK"})(Ce||(Ce={}));class UN{constructor(r){this.replacer=r}encode(r){return(r.type===Ce.EVENT||r.type===Ce.ACK)&&Ci(r)?this.encodeAsBinary({type:r.type===Ce.EVENT?Ce.BINARY_EVENT:Ce.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let i=""+r.type;return(r.type===Ce.BINARY_EVENT||r.type===Ce.BINARY_ACK)&&(i+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(i+=r.nsp+","),r.id!=null&&(i+=r.id),r.data!=null&&(i+=JSON.stringify(r.data,this.replacer)),i}encodeAsBinary(r){const i=ON(r),o=this.encodeAsString(i.packet),d=i.buffers;return d.unshift(o),d}}function Hp(l){return Object.prototype.toString.call(l)==="[object Object]"}class Iu extends et{constructor(r){super(),this.reviver=r}add(r){let i;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");i=this.decodeString(r);const o=i.type===Ce.BINARY_EVENT;o||i.type===Ce.BINARY_ACK?(i.type=o?Ce.EVENT:Ce.ACK,this.reconstructor=new kN(i),i.attachments===0&&super.emitReserved("decoded",i)):super.emitReserved("decoded",i)}else if(Wu(r)||r.base64)if(this.reconstructor)i=this.reconstructor.takeBinaryData(r),i&&(this.reconstructor=null,super.emitReserved("decoded",i));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let i=0;const o={type:Number(r.charAt(0))};if(Ce[o.type]===void 0)throw new Error("unknown packet type "+o.type);if(o.type===Ce.BINARY_EVENT||o.type===Ce.BINARY_ACK){const f=i+1;for(;r.charAt(++i)!=="-"&&i!=r.length;);const h=r.substring(f,i);if(h!=Number(h)||r.charAt(i)!=="-")throw new Error("Illegal attachments");o.attachments=Number(h)}if(r.charAt(i+1)==="/"){const f=i+1;for(;++i&&!(r.charAt(i)===","||i===r.length););o.nsp=r.substring(f,i)}else o.nsp="/";const d=r.charAt(i+1);if(d!==""&&Number(d)==d){const f=i+1;for(;++i;){const h=r.charAt(i);if(h==null||Number(h)!=h){--i;break}if(i===r.length)break}o.id=Number(r.substring(f,i+1))}if(r.charAt(++i)){const f=this.tryParse(r.substr(i));if(Iu.isPayloadValid(o.type,f))o.data=f;else throw new Error("invalid payload")}return o}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,i){switch(r){case Ce.CONNECT:return Hp(i);case Ce.DISCONNECT:return i===void 0;case Ce.CONNECT_ERROR:return typeof i=="string"||Hp(i);case Ce.EVENT:case Ce.BINARY_EVENT:return Array.isArray(i)&&(typeof i[0]=="number"||typeof i[0]=="string"&&MN.indexOf(i[0])===-1);case Ce.ACK:case Ce.BINARY_ACK:return Array.isArray(i)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class kN{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const i=zN(this.reconPack,this.buffers);return this.finishedReconstruction(),i}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const LN=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Iu,Encoder:UN,get PacketType(){return Ce},protocol:DN},Symbol.toStringTag,{value:"Module"}));function It(l,r,i){return l.on(r,i),function(){l.off(r,i)}}const BN=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class J0 extends et{constructor(r,i,o){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=i,o&&o.auth&&(this.auth=o.auth),this._opts=Object.assign({},o),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[It(r,"open",this.onopen.bind(this)),It(r,"packet",this.onpacket.bind(this)),It(r,"error",this.onerror.bind(this)),It(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...i){var o,d,f;if(BN.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(i.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const h={type:Ce.EVENT,data:i};if(h.options={},h.options.compress=this.flags.compress!==!1,typeof i[i.length-1]=="function"){const b=this.ids++,v=i.pop();this._registerAckCallback(b,v),h.id=b}const p=(d=(o=this.io.engine)===null||o===void 0?void 0:o.transport)===null||d===void 0?void 0:d.writable,x=this.connected&&!(!((f=this.io.engine)===null||f===void 0)&&f._hasPingExpired());return this.flags.volatile&&!p||(x?(this.notifyOutgoingListeners(h),this.packet(h)):this.sendBuffer.push(h)),this.flags={},this}_registerAckCallback(r,i){var o;const d=(o=this.flags.timeout)!==null&&o!==void 0?o:this._opts.ackTimeout;if(d===void 0){this.acks[r]=i;return}const f=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let p=0;p<this.sendBuffer.length;p++)this.sendBuffer[p].id===r&&this.sendBuffer.splice(p,1);i.call(this,new Error("operation has timed out"))},d),h=(...p)=>{this.io.clearTimeoutFn(f),i.apply(this,p)};h.withError=!0,this.acks[r]=h}emitWithAck(r,...i){return new Promise((o,d)=>{const f=(h,p)=>h?d(h):o(p);f.withError=!0,i.push(f),this.emit(r,...i)})}_addToQueue(r){let i;typeof r[r.length-1]=="function"&&(i=r.pop());const o={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((d,...f)=>o!==this._queue[0]?void 0:(d!==null?o.tryCount>this._opts.retries&&(this._queue.shift(),i&&i(d)):(this._queue.shift(),i&&i(null,...f)),o.pending=!1,this._drainQueue())),this._queue.push(o),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const i=this._queue[0];i.pending&&!r||(i.pending=!0,i.tryCount++,this.flags=i.flags,this.emit.apply(this,i.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:Ce.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,i){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,i),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(o=>String(o.id)===r)){const o=this.acks[r];delete this.acks[r],o.withError&&o.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ce.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ce.EVENT:case Ce.BINARY_EVENT:this.onevent(r);break;case Ce.ACK:case Ce.BINARY_ACK:this.onack(r);break;case Ce.DISCONNECT:this.ondisconnect();break;case Ce.CONNECT_ERROR:this.destroy();const o=new Error(r.data.message);o.data=r.data.data,this.emitReserved("connect_error",o);break}}onevent(r){const i=r.data||[];r.id!=null&&i.push(this.ack(r.id)),this.connected?this.emitEvent(i):this.receiveBuffer.push(Object.freeze(i))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const i=this._anyListeners.slice();for(const o of i)o.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const i=this;let o=!1;return function(...d){o||(o=!0,i.packet({type:Ce.ACK,id:r,data:d}))}}onack(r){const i=this.acks[r.id];typeof i=="function"&&(delete this.acks[r.id],i.withError&&r.data.unshift(null),i.apply(this,r.data))}onconnect(r,i){this.id=r,this.recovered=i&&this._pid===i,this._pid=i,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ce.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const i=this._anyListeners;for(let o=0;o<i.length;o++)if(r===i[o])return i.splice(o,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const i=this._anyOutgoingListeners;for(let o=0;o<i.length;o++)if(r===i[o])return i.splice(o,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const i=this._anyOutgoingListeners.slice();for(const o of i)o.apply(this,r.data)}}}function Ln(l){l=l||{},this.ms=l.min||100,this.max=l.max||1e4,this.factor=l.factor||2,this.jitter=l.jitter>0&&l.jitter<=1?l.jitter:0,this.attempts=0}Ln.prototype.duration=function(){var l=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),i=Math.floor(r*this.jitter*l);l=(Math.floor(r*10)&1)==0?l-i:l+i}return Math.min(l,this.max)|0};Ln.prototype.reset=function(){this.attempts=0};Ln.prototype.setMin=function(l){this.ms=l};Ln.prototype.setMax=function(l){this.max=l};Ln.prototype.setJitter=function(l){this.jitter=l};class Ru extends et{constructor(r,i){var o;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(i=r,r=void 0),i=i||{},i.path=i.path||"/socket.io",this.opts=i,Bi(this,i),this.reconnection(i.reconnection!==!1),this.reconnectionAttempts(i.reconnectionAttempts||1/0),this.reconnectionDelay(i.reconnectionDelay||1e3),this.reconnectionDelayMax(i.reconnectionDelayMax||5e3),this.randomizationFactor((o=i.randomizationFactor)!==null&&o!==void 0?o:.5),this.backoff=new Ln({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(i.timeout==null?2e4:i.timeout),this._readyState="closed",this.uri=r;const d=i.parser||LN;this.encoder=new d.Encoder,this.decoder=new d.Decoder,this._autoConnect=i.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var i;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(i=this.backoff)===null||i===void 0||i.setMin(r),this)}randomizationFactor(r){var i;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(i=this.backoff)===null||i===void 0||i.setJitter(r),this)}reconnectionDelayMax(r){var i;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(i=this.backoff)===null||i===void 0||i.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new CN(this.uri,this.opts);const i=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const d=It(i,"open",function(){o.onopen(),r&&r()}),f=p=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",p),r?r(p):this.maybeReconnectOnOpen()},h=It(i,"error",f);if(this._timeout!==!1){const p=this._timeout,x=this.setTimeoutFn(()=>{d(),f(new Error("timeout")),i.close()},p);this.opts.autoUnref&&x.unref(),this.subs.push(()=>{this.clearTimeoutFn(x)})}return this.subs.push(d),this.subs.push(h),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(It(r,"ping",this.onping.bind(this)),It(r,"data",this.ondata.bind(this)),It(r,"error",this.onerror.bind(this)),It(r,"close",this.onclose.bind(this)),It(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(i){this.onclose("parse error",i)}}ondecoded(r){Li(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,i){let o=this.nsps[r];return o?this._autoConnect&&!o.active&&o.connect():(o=new J0(this,r,i),this.nsps[r]=o),o}_destroy(r){const i=Object.keys(this.nsps);for(const o of i)if(this.nsps[o].active)return;this._close()}_packet(r){const i=this.encoder.encode(r);for(let o=0;o<i.length;o++)this.engine.write(i[o],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,i){var o;this.cleanup(),(o=this.engine)===null||o===void 0||o.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,i),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const i=this.backoff.duration();this._reconnecting=!0;const o=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(d=>{d?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",d)):r.onreconnect()}))},i);this.opts.autoUnref&&o.unref(),this.subs.push(()=>{this.clearTimeoutFn(o)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const kl={};function Ei(l,r){typeof l=="object"&&(r=l,l=void 0),r=r||{};const i=EN(l,r.path||"/socket.io"),o=i.source,d=i.id,f=i.path,h=kl[d]&&f in kl[d].nsps,p=r.forceNew||r["force new connection"]||r.multiplex===!1||h;let x;return p?x=new Ru(o,r):(kl[d]||(kl[d]=new Ru(o,r)),x=kl[d]),i.query&&!r.query&&(r.query=i.queryKey),x.socket(i.path,r)}Object.assign(Ei,{Manager:Ru,Socket:J0,io:Ei,connect:Ei});const Y0=N.createContext(null),Hi=()=>{const l=N.useContext(Y0);if(!l)throw new Error("useSocket must be used within SocketProvider");return l},HN=({children:l})=>{const[r,i]=N.useState(null),[o,d]=N.useState(!1);N.useEffect(()=>{const h=localStorage.getItem("token");if(!h)return;let p;try{p=Ei("http://localhost:5000",{auth:{token:h},autoConnect:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5})}catch(x){console.error("Failed to create socket:",x);return}return p.on("connect",()=>{d(!0)}),p.on("disconnect",x=>{d(!1)}),p.on("connect_error",x=>{d(!1)}),p.on("reconnect",x=>{}),i(p),()=>{try{p?.disconnect()}catch{}i(null)}},[]);const f={socket:r,connected:o,subscribeToJob:h=>{r&&r.emit("subscribe:job",h)},unsubscribeFromJob:h=>{r&&r.emit("unsubscribe:job",h)},subscribeToInventory:h=>{r&&r.emit("subscribe:inventory",h)}};return s.jsx(Y0.Provider,{value:f,children:l})},cs=({children:l,adminOnly:r=!1,role:i=null})=>{const{user:o,loading:d}=Vs();return d?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):o?r&&o.role!=="admin"?s.jsx(Bl,{to:o.role==="technician"?"/technician/dashboard":"/dashboard",replace:!0}):i&&o.role!==i?s.jsx(Bl,{to:o.role==="admin"?"/dashboard":"/technician/dashboard",replace:!0}):l:s.jsx(Bl,{to:"/login",replace:!0})};const qN=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VN=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,o)=>o?o.toUpperCase():i.toLowerCase()),qp=l=>{const r=VN(l);return r.charAt(0).toUpperCase()+r.slice(1)},G0=(...l)=>l.filter((r,i,o)=>!!r&&r.trim()!==""&&o.indexOf(r)===i).join(" ").trim(),QN=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};var JN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const YN=N.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:d="",children:f,iconNode:h,...p},x)=>N.createElement("svg",{ref:x,...JN,width:r,height:r,stroke:l,strokeWidth:o?Number(i)*24/Number(r):i,className:G0("lucide",d),...!f&&!QN(p)&&{"aria-hidden":"true"},...p},[...h.map(([g,b])=>N.createElement(g,b)),...Array.isArray(f)?f:[f]]));const ue=(l,r)=>{const i=N.forwardRef(({className:o,...d},f)=>N.createElement(YN,{ref:f,iconNode:r,className:G0(`lucide-${qN(qp(l))}`,`lucide-${l}`,o),...d}));return i.displayName=qp(l),i};const GN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ed=ue("activity",GN);const XN=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],$N=ue("bell",XN);const FN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Rn=ue("briefcase",FN);const ZN=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],X0=ue("building-2",ZN);const KN=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],PN=ue("calculator",KN);const WN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],IN=ue("calendar",WN);const ej=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ou=ue("camera",ej);const tj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dt=ue("circle-alert",tj);const aj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mt=ue("circle-check-big",aj);const sj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],nj=ue("circle-user",sj);const lj=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fa=ue("clock",lj);const rj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],On=ue("dollar-sign",rj);const ij=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ua=ue("eye",ij);const oj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$t=ue("file-text",oj);const cj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zu=ue("funnel",cj);const uj=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Mu=ue("hash",uj);const dj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Vp=ue("house",dj);const fj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Du=ue("image",fj);const mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$0=ue("info",mj);const hj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Uu=ue("layers",hj);const pj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ku=ue("lock",pj);const xj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],gj=ue("log-out",xj);const yj=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],qi=ue("mail",yj);const bj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ql=ue("map-pin",bj);const vj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Nj=ue("menu",vj);const jj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jt=ue("package",jj);const wj=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Bs=ue("phone",wj);const Sj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hs=ue("plus",Sj);const Cj=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ej=ue("save",Cj);const Aj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zl=ue("search",Aj);const _j=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vi=ue("settings",_j);const Tj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],F0=ue("shield",Tj);const Rj=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],Oj=ue("snowflake",Rj);const zj=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ds=ue("square-pen",zj);const Mj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ea=ue("trash-2",Mj);const Dj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Z0=ue("trending-down",Dj);const Uj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Vl=ue("trending-up",Uj);const kj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],K0=ue("triangle-alert",kj);const Lj=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qp=ue("upload",Lj);const Bj=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xu=ue("user-check",Bj);const Hj=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qj=ue("user-cog",Hj);const Vj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],gu=ue("user-x",Vj);const Qj=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qs=ue("user",Qj);const Jj=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fs=ue("users",Jj);const Yj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],P0=ue("wifi-off",Yj);const Gj=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],W0=ue("wifi",Gj);const Xj=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],I0=ue("wrench",Xj);const $j=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ta=ue("x",$j),Fj=({isOpen:l,toggleSidebar:r})=>{const i=pa(),{user:o}=Vs(),f=[{name:"Dashboard",href:"/dashboard",icon:Vp,roles:["admin"]},{name:"Users",href:"/users",icon:qj,roles:["admin"]},{name:"Customers",href:"/customers",icon:fs,roles:["admin"]},{name:"Jobs",href:"/jobs",icon:Rn,roles:["admin"]},{name:"Dashboard",href:"/technician/dashboard",icon:Vp,roles:["technician"]},{name:"Jobs",href:"/technician/jobs",icon:ed,roles:["technician"]},{name:"Inventory",href:"/inventory",icon:jt,roles:["admin"]},{name:"Settings",href:"/settings",icon:Vi,roles:["admin"]}].filter(p=>p.roles.includes(o?.role)),h=p=>i.pathname===p||i.pathname.startsWith(p+"/");return s.jsxs(s.Fragment,{children:[s.jsxs("aside",{className:`
          fixed inset-y-0 left-0 bg-gray-900 text-white z-50 w-64 transform transition-transform duration-300
          ${l?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
        `,children:[s.jsxs("div",{className:"flex items-center h-16 px-4 border-b border-gray-800 justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2 w-full justify-start lg:justify-center",children:[s.jsx(Oj,{className:"w-7 h-7 text-blue-300"}),s.jsx("span",{className:"font-bold text-lg",children:"CoolTrack"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-800 rounded-lg transition-colors lg:hidden",children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsx("nav",{className:"p-4 space-y-2",children:f.map(p=>{const x=p.icon,g=h(p.href);return s.jsxs(ua,{to:p.href,className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,onClick:r,children:[s.jsx(x,{className:"w-5 h-5 shrink-0"}),s.jsx("span",{className:"font-medium",children:p.name})]},p.name)})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-800 hidden lg:block",children:s.jsx("p",{className:"text-xs text-gray-400 text-center",children:"RAC Management v1.0"})})]}),l&&s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:r})]})},Zj=({toggleSidebar:l})=>{const{user:r,logout:i}=Vs(),o=Jl(),[d,f]=N.useState(!1),h=()=>{i(),o("/login")};return s.jsxs("header",{className:"bg-white border-b border-gray-200 h-16 flex items-center justify-between px-4 sm:px-6 sticky top-0 z-30",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:l,className:"p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors lg:hidden",children:s.jsx(Nj,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:r?.role==="admin"?"Admin Portal":"Technician Portal"})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx($N,{className:"w-5 h-5"}),s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 sm:gap-3 px-2 sm:px-3 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx(nj,{className:"w-7 h-7 sm:w-8 sm:h-8 text-gray-400"}),s.jsxs("div",{className:"text-left hidden sm:block",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:r?.name}),s.jsx("p",{className:"text-xs text-gray-500 capitalize",children:r?.role})]})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-20",onClick:()=>f(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-30",children:[s.jsxs("button",{onClick:()=>{f(!1),o("/settings")},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[s.jsx(Vi,{className:"w-4 h-4"}),"Settings"]}),s.jsx("div",{className:"border-t border-gray-200 my-1"}),s.jsxs("button",{onClick:h,className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[s.jsx(gj,{className:"w-4 h-4"}),"Sign Out"]})]})]})]})]})]})},us=({children:l})=>{const[r,i]=N.useState(!1);return N.useEffect(()=>{const o=()=>{window.innerWidth<1024&&r&&i(!1)};return window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[r]),s.jsxs("div",{className:"min-h-screen flex bg-gray-50",children:[s.jsx(Fj,{isOpen:r,toggleSidebar:()=>i(!r)}),s.jsxs("div",{className:"flex-1 flex flex-col transition-all duration-300 lg:ml-64",children:[s.jsx(Zj,{toggleSidebar:()=>i(!r)}),s.jsx("main",{className:"p-4 sm:p-6",children:l})]})]})},Kj=()=>{const[l,r]=N.useState(""),[i,o]=N.useState(""),[d,f]=N.useState(""),[h,p]=N.useState(!1),{login:x,user:g}=Vs(),b=Jl(),E=pa().state?.message;N.useEffect(()=>{g&&b("/dashboard")},[g,b]);const B=async w=>{w.preventDefault(),f(""),p(!0);const O=await x(l,i);O.success?b("/dashboard"):(f(O.error),p(!1))};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:s.jsx(ed,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CoolTrack RAC"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Service Management System"})]}),E&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(Mt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-green-600",children:E})]}),s.jsxs("div",{onSubmit:B,children:[d&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(Dt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-600",children:d})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",value:l,onChange:w=>r(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"you@example.com",required:!0,disabled:h})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",value:i,onChange:w=>o(w.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"",required:!0,disabled:h})]})]}),s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),s.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),s.jsx("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"Forgot password?"})]}),s.jsx("button",{onClick:B,disabled:h,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?"Signing in...":"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",s.jsx(ua,{to:"/register",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Create one here"})]})}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("p",{className:"text-xs text-gray-500 text-center mb-2",children:"Demo Accounts:"}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[s.jsxs("p",{className:"text-center",children:[s.jsx("span",{className:"font-medium",children:"Admin:"})," admin@cooltrack.com / admin123"]}),s.jsxs("p",{className:"text-center",children:[s.jsx("span",{className:"font-medium",children:"Tech:"})," john@cooltrack.com / tech123"]})]})]})]})})},Pj=()=>{const[l,r]=N.useState({name:"",email:"",password:"",confirmPassword:"",role:"technician",phone:"",address:""}),[i,o]=N.useState({}),[d,f]=N.useState(!1),[h,p]=N.useState(!1),{user:x}=Vs(),g=Jl();N.useEffect(()=>{x&&g("/dashboard")},[x,g]);const b=()=>{const B={};return l.name.trim()?l.name.trim().length<2&&(B.name="Name must be at least 2 characters"):B.name="Name is required",l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(B.email="Invalid email format"):B.email="Email is required",l.password?l.password.length<6&&(B.password="Password must be at least 6 characters"):B.password="Password is required",l.confirmPassword?l.password!==l.confirmPassword&&(B.confirmPassword="Passwords do not match"):B.confirmPassword="Please confirm your password",l.phone&&!/^[\d\s\+\-\(\)]+$/.test(l.phone)&&(B.phone="Invalid phone format"),o(B),Object.keys(B).length===0},v=B=>{const{name:w,value:O}=B.target;r(R=>({...R,[w]:O})),i[w]&&o(R=>({...R,[w]:""}))},E=async B=>{if(B.preventDefault(),!!b()){f(!0);try{const{confirmPassword:w,...O}=l,{data:R}=await fe.post("/auth/register",O);p(!0),setTimeout(()=>{g("/login",{state:{message:"Registration successful! Please login with your credentials."}})},2e3)}catch(w){const O=w.response?.data?.message||"Registration failed. Please try again.";o({submit:O})}finally{f(!1)}}};return h?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-500 rounded-full mb-4",children:s.jsx(Mt,{className:"w-8 h-8 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Registration Successful!"}),s.jsx("p",{className:"text-gray-600 mb-4",children:"Your account has been created successfully."}),s.jsx("div",{className:"animate-pulse text-sm text-gray-500",children:"Redirecting to login..."})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:s.jsx(ed,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Join CoolTrack RAC Management"})]}),s.jsxs("div",{onSubmit:E,children:[i.submit&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start gap-3 mb-6",children:[s.jsx(Dt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsx("p",{className:"text-sm text-red-600",children:i.submit})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"name",value:l.name,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ${i.name?"border-red-300":"border-gray-300"}`,placeholder:"John Doe",disabled:d})]}),i.name&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.name})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:l.email,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ${i.email?"border-red-300":"border-gray-300"}`,placeholder:"you@example.com",disabled:d})]}),i.email&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",name:"password",value:l.password,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ${i.password?"border-red-300":"border-gray-300"}`,placeholder:"",disabled:d})]}),i.password&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),s.jsxs("div",{className:"relative",children:[s.jsx(ku,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"password",name:"confirmPassword",value:l.confirmPassword,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ${i.confirmPassword?"border-red-300":"border-gray-300"}`,placeholder:"",disabled:d})]}),i.confirmPassword&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.confirmPassword})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role *"}),s.jsxs("select",{name:"role",value:l.role,onChange:v,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",disabled:d,children:[s.jsx("option",{value:"technician",children:"Technician"}),s.jsx("option",{value:"admin",children:"Admin"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",name:"phone",value:l.phone,onChange:v,className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition ${i.phone?"border-red-300":"border-gray-300"}`,placeholder:"+63 912 345 6789",disabled:d})]}),i.phone&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.phone})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ql,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("textarea",{name:"address",value:l.address,onChange:v,rows:"2",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none",placeholder:"Your address",disabled:d})]})]})]}),s.jsx("button",{onClick:E,disabled:d,className:"w-full mt-6 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Creating Account...":"Create Account"})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",s.jsx(ua,{to:"/login",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in here"})]})})]})})};function Le(l){return`${(Number(l)||0).toLocaleString("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2})}`}const ex=({mode:l,customerData:r,onClose:i,onSubmit:o})=>{const[d,f]=N.useState({name:"",email:"",phone:"",address:"",company:"",notes:""});N.useEffect(()=>{r&&f(r)},[r]);const h=b=>{const{name:v,value:E}=b.target;f(B=>({...B,[v]:E}))},p=b=>{b.preventDefault(),o(d)},x=l==="view",g=l==="add"?"Add Customer":l==="edit"?"Edit Customer":"View Customer";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-lg p-6 relative",children:[s.jsx("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",onClick:i,children:s.jsx(ta,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-xl font-bold mb-4",children:g}),s.jsxs("form",{onSubmit:p,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),s.jsxs("div",{className:"relative",children:[s.jsx(qs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"name",value:d.name,onChange:h,readOnly:x,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"John Doe"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),s.jsxs("div",{className:"relative",children:[s.jsx(qi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:d.email,onChange:h,readOnly:x,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"email@example.com"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Bs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"tel",name:"phone",value:d.phone,onChange:h,readOnly:x,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"+63 912 345 6789"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),s.jsxs("div",{className:"relative",children:[s.jsx(ql,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("textarea",{name:"address",value:d.address,onChange:h,readOnly:x,rows:"2",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none",placeholder:"Customer address"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company"}),s.jsxs("div",{className:"relative",children:[s.jsx(X0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"company",value:d.company,onChange:h,readOnly:x,className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Company name"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsxs("div",{className:"relative",children:[s.jsx($t,{className:"absolute left-3 top-3 w-5 h-5 text-gray-400"}),s.jsx("textarea",{name:"notes",value:d.notes,onChange:h,readOnly:x,rows:"2",className:"w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none",placeholder:"Additional notes"})]})]}),!x&&s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 border rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:l==="add"?"Add Customer":"Update Customer"})]})]})]})})},tx=async()=>(await fe.get("/jobs")).data,ax=async()=>(await fe.get("/jobs/stats")).data,Wj=async()=>(await fe.get("/jobs/technician")).data,sx=async l=>(await fe.get(`/jobs/${l}`)).data,Ij=async(l,r=null)=>{if(r){const i=new FormData;return Object.keys(l).forEach(d=>{l[d]!==void 0&&l[d]!==null&&i.append(d,l[d])}),r.photos&&r.photos.forEach(d=>i.append("photos",d)),r.documents&&r.documents.forEach(d=>i.append("documents",d)),(await fe.post("/jobs",i,{headers:{"Content-Type":"multipart/form-data"}})).data}else return(await fe.post("/jobs",l)).data},e2=async(l,r)=>{const i=new FormData;return r.photos&&r.photos.forEach(d=>i.append("photos",d)),r.documents&&r.documents.forEach(d=>i.append("documents",d)),(await fe.post(`/jobs/${l}/files`,i,{headers:{"Content-Type":"multipart/form-data"}})).data},t2=async(l,r)=>(await fe.put(`/jobs/${l}`,r)).data,Ti=async(l,r,i={})=>(await fe.patch(`/jobs/${l}/status`,{status:r,updateData:i})).data,a2=async(l,r,i)=>(await fe.post(`/jobs/${l}/additional-payment`,{description:r,amount:i})).data,s2=async(l,r)=>(await fe.delete(`/jobs/${l}/additional-payment/${r}`)).data,n2=async(l,r)=>(await fe.post(`/jobs/${l}/materials`,r)).data,l2=async(l,r)=>{console.log("API: Updating labor for job",l,"with data:",r);const i=await fe.patch(`/jobs/${l}/labor`,r);return console.log("API Response:",i.data),i.data},r2=async(l,r)=>(await fe.patch(`/jobs/${l}/labor-rate`,r)).data,i2=async(l,r)=>(await fe.patch(`/jobs/${l}/revenue`,r)).data,o2=async(l,r={})=>(await fe.post(`/jobs/${l}/approve-costing`,r)).data,c2=async()=>(await fe.get("/users/technicians")).data,nx=async()=>{const{data:l}=await fe.get("/customers");return l},u2=async l=>{const{data:r}=await fe.post("/customers",l);return r},d2=async(l,r)=>{const{data:i}=await fe.put(`/customers/${l}`,r);return i},f2=async l=>{const{data:r}=await fe.delete(`/customers/${l}`);return r},td=async()=>(await fe.get("/settings")).data,m2=async l=>(await fe.put("/settings",l)).data,lx=N.createContext(null),Jp={success:{bg:"bg-green-900",border:"border-l-4 border-green-500",icon:Mt},error:{bg:"bg-red-900",border:"border-l-4 border-red-500",icon:Dt},warning:{bg:"bg-yellow-900",border:"border-l-4 border-yellow-500",icon:K0},info:{bg:"bg-blue-900",border:"border-l-4 border-blue-500",icon:$0}},Kl=()=>{const l=N.useContext(lx);if(!l)throw new Error("useToast must be used inside ToastProvider");return l},h2=({children:l})=>{const[r,i]=N.useState([]);N.useEffect(()=>{Q1(f=>{const h=Date.now()+Math.random(),p=typeof f=="string"?{message:f,type:"info",duration:3e3}:{type:"info",duration:3e3,...f};if(i(x=>[...x,{id:h,...p}]),p.duration!==!1){const x=setTimeout(()=>d(h),p.duration||3e3);return()=>clearTimeout(x)}})},[]);const o=f=>{const h=Date.now()+Math.random(),p=typeof f=="string"?{message:f,type:"info",duration:3e3}:{type:"info",duration:3e3,...f};return i(x=>[...x,{id:h,...p}]),p.duration!==!1&&setTimeout(()=>d(h),p.duration||3e3),h},d=f=>{i(h=>h.filter(p=>p.id!==f))};return s.jsxs(lx.Provider,{value:{addToast:o,removeToast:d},children:[l,s.jsx("div",{className:"fixed top-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:r.map(f=>{const h=Jp[f.type]||Jp.info,p=h.icon;return s.jsxs("div",{className:`${h.bg} ${h.border} text-white px-4 py-3 rounded shadow-lg max-w-sm pointer-events-auto flex items-start gap-3`,children:[s.jsx(p,{size:20,className:"shrink mt-0.5"}),s.jsx("div",{className:"flex-1 text-sm",children:f.message}),s.jsx("button",{onClick:()=>d(f.id),className:"text-xs opacity-70 hover:opacity-100 ml-2 shrink",children:""})]},f.id)})})]})},ad=({isOpen:l,title:r,message:i,onConfirm:o,onCancel:d,isLoading:f=!1,confirmText:h="Confirm",cancelText:p="Cancel",variant:x="info"})=>{if(!l)return null;const g={danger:{bgIcon:"bg-red-100",textIcon:"text-red-600",btnConfirm:"bg-red-600 hover:bg-red-700",border:"border-l-4 border-red-500"},warning:{bgIcon:"bg-yellow-100",textIcon:"text-yellow-600",btnConfirm:"bg-yellow-600 hover:bg-yellow-700",border:"border-l-4 border-yellow-500"},info:{bgIcon:"bg-blue-100",textIcon:"text-blue-600",btnConfirm:"bg-blue-600 hover:bg-blue-700",border:"border-l-4 border-blue-500"}},b=g[x]||g.info,v=x==="danger"||x==="warning"?Dt:Mt;return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsx("div",{className:`bg-white rounded-lg shadow-xl max-w-sm w-full mx-4 ${b.border}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:`${b.bgIcon} ${b.textIcon} p-3 rounded-full flex-shrink-0`,children:s.jsx(v,{size:24})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-gray-900",children:r}),s.jsx("p",{className:"text-gray-600 mt-2 text-sm",children:i})]})]}),s.jsxs("div",{className:"flex gap-3 mt-6 pt-4 border-t",children:[s.jsx("button",{onClick:d,disabled:f,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:p}),s.jsxs("button",{onClick:o,disabled:f,className:`flex-1 px-4 py-2 ${b.btnConfirm} text-white rounded-lg disabled:opacity-50 disabled:cursor-not-allowed transition flex items-center justify-center gap-2`,children:[f&&s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),h]})]})]})})})};function rx({open:l,onClose:r,job:i,refreshJobs:o}){const{addToast:d}=Kl(),[f,h]=N.useState("basic"),[p,x]=N.useState(!1),[g,b]=N.useState({customerId:"",type:"installation",description:"",status:"pending",assignedTo:"",scheduledDate:"",laborHours:0,laborCost:0,totalRevenue:0,technicianNotes:"",adminNotes:""}),[v,E]=N.useState([]),[B,w]=N.useState([]),[O,R]=N.useState(!1),[V,M]=N.useState(!1),[S,G]=N.useState(null),[D,A]=N.useState(0),[X,te]=N.useState(null),[re,ge]=N.useState(""),[Ee,I]=N.useState(null),[de,we]=N.useState(!1),P=async()=>{if(i)try{we(!0);const Y=await sx(i._id);I(Y.job),b(ae=>({...ae,laborHours:Y.job.laborHours||0,laborCost:Y.job.laborCost||0,totalRevenue:Y.job.totalRevenue||0}))}catch{}finally{we(!1)}};N.useEffect(()=>{if(!l)return;async function Y(){try{M(!0);const ae=await c2();E(ae.technicians||[]);const ie=await nx();w(Array.isArray(ie)?ie:ie.customers||[]);const He=await td();G(He.settings)}catch{d({message:"Failed to load data.",type:"error"})}finally{M(!1)}}Y(),P()},[l,i]),N.useEffect(()=>{if(l){if(i){if(b({customerId:i.customerId?._id||i.customerId||"",type:i.type||"installation",description:i.description||"",status:i.status||"pending",assignedTo:i.assignedTo?._id||i.assignedTo||"",scheduledDate:i.scheduledDate?new Date(i.scheduledDate).toISOString().split("T")[0]:"",laborHours:i.laborHours||0,laborCost:i.laborCost||0,totalRevenue:i.totalRevenue||0,technicianNotes:i.technicianNotes||"",adminNotes:i.adminNotes||""}),S){const Y=S.laborRates?.ratesByJobType?.find(ae=>ae.jobType===i.type);A(Y?.hourlyRate||S.laborRates?.defaultHourlyRate||0)}}else if(b({customerId:"",type:"installation",description:"",status:"pending",assignedTo:"",scheduledDate:"",laborHours:0,laborCost:0,totalRevenue:0,technicianNotes:"",adminNotes:""}),S){const Y=S.defaultRevenue?.find(ae=>ae.jobType==="installation");Y&&b(ae=>({...ae,totalRevenue:Y.amount}))}}},[i,l,S]),N.useEffect(()=>{if(!S||i)return;const Y=S.defaultRevenue?.find(ie=>ie.jobType===g.type);Y&&b(ie=>({...ie,totalRevenue:Y.amount}));const ae=S.laborRates?.ratesByJobType?.find(ie=>ie.jobType===g.type);A(ae?.hourlyRate||S.laborRates?.defaultHourlyRate||0)},[g.type,S,i]);const U=Y=>{const{name:ae,value:ie,type:He}=Y.target;b({...g,[ae]:He==="number"?parseFloat(ie)||0:ie})},ee=async()=>{if(!g.customerId){d({message:"Please select a customer",type:"warning"});return}if(!g.type){d({message:"Please select a job type",type:"warning"});return}try{R(!0),i?await t2(i._id,g):await Ij(g),d({message:i?"Job updated successfully":"Job created successfully",type:"success"}),o(),r()}catch(Y){d({message:Y.response?.data?.message||"Failed to save job.",type:"error"})}finally{R(!1)}},ne=async()=>{const Y=parseFloat(g.totalRevenue);if(isNaN(Y)){d({message:"Please enter a valid revenue amount",type:"warning"});return}if(Y<0){d({message:"Revenue cannot be negative",type:"warning"});return}try{R(!0),await i2(i._id,{baseRevenue:Y}),await P(),d({message:"Revenue updated successfully",type:"success"}),o()}catch(ae){d({message:ae.response?.data?.message||"Failed to update revenue",type:"error"})}finally{R(!1)}},ye=async()=>{try{R(!0),await r2(i._id,{ratePerHour:D,overrideTotalCost:X||void 0}),await P(),d({message:"Labor rate updated successfully",type:"success"}),o()}catch(Y){d({message:Y.response?.data?.message||"Failed to update labor rate",type:"error"})}finally{R(!1)}},Ae=()=>{x(!0)},C=async()=>{try{R(!0),await o2(i._id,{notes:re}),await P(),d({message:"Costing approved successfully",type:"success"}),o()}catch(Y){d({message:Y.response?.data?.message||"Failed to approve costing",type:"error"})}finally{R(!1)}};if(!l)return null;const T=Ee||i,q=T&&!T.costingApproval?.isApproved&&T.status!=="pending"&&S?.requireCostApproval,W={pending:"bg-yellow-100 text-yellow-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",paid:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"};return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:[s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-6xl relative max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b relative",children:[s.jsx("button",{onClick:r,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:s.jsx(ta,{className:"w-5 h-5"})}),s.jsx("h2",{className:"text-xl font-bold",children:i?`Job #${i.jobNumber}`:"Create New Job"}),T&&s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${W[T.status]}`,children:T.status.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:T.type}),q&&s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700 flex items-center gap-1",children:[s.jsx(Dt,{className:"w-3 h-3"}),"Needs Approval"]}),T.costingApproval?.isApproved&&s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[s.jsx(Mt,{className:"w-3 h-3"}),"Approved"]})]})]}),s.jsx("div",{className:"border-b",children:s.jsxs("div",{className:"flex px-6 overflow-x-auto",children:[s.jsx("button",{onClick:()=>h("basic"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${f==="basic"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Basic Info"}),T&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>h("materials"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${f==="materials"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Materials"}),s.jsxs("button",{onClick:()=>h("costing"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap relative ${f==="costing"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(On,{className:"w-4 h-4 inline mr-1"}),"Costing",q&&s.jsx("span",{className:"absolute -top-1 -right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsx("button",{onClick:()=>h("files"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${f==="files"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Files"}),s.jsx("button",{onClick:()=>h("notes"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${f==="notes"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Notes"})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-5",children:[de&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-2",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Refreshing data..."})]}),f==="basic"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Customer"}),s.jsxs("select",{name:"customerId",value:g.customerId,onChange:U,className:"w-full border rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:V,children:[s.jsx("option",{value:"",children:V?"Loading...":"Select a customer"}),B.map(Y=>s.jsxs("option",{value:Y._id,children:[Y.name," - ",Y.phone]},Y._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Job Type"}),s.jsxs("select",{name:"type",value:g.type,onChange:U,className:"w-full border rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"installation",children:"Installation"}),s.jsx("option",{value:"repair",children:"Repair"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"inspection",children:"Inspection"})]}),!i&&S&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Default revenue: ",Le(S.defaultRevenue?.find(Y=>Y.jobType===g.type)?.amount||0)]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Assigned Technician"}),s.jsxs("select",{name:"assignedTo",value:g.assignedTo,onChange:U,className:"w-full border rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:V,children:[s.jsx("option",{value:"",children:V?"Loading technicians...":"Unassigned"}),v.map(Y=>s.jsx("option",{value:Y._id,children:Y.name},Y._id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx("textarea",{name:"description",value:g.description,onChange:U,rows:4,className:"w-full border rounded-lg p-2.5 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]})]}),f==="materials"&&T&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"})," Materials Used"]}),T.materialsUsed&&T.materialsUsed.length>0?s.jsx("div",{className:"space-y-3",children:T.materialsUsed.map((Y,ae)=>{let ie=Y.inventoryType==="serialized"?`SN: ${Y.serialNumber}`:Y.unit==="pcs"?`Qty: ${Y.quantity||0} pcs`:Y.unit==="meter"||Y.unit==="roll"?`Length: ${Y.lengthUsed||0} ${Y.unit}`:`${Y.quantity||Y.lengthUsed||0} ${Y.unit}`;return s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:Y.itemName}),s.jsx("p",{className:"text-sm text-gray-600",children:ie}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Added by: ",Y.addedBy?.name||"Technician"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:Le(Y.totalCost||0)}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Le(Y.unitCost||0)," / ",Y.unit]})]})]},ae)})}):s.jsx("p",{className:"text-gray-500 text-center py-8 bg-gray-50 rounded-lg",children:"No materials added"})]}),f==="costing"&&T&&s.jsxs("div",{className:"space-y-6",children:[q&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Dt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-semibold text-red-900",children:"Costing Approval Required"}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"This job needs costing approval before the technician can complete it."})]})]})}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"Revenue Management"]}),s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("input",{type:"number",name:"totalRevenue",value:g.totalRevenue,onChange:U,min:"0",step:"0.01",className:"border rounded-lg p-2.5 text-sm w-48",placeholder:"Base Revenue"}),s.jsx("button",{onClick:ne,disabled:O,className:"px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:O?"Updating...":"Update Revenue"})]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Default for ",g.type,": ",Le(S?.defaultRevenue?.find(Y=>Y.jobType===g.type)?.amount||0)]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Vi,{className:"w-5 h-5"}),"Labor Cost Settings"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm text-gray-600 w-32",children:"Hourly Rate:"}),s.jsx("input",{type:"number",value:D,onChange:Y=>A(parseFloat(Y.target.value)||0),min:"0",step:"0.01",className:"border rounded-lg p-2.5 text-sm w-48"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("label",{className:"text-sm text-gray-600 w-32",children:"Override Total:"}),s.jsx("input",{type:"number",value:X||"",onChange:Y=>te(Y.target.value?parseFloat(Y.target.value):null),min:"0",step:"0.01",className:"border rounded-lg p-2.5 text-sm w-48",placeholder:"Leave empty for auto-calc"})]}),s.jsx("button",{onClick:ye,disabled:O,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:O?"Updating...":"Update Labor Cost"})]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2",children:(()=>{const Y=T.laborHours||0;let ie=S?.laborRates?.ratesByJobType?.find(He=>He.jobType===T?.type)?.hourlyRate??S?.laborRates?.defaultHourlyRate??D??0;if((!ie||ie===0)&&T?.laborHours){const He=Number(T.laborHours)||0;He>0&&T.laborCost&&(ie=(Number(T.laborCost)||0)/He)}return`Current: ${Y} hours  ${ie}/hour = ${Le(Y*ie)}`})()})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Cost Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),s.jsx("span",{className:"font-medium",children:Le(T.totalMaterialCost||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Labor Cost:"}),s.jsx("span",{className:"font-medium",children:Le(T.laborCost||0)})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-gray-600 font-semibold",children:"Total Cost:"}),s.jsx("span",{className:"font-bold",children:Le(T.totalCost||0)})]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Profit Analysis"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Revenue:"}),s.jsx("span",{className:"font-medium text-green-600",children:Le(T.totalRevenue||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Total Cost:"}),s.jsx("span",{className:"font-medium",children:Le(T.totalCost||0)})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-gray-600 font-semibold",children:"Profit:"}),s.jsx("span",{className:`font-bold ${T.profit>=0?"text-green-600":"text-red-600"}`,children:Le(T.profit||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Profit Margin:"}),s.jsxs("span",{className:`font-medium ${T.profit>=0?"text-green-600":"text-red-600"}`,children:[T.totalRevenue?(T.profit/T.totalRevenue*100).toFixed(1):0,"%"]})]})]})]}),T.status!=="paid"&&!T.costingApproval?.isApproved&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Cost Approval"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("textarea",{value:re,onChange:Y=>ge(Y.target.value),placeholder:"Add approval notes (optional)...",rows:3,className:"w-full border rounded-lg p-2.5 text-sm resize-none"}),s.jsxs("button",{onClick:Ae,disabled:O,className:"w-full px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5"}),O?"Processing...":"Approve Costing"]})]})]}),T.costingApproval?.isApproved&&s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Mt,{className:"w-5 h-5 text-green-600"}),s.jsx("h3",{className:"font-semibold text-green-900",children:"Costing Approved"})]}),s.jsxs("div",{className:"text-sm text-green-700 space-y-1",children:[s.jsxs("p",{children:["Approved: ",T.costingApproval?.approvedAt?new Date(T.costingApproval.approvedAt).toLocaleString():"N/A"]}),T.costingApproval.notes&&s.jsxs("p",{className:"mt-2 text-gray-700",children:["Notes: ",T.costingApproval.notes]})]})]})]}),f==="files"&&i&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Du,{className:"w-5 h-5"})," Photos"]}),i.photoUrls&&i.photoUrls.length>0?s.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.photoUrls.map((Y,ae)=>s.jsx("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"aspect-square rounded-lg overflow-hidden border hover:opacity-80 transition-opacity",children:s.jsx("img",{src:Y,alt:`Photo ${ae+1}`,className:"w-full h-full object-cover"})},ae))}):s.jsx("p",{className:"text-gray-500 text-center py-8 bg-gray-50 rounded-lg",children:"No photos uploaded"})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5"})," Documents"]}),i.documentUrls&&i.documentUrls.length>0?s.jsx("div",{className:"space-y-2",children:i.documentUrls.map((Y,ae)=>s.jsxs("a",{href:Y,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx($t,{className:"w-5 h-5 text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Document ",ae+1]})]},ae))}):s.jsx("p",{className:"text-gray-500 text-center py-8 bg-gray-50 rounded-lg",children:"No documents uploaded"})]})]}),f==="notes"&&s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.jsx($t,{className:"w-4 h-4 inline mr-1"})," Technician Notes"]}),s.jsx("textarea",{name:"technicianNotes",value:g.technicianNotes,onChange:U,rows:5,className:"w-full border rounded-lg p-2.5 text-sm resize-none",readOnly:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:[s.jsx($t,{className:"w-4 h-4 inline mr-1"})," Admin Notes"]}),s.jsx("textarea",{name:"adminNotes",value:g.adminNotes,onChange:U,rows:5,className:"w-full border rounded-lg p-2.5 text-sm resize-none"})]})]})]}),s.jsxs("div",{className:"flex justify-end p-6 border-t gap-3 bg-gray-50",children:[s.jsx("button",{onClick:r,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-white text-sm font-medium",disabled:O,children:"Cancel"}),s.jsx("button",{onClick:ee,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed",disabled:O||V,children:O?"Saving...":i?"Update Job":"Create Job"})]})]}),s.jsx(ad,{isOpen:p,title:"Approve Costing",message:Ee?.profit<0&&!S?.allowNegativeProfit?"This job shows negative profit. Are you sure you want to approve?":"Are you sure you want to approve this costing?",variant:Ee?.profit<0&&!S?.allowNegativeProfit?"warning":"info",confirmText:"Approve",cancelText:"Cancel",isLoading:O,onConfirm:C,onCancel:()=>x(!1)})]})}const p2=()=>{const{user:l}=Vs(),{socket:r}=Hi(),[i,o]=N.useState({totalJobs:0,pendingJobs:0,inProgressJobs:0,completedJobs:0,totalRevenue:0,totalCost:0,totalProfit:0,totalCustomers:0}),[d,f]=N.useState([]),[h,p]=N.useState(!0),[x,g]=N.useState(!1),[b,v]=N.useState("add"),[E,B]=N.useState(null),[w,O]=N.useState(!1),R=async()=>{try{p(!0);const{data:D}=await fe.get("/jobs"),A=D.jobs||[],X={totalJobs:A.length,pendingJobs:A.filter(te=>te.status==="pending").length,inProgressJobs:A.filter(te=>te.status==="in_progress").length,completedJobs:A.filter(te=>te.status==="completed"||te.status==="paid").length,totalRevenue:A.reduce((te,re)=>te+(re.totalRevenue||0),0),totalCost:A.reduce((te,re)=>te+(re.totalCost||0),0),totalProfit:A.reduce((te,re)=>te+(re.profit||0),0),totalCustomers:0};if(l.role==="admin")try{const{data:te}=await fe.get("/customers");X.totalCustomers=te.length||0}catch{console.log("Customers endpoint not yet available")}o(X),f(A.slice(0,5))}catch(D){console.error("Error fetching dashboard data:",D),o({totalJobs:0,pendingJobs:0,inProgressJobs:0,completedJobs:0,totalRevenue:0,totalCustomers:0}),f([])}finally{p(!1)}};N.useEffect(()=>{R()},[l]),N.useEffect(()=>{if(r)return r.on("job:created",R),r.on("job:status-changed",R),()=>{r.off("job:created",R),r.off("job:status-changed",R)}},[r]);const V=()=>{B(null),v("add"),g(!0)},M=async D=>{try{b==="add"?await fe.post("/customers",D):b==="edit"&&await fe.put(`/customers/${E._id}`,D),g(!1),R()}catch(A){console.error("Error saving customer:",A)}},S=[{label:"Total Jobs",value:i.totalJobs,icon:Rn,color:"bg-blue-500",change:"+12%"},{label:"Pending",value:i.pendingJobs,icon:fa,color:"bg-yellow-500"},{label:"In Progress",value:i.inProgressJobs,icon:Vl,color:"bg-orange-500"},{label:"Completed",value:i.completedJobs,icon:Mt,color:"bg-green-500",change:"+8%"}];l.role==="admin"&&S.push({label:"Total Revenue",value:Le(i.totalRevenue),icon:On,color:"bg-purple-500",change:"+23%"},{label:"Total Cost",value:Le(i.totalCost),icon:jt,color:"bg-red-500"},{label:"Total Profit",value:Le(i.totalProfit),icon:Vl,color:"bg-emerald-500"},{label:"Customers",value:i.totalCustomers,icon:fs,color:"bg-indigo-500",change:"+5%"});const G=D=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",paid:"bg-purple-100 text-purple-800"})[D]||"bg-gray-100 text-gray-800";return h?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",l?.name,"!"]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Here's what's happening with your ",l.role==="admin"?"business":"jobs"," today"]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:S.map(D=>{const A=D.icon;return s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:D.label}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:D.value}),D.change&&s.jsxs("p",{className:"text-xs text-green-600 mt-2",children:[D.change," from last month"]})]}),s.jsx("div",{className:`${D.color} p-3 rounded-lg`,children:s.jsx(A,{className:"w-6 h-6 text-white"})})]})},D.label)})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("button",{onClick:()=>O(!0),className:"flex items-center gap-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition-colors group w-full text-left",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors",children:s.jsx(Hs,{className:"w-5 h-5 text-blue-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Create New Job"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Start a new service job"})]})]}),l.role==="admin"&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{onClick:V,className:"flex items-center gap-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-green-500 hover:bg-green-50 transition-colors group",children:[s.jsx("div",{className:"p-2 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors",children:s.jsx(Hs,{className:"w-5 h-5 text-green-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Add Customer"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Register new customer"})]})]}),s.jsxs(ua,{to:"/inventory",className:"flex items-center gap-3 p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-colors group",children:[s.jsx("div",{className:"p-2 bg-purple-100 rounded-lg group-hover:bg-purple-200 transition-colors",children:s.jsx(jt,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:"Manage Inventory"}),s.jsx("p",{className:"text-sm text-gray-500",children:"View stock levels"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Jobs"}),s.jsx(ua,{to:"/jobs",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"No jobs found"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Create your first job to get started"})]}):s.jsx("div",{className:"space-y-3",children:d.map(D=>s.jsxs(ua,{to:`/jobs/${D._id}`,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:D.jobNumber}),s.jsx("p",{className:"text-sm text-gray-600",children:D.customerName})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${G(D.status)}`,children:D.status.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(D.createdAt).toLocaleDateString()})]})]},D._id))})]}),x&&s.jsx(ex,{mode:b,customerData:E,onClose:()=>g(!1),onSubmit:M}),w&&s.jsx(rx,{open:w,onClose:()=>{O(!1),R()},job:null,refreshJobs:R})]})},x2=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,g2=/^[0-9\s\-\+\(\)]+$/,y2={email:l=>l?x2.test(l)?null:"Please enter a valid email address":"Email is required",phone:l=>l?g2.test(l)?null:"Please enter a valid phone number":null,required:(l,r="This field")=>!l||typeof l=="string"&&!l.trim()?`${r} is required`:null,minLength:(l,r,i="This field")=>l&&l.length<r?`${i} must be at least ${r} characters`:null,maxLength:(l,r,i="This field")=>l&&l.length>r?`${i} must not exceed ${r} characters`:null,number:(l,r="This field")=>l&&isNaN(l)?`${r} must be a number`:null,minValue:(l,r,i="This field")=>l!=null&&l<r?`${i} must be at least ${r}`:null,maxValue:(l,r,i="This field")=>l!=null&&l>r?`${i} must not exceed ${r}`:null},b2=({mode:l,userData:r,onClose:i,onSubmit:o})=>{const[d,f]=N.useState({name:"",email:"",role:"technician",phone:""}),[h,p]=N.useState({});N.useEffect(()=>{r&&f({name:r.name||"",email:r.email||"",role:r.role||"technician",phone:r.phone||""})},[r]);const x=v=>{f({...d,[v.target.name]:v.target.value})},g=async v=>{v.preventDefault();const E={};d.name.trim()||(E.name="Name is required"),d.email.trim()||(E.email="Email is required");const B=y2.email(d.email);if(B&&(E.email=B),Object.keys(E).length>0){p(E);return}p({}),o(d)},b=l==="view";return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/30 backdrop-blur-sm p-4",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6 mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[l==="add"&&"Add User",l==="edit"&&"Edit User",l==="view"&&"User Details"]}),s.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700",children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qs,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"name",placeholder:"Full Name",value:d.name,onChange:v=>{x(v),p({...h,name:null})},disabled:b,"aria-label":"Full Name","aria-required":"true","aria-invalid":!!h.name,className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100 ${h.name?"border-red-500":"border-gray-300"}`,required:!0})]}),h.name&&s.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[s.jsx(Dt,{size:14})," ",h.name]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(qi,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",placeholder:"Email",value:d.email,onChange:v=>{x(v),p({...h,email:null})},disabled:b,"aria-label":"Email Address","aria-required":"true","aria-invalid":!!h.email,className:`w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100 ${h.email?"border-red-500":"border-gray-300"}`,required:!0})]}),h.email&&s.jsxs("p",{className:"text-red-500 text-xs mt-1 flex items-center gap-1",children:[s.jsx(Dt,{size:14})," ",h.email]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[d.role==="admin"?s.jsx(F0,{className:"w-5 h-5 text-gray-400"}):s.jsx(I0,{className:"w-5 h-5 text-gray-400"}),s.jsxs("select",{name:"role",value:d.role,onChange:x,disabled:b,"aria-label":"User Role",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100 appearance-none",children:[s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"technician",children:"Technician"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",name:"phone",placeholder:"Phone",value:d.phone,onChange:x,disabled:b,"aria-label":"Phone Number",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none disabled:bg-gray-100"})]}),!b&&s.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[s.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:l==="add"?"Add User":"Save Changes"})]})]})]})})},v2=()=>{const{addToast:l}=Kl(),[r,i]=N.useState([]),[o,d]=N.useState([]),[f,h]=N.useState(!0),[p,x]=N.useState(!1),[g,b]=N.useState(""),[v,E]=N.useState("all"),[B,w]=N.useState("all"),[O,R]=N.useState(null),[V,M]=N.useState(null),[S,G]=N.useState(null);N.useEffect(()=>{D()},[]),N.useEffect(()=>{A()},[r,g,v,B]);const D=async()=>{try{h(!0);const{data:I}=await fe.get("/users");i(I.users)}catch{}finally{h(!1)}},A=()=>{let I=[...r];g&&(I=I.filter(de=>de.name.toLowerCase().includes(g.toLowerCase())||de.email.toLowerCase().includes(g.toLowerCase()))),v!=="all"&&(I=I.filter(de=>de.role===v)),B!=="all"&&(I=I.filter(de=>B==="active"?de.isActive:!de.isActive)),d(I)},X=async I=>{try{const{data:de}=await fe.patch(`/users/${I}/toggle-status`);i(r.map(we=>we._id===I?{...we,isActive:de.user.isActive}:we)),l({message:de.message,type:"success"})}catch(de){l({message:de.response?.data?.message||"Failed to update user status",type:"error"})}},te=async I=>{try{x(!0);const{data:de}=await fe.delete(`/users/${I}`);i(r.filter(we=>we._id!==I)),R(null),l({message:de.message,type:"success"})}catch(de){l({message:de.response?.data?.message||"Failed to delete user",type:"error"})}finally{x(!1)}},re=async I=>{try{if(V==="add"){const{data:de}=await fe.post("/users",I);i([de.user,...r]),l({message:"User created successfully",type:"success"})}else if(V==="edit"){const{data:de}=await fe.put(`/users/${S._id}`,I);i(r.map(we=>we._id===S._id?de.user:we)),l({message:"User updated successfully",type:"success"})}M(null),G(null)}catch(de){l({message:de.response?.data?.message||"Operation failed",type:"error"})}},ge=I=>I==="admin"?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[s.jsx(F0,{className:"w-3 h-3"}),"Admin"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(I0,{className:"w-3 h-3"}),"Technician"]}),Ee=I=>I?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s.jsx(xu,{className:"w-3 h-3"}),"Active"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[s.jsx(gu,{className:"w-3 h-3"}),"Inactive"]});return f?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"h-8 bg-gray-200 rounded w-48 animate-pulse"}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:s.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(I=>s.jsx("div",{className:"h-16 bg-gray-100 rounded animate-pulse"},I))})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Manage system users and permissions"})]}),s.jsxs("button",{className:"inline-flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors w-full sm:w-auto",onClick:()=>M("add"),children:[s.jsx(Hs,{className:"w-5 h-5"}),"Add User"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-5 lg:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-1",children:[s.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by name or email...",value:g,onChange:I=>b(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{value:v,onChange:I=>E(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none",children:[s.jsx("option",{value:"all",children:"All Roles"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"technician",children:"Technician"})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsxs("select",{value:B,onChange:I=>w(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Showing ",o.length," of ",r.length," users"]})]}),s.jsx("div",{className:"hidden sm:block bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No users found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(I=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center font-semibold text-blue-600",children:I.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),s.jsx("div",{className:"text-sm text-gray-500",children:I.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ge(I.role)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ee(I.isActive)}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.phone||"N/A"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(I.createdAt).toLocaleDateString()}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{onClick:()=>X(I._id),className:`p-2 rounded-lg transition-colors ${I.isActive?"hover:bg-red-50 text-red-600":"hover:bg-green-50 text-green-600"}`,title:I.isActive?"Deactivate":"Activate",children:I.isActive?s.jsx(gu,{className:"w-4 h-4"}):s.jsx(xu,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{G(I),M("edit")},className:"p-2 hover:bg-blue-50 text-blue-600 rounded-lg transition-colors",title:"Edit",children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{G(I),M("view")},className:"p-2 hover:bg-gray-50 text-gray-600 rounded-lg transition-colors",title:"View",children:s.jsx(fs,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>R(I._id),className:"p-2 hover:bg-red-50 text-red-600 rounded-lg transition-colors",title:"Delete",children:s.jsx(ea,{className:"w-4 h-4"})})]})})]},I._id))})]})})}),s.jsx("div",{className:"sm:hidden space-y-4",children:o.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 text-center py-12",children:[s.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No users found"})]}):o.map(I=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-600 text-lg",children:I.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-500 uppercase font-medium",children:"User"}),s.jsx("p",{className:"font-medium text-gray-900 truncate",children:I.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:I.email})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Role"}),ge(I.role)]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Status"}),Ee(I.isActive)]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Contact"}),s.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-700 mt-1",children:[s.jsx(Bs,{className:"w-3 h-3 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:I.phone||"N/A"})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Joined"}),s.jsx("p",{className:"text-sm text-gray-700 mt-1",children:new Date(I.createdAt).toLocaleDateString()})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Actions"}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsxs("button",{className:`flex flex-col items-center gap-1 px-2 py-2 rounded-lg transition-colors ${I.isActive?"text-red-700 bg-red-50 hover:bg-red-100":"text-green-700 bg-green-50 hover:bg-green-100"}`,onClick:()=>X(I._id),children:[I.isActive?s.jsx(gu,{className:"w-4 h-4"}):s.jsx(xu,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:I.isActive?"Disable":"Enable"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-2 py-2 rounded-lg text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",onClick:()=>{G(I),M("view")},children:[s.jsx(fs,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"View"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-2 py-2 rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",onClick:()=>{G(I),M("edit")},children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Edit"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-2 py-2 rounded-lg text-red-700 bg-red-50 hover:bg-red-100 transition-colors",onClick:()=>R(I._id),children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})]})]},I._id))}),s.jsx(ad,{isOpen:O!==null,title:"Delete User",message:"Are you sure you want to delete this user? This action cannot be undone.",variant:"danger",confirmText:"Delete",cancelText:"Cancel",isLoading:p,onConfirm:()=>te(O),onCancel:()=>R(null)}),(V==="add"||V==="edit"||V==="view")&&s.jsx(b2,{mode:V,userData:S,onClose:()=>{M(null),G(null)},onSubmit:re})]})},N2=()=>{const[l,r]=N.useState([]),[i,o]=N.useState([]),[d,f]=N.useState(""),[h,p]=N.useState("all"),[x,g]=N.useState(!0),[b,v]=N.useState(null),[E,B]=N.useState(null),[w,O]=N.useState(null),[R,V]=N.useState([]);N.useEffect(()=>{M()},[]),N.useEffect(()=>{S()},[d,h,l]);const M=async()=>{try{g(!0);const A=await nx();r(A);const X=Array.from(new Set(A.map(te=>te.company||"Unknown")));V(["all",...X])}catch(A){console.error(A)}finally{g(!1)}},S=()=>{let A=[...l];d&&(A=A.filter(X=>X.name.toLowerCase().includes(d.toLowerCase())||X.email.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(A=A.filter(X=>(X.company||"Unknown")===h)),o(A)},G=async A=>{try{await f2(A),r(l.filter(X=>X._id!==A)),v(null)}catch(X){alert(X.response?.data?.message||"Failed to delete customer")}},D=async A=>{try{if(E==="add"){const X=await u2(A);r([X,...l])}else if(E==="edit"){const X=await d2(w._id,A);r(l.map(te=>te._id===w._id?X:te))}B(null),O(null)}catch(X){alert("Operation failed: "+(X.response?.data?.message||X.message))}};return x?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin h-12 w-12 rounded-full border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Manage registered customers"})]}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 transition-colors w-full sm:w-auto justify-center",onClick:()=>B("add"),children:[s.jsx(Hs,{className:"w-5 h-5"}),"Add Customer"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{placeholder:"Search by name or email...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:d,onChange:A=>f(A.target.value)})]}),s.jsxs("div",{className:"relative",children:[s.jsx(X0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("select",{value:h,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none appearance-none",children:R.map(A=>s.jsx("option",{value:A,children:A==="all"?"All Companies":A},A))})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Showing ",i.length," of ",l.length," customers"]})]}),s.jsx("div",{className:"hidden sm:block bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No customers found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0 h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-700",children:A.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:A.name}),s.jsx("p",{className:"text-sm text-gray-500",children:A.email})]})]})}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:A.company||""}),s.jsxs("td",{className:"px-6 py-4 text-sm text-gray-600 whitespace-nowrap",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Bs,{className:"w-4 h-4"})," ",A.phone||"N/A"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ql,{className:"w-4 h-4"})," ",A.address||"N/A"]})]}),s.jsx("td",{className:"px-6 py-4 text-right text-sm font-medium",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-50",onClick:()=>{O(A),B("view")},title:"View",children:s.jsx(Ua,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50",onClick:()=>{O(A),B("edit")},title:"Edit",children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-red-600 hover:bg-red-50",onClick:()=>v(A._id),title:"Delete",children:s.jsx(ea,{className:"w-4 h-4"})})]})})]},A._id))})]})})}),s.jsx("div",{className:"sm:hidden space-y-4",children:i.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 text-center py-12",children:[s.jsx(fs,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No customers found"})]}):i.map(A=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center font-bold text-blue-700 text-lg",children:A.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-gray-500 uppercase font-medium",children:"Customer"}),s.jsx("p",{className:"font-medium text-gray-900 truncate",children:A.name}),s.jsx("p",{className:"text-sm text-gray-600 truncate",children:A.email})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Company"}),s.jsx("p",{className:"text-sm text-gray-900 mt-1",children:A.company||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Contact"}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[s.jsx(Bs,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:A.phone||"N/A"})]}),s.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-700",children:[s.jsx(ql,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"break-words",children:A.address||"N/A"})]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Actions"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",onClick:()=>{O(A),B("view")},children:[s.jsx(Ua,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"View"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100 transition-colors",onClick:()=>{O(A),B("edit")},children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Edit"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-red-700 bg-red-50 hover:bg-red-100 transition-colors",onClick:()=>v(A._id),children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})]})]},A._id))}),b&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Dt,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Customer"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to delete this customer? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>v(null),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),s.jsx("button",{onClick:()=>G(b),className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Delete"})]})]})]})})}),(E==="add"||E==="edit"||E==="view")&&s.jsx(ex,{mode:E,customerData:w,onClose:()=>{B(null),O(null)},onSubmit:D})]})},Yp={pending:"bg-yellow-100 text-yellow-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",paid:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"},j2=()=>{const[l,r]=N.useState([]),[i,o]=N.useState([]),[d,f]=N.useState(""),[h,p]=N.useState("all"),[x,g]=N.useState(!0),[b,v]=N.useState(null),[E,B]=N.useState(null),[w,O]=N.useState(null),{socket:R,connected:V}=Hi();N.useEffect(()=>{M()},[]),N.useEffect(()=>{G()},[d,h,l]),N.useEffect(()=>{if(R)return R.on("job:created",A=>{M(),D(`New job created: ${A.jobNumber}`)}),R.on("job:status-changed",A=>{r(X=>X.map(te=>te._id===A.jobId?{...te,status:A.newStatus}:te)),S(),D(`Job status updated to ${A.newStatus.replace("_"," ")}`)}),R.on("job:materials-added",A=>{r(X=>X.map(te=>te._id===A.jobId?{...te,materialsCount:A.materialsCount}:te)),D("Materials added to job")}),R.on("job:files-updated",A=>{D(`${A.photos.length+A.documents.length} file(s) uploaded`)}),()=>{R.off("job:created"),R.off("job:status-changed"),R.off("job:materials-added"),R.off("job:files-updated")}},[R]);const M=async()=>{try{g(!0);const A=await tx();r(A.jobs),o(A.jobs),await S()}catch{}finally{g(!1)}},S=async()=>{try{const A=await ax();O(A.stats)}catch{}},G=()=>{let A=[...l];d&&(A=A.filter(X=>X.jobNumber.toLowerCase().includes(d.toLowerCase())||X.customerName?.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(A=A.filter(X=>X.status===h)),o(A)},D=A=>{"Notification"in window&&Notification.permission==="granted"&&new Notification("Job Management",{body:A}),console.log("",A)};return x?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin h-12 w-12 rounded-full border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Jobs"}),s.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${V?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:V?s.jsxs(s.Fragment,{children:[s.jsx(W0,{className:"w-3 h-3"}),"Live"]}):s.jsxs(s.Fragment,{children:[s.jsx(P0,{className:"w-3 h-3"}),"Offline"]})})]}),s.jsxs("p",{className:"text-gray-600 mt-1 text-sm",children:["Manage job assignments and records ",V&&" Real-time updates"]})]}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 w-full sm:w-auto justify-center",onClick:()=>{B(null),v("add")},children:[s.jsx(Hs,{className:"w-5 h-5"}),"Create Job"]})]}),w&&s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Jobs"}),s.jsx("h3",{className:"text-2xl font-bold",children:w.totalJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx("h3",{className:"text-2xl font-bold text-yellow-600",children:w.pendingJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),s.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:w.inProgressJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:w.completedJobs})]})]}),s.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{placeholder:"Search by job number or customer...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:d,onChange:A=>f(A.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{value:h,onChange:A=>p(A.target.value),className:"w-full pl-4 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"paid",children:"Paid"}),s.jsx("option",{value:"cancelled",children:"Cancelled"})]})})]})}),s.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-md overflow-hidden",children:i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No jobs found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Job"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Customer"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(A=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium",children:A.jobNumber}),s.jsx("p",{className:"text-gray-500 text-sm",children:A.type})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:A.customerName}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Yp[A.status]}`,children:A.status.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors",onClick:()=>{B(A),v("view")},children:s.jsx(Ua,{className:"w-4 h-4"})})})]},A._id))})]})})}),s.jsx("div",{className:"md:hidden space-y-4",children:i.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm text-center py-12",children:[s.jsx(Rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No jobs found"})]}):i.map(A=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Job"}),s.jsx("p",{className:"font-medium text-gray-900",children:A.jobNumber}),s.jsx("p",{className:"text-sm text-gray-600",children:A.type})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Customer"}),s.jsx("p",{className:"text-sm text-gray-900",children:A.customerName})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${Yp[A.status]}`,children:A.status.replace("_"," ")})]}),s.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Actions"}),s.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg text-gray-700 bg-gray-50 hover:bg-gray-100 transition-colors",onClick:()=>{B(A),v("view")},children:[s.jsx(Ua,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"View Details"})]})]})]},A._id))}),b&&s.jsx(rx,{open:!!b,job:E,onClose:()=>{v(null),B(null)},refreshJobs:M})]})},ix=async(l={})=>{try{return(await fe.get("/inventory/serialized/all",{params:l})).data}catch(r){return console.error("Error fetching serialized inventory:",r),{items:[]}}},ox=async(l={})=>{try{return(await fe.get("/inventory/grouped/all",{params:l})).data}catch(r){return console.error("Error fetching grouped inventory:",r),{items:[]}}},w2=async l=>{try{return(await fe.get(`/inventory/grouped/${encodeURIComponent(l)}/history`)).data}catch(r){return console.error("Error fetching grouped item history:",r),[]}},S2=async l=>{try{const r={...l,purchasePrice:parseFloat(l.purchasePrice),salePrice:parseFloat(l.salePrice)};if(!r.salePrice||isNaN(r.salePrice))throw new Error("salePrice is required");if(!r.model||!r.model.trim())throw new Error("model is required");const i=localStorage.getItem("token");return(await fe.post("/inventory/serialized",r,{headers:i?{Authorization:`Bearer ${i}`}:{}})).data}catch(r){throw console.error("Failed to add serialized item:",r),r}},cx=l=>{const r={brand:l.brand,category:l.category,supplier:l.supplier,purchaseDate:l.purchaseDate,purchasePrice:parseFloat(l.purchasePrice)||0,location:l.location,notes:l.notes,minimumQuantity:parseFloat(l.minimumQuantity)||0,unit:l.unit};return l.unit==="meter"||l.unit==="roll"?r.length=parseFloat(l.currentQuantity)||0:r.quantity=parseFloat(l.currentQuantity)||0,r},ux=async l=>{try{const r=localStorage.getItem("token");if(!l.itemName||!l.itemName.trim())throw new Error("Item name is required");if(!l.unit)throw new Error("Unit type is required");if(!l.currentQuantity||parseFloat(l.currentQuantity)<=0)throw new Error("Quantity must be greater than 0");const i={itemName:l.itemName.trim(),unitData:cx(l)};return console.log("Adding grouped item:",i),(await fe.post("/inventory/grouped/add",i,{headers:r?{Authorization:`Bearer ${r}`}:{}})).data}catch(r){throw console.error("Failed to add grouped item:",r),r}},C2=async(l,r)=>{try{const i=localStorage.getItem("token");return(await fe.put(`/inventory/serialized/${l}`,r,{headers:i?{Authorization:`Bearer ${i}`}:{}})).data}catch(i){throw console.error("Failed to update serialized item:",i),i}},dx=async(l,r)=>{try{const i=localStorage.getItem("token");if(!r.itemName||!r.itemName.trim())throw new Error("Item name is required");if(!r.unit)throw new Error("Unit type is required");const o={itemName:r.itemName.trim(),category:r.category,unit:r.unit,minimumQuantity:parseFloat(r.minimumQuantity)||0,unitData:cx(r)};return console.log("Updating grouped item:",o),(await fe.put(`/inventory/grouped/${l}`,o,{headers:i?{Authorization:`Bearer ${i}`}:{}})).data}catch(i){throw console.error("Failed to update grouped item:",i),i}},E2=async l=>{try{const r=localStorage.getItem("token");return(await fe.delete(`/inventory/serialized/${l}`,{headers:r?{Authorization:`Bearer ${r}`}:{}})).data}catch(r){throw console.error("Failed to delete serialized item:",r),r}},A2=async l=>{try{const r=localStorage.getItem("token");return(await fe.delete(`/inventory/grouped/${l}`,{headers:r?{Authorization:`Bearer ${r}`}:{}})).data}catch(r){throw console.error("Failed to delete grouped item:",r),r}},_2=({mode:l,itemData:r,itemType:i,onClose:o,onSuccess:d})=>{const f=l==="view",h=l==="edit",p=i==="serialized",[x,g]=N.useState({itemName:"",brand:"",model:"",category:"",supplier:"",purchaseDate:"",purchasePrice:"",salePrice:"",notes:"",serialNumber:"",status:"available",specifications:{capacity:"",voltage:"",refrigerant:"",other:""},warrantyExpiry:"",currentQuantity:"",minimumQuantity:"",unit:""}),[b,v]=N.useState(!1),[E,B]=N.useState({});N.useEffect(()=>{r&&g({itemName:r.itemName||"",brand:r.brand||"",model:r.model||"",category:r.category||"",supplier:r.supplier||"",purchaseDate:r.purchaseDate?r.purchaseDate.split("T")[0]:"",purchasePrice:r.purchasePrice||"",salePrice:r.salePrice||"",notes:r.notes||"",serialNumber:r.serialNumber||"",status:r.status||"available",specifications:{capacity:r.specifications?.capacity||"",voltage:r.specifications?.voltage||"",refrigerant:r.specifications?.refrigerant||"",other:r.specifications?.other||""},warrantyExpiry:r.warrantyExpiry?r.warrantyExpiry.split("T")[0]:"",currentQuantity:r.currentQuantity||"",minimumQuantity:r.minimumQuantity||"",unit:r.unit||""})},[r]);const w=V=>{const{name:M,value:S}=V.target;if(M.startsWith("specifications.")){const G=M.split(".")[1];g(D=>({...D,specifications:{...D.specifications,[G]:S}}))}else g(G=>({...G,[M]:S}));E[M]&&B(G=>({...G,[M]:""}))},O=()=>{const V={};if(x.itemName?.trim()||(V.itemName="Item name is required"),x.category?.trim()||(V.category="Category is required"),x.brand?.trim()||(V.brand="Brand is required"),p){x.serialNumber?.trim()||(V.serialNumber="Serial number is required"),x.model?.trim()||(V.model="Model is required");const M=parseFloat(x.purchasePrice),S=parseFloat(x.salePrice);(!M||M<=0)&&(V.purchasePrice="Purchase price must be greater than 0"),(!S||S<=0)&&(V.salePrice="Sale price must be greater than 0")}else{x.unit?.trim()||(V.unit="Unit is required");const M=parseInt(x.currentQuantity),S=parseInt(x.minimumQuantity);(isNaN(M)||M<0)&&(V.currentQuantity="Valid quantity is required"),(isNaN(S)||S<0)&&(V.minimumQuantity="Valid minimum quantity is required")}return B(V),Object.keys(V).length===0},R=async V=>{if(V.preventDefault(),f)return o();if(O()){v(!0);try{const M={...x};p?(M.purchasePrice=parseFloat(M.purchasePrice)||0,M.salePrice=parseFloat(M.salePrice)||0,M.model=M.model?.trim()||"",M.serialNumber=M.serialNumber?.trim()||"",M.specifications=M.specifications||{},M.status=M.status||"available",delete M.currentQuantity,delete M.minimumQuantity,delete M.unit):(M.currentQuantity=parseInt(M.currentQuantity)||0,M.minimumQuantity=parseInt(M.minimumQuantity)||0,M.purchasePrice=parseFloat(M.purchasePrice||0),M.salePrice=parseFloat(M.salePrice||0),delete M.serialNumber,delete M.status,delete M.specifications),h?p?await C2(r._id,M):await dx(r._id,M):p?await S2(M):await ux(M),d(),o()}catch(M){console.error("Failed to save item:",M),alert(M.response?.data?.message||M.message||"Failed to save item")}finally{v(!1)}}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl my-4 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[p?s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(Mu,{className:"w-5 h-5 text-blue-600"})}):s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(Uu,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:f?"View Item":h?"Edit Item":`Add ${p?"Serialized":"Grouped"} Item`}),s.jsx("p",{className:"text-sm text-gray-600",children:p?"Unique serialized item":"Grouped materials"})]})]}),s.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:R,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Item Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"itemName",value:x.itemName,onChange:w,disabled:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.itemName?"border-red-500":"border-gray-300"} ${f?"bg-gray-50":""}`,placeholder:"Enter item name"}),E.itemName&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.itemName})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),s.jsx("input",{type:"text",name:"brand",value:x.brand,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Enter brand"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Model"," ",p&&s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"model",value:x.model,onChange:w,disabled:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.model?"border-red-500":"border-gray-300"}`,placeholder:"e.g., RAS-13BKCV"}),E.model&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.model})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"category",value:x.category,onChange:w,disabled:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.category?"border-red-500":"border-gray-300"} ${f?"bg-gray-50":""}`,children:[s.jsx("option",{value:"",children:"Select category"}),p?s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"aircon",children:"Air Conditioner"}),s.jsx("option",{value:"compressor",children:"Compressor"}),s.jsx("option",{value:"motor",children:"Motor"}),s.jsx("option",{value:"other",children:"Other"})]}):s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"copper_tube",children:"Copper Tube"}),s.jsx("option",{value:"cable",children:"Cable"}),s.jsx("option",{value:"screw",children:"Screw"}),s.jsx("option",{value:"bolt",children:"Bolt"}),s.jsx("option",{value:"insulation",children:"Insulation"}),s.jsx("option",{value:"refrigerant",children:"Refrigerant"}),s.jsx("option",{value:"other",children:"Other"})]})]}),E.category&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.category})]})]})]}),p?s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Serialization Details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Serial Number ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"serialNumber",value:x.serialNumber,onChange:w,disabled:f||h,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.serialNumber?"border-red-500":"border-gray-300"} ${f||h?"bg-gray-50":""}`,placeholder:"Enter serial number"}),E.serialNumber&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.serialNumber})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),s.jsxs("select",{name:"status",value:x.status,onChange:w,disabled:f,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"installed",children:"Installed"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"retired",children:"Retired"})]})]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 mt-4",children:"Specifications"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),s.jsx("input",{type:"text",name:"specifications.capacity",value:x.specifications.capacity,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"e.g., 1.5HP"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Voltage"}),s.jsx("input",{type:"text",name:"specifications.voltage",value:x.specifications.voltage,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"e.g., 220V"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Refrigerant"}),s.jsx("input",{type:"text",name:"specifications.refrigerant",value:x.specifications.refrigerant,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"e.g., R32, R410A"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Other Specs"}),s.jsx("input",{type:"text",name:"specifications.other",value:x.specifications.other,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Other specifications"})]})]}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3 mt-4",children:"Pricing & Warranty"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"purchasePrice",value:x.purchasePrice,onChange:w,disabled:f,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.purchasePrice?"border-red-500":"border-gray-300"}`}),E.purchasePrice&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.purchasePrice})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Sale Price ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"salePrice",value:x.salePrice,onChange:w,disabled:f,min:"0",step:"0.01",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.salePrice?"border-red-500":"border-gray-300"}`}),E.salePrice&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.salePrice})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Warranty Expiry"}),s.jsx("input",{type:"date",name:"warrantyExpiry",value:x.warrantyExpiry,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]})]})}):s.jsx(s.Fragment,{children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Quantity Management"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Current Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"currentQuantity",value:x.currentQuantity,onChange:w,disabled:f,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.currentQuantity?"border-red-500":"border-gray-300"}`}),E.currentQuantity&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.currentQuantity})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum Quantity ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",name:"minimumQuantity",value:x.minimumQuantity,onChange:w,disabled:f,min:"0",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.minimumQuantity?"border-red-500":"border-gray-300"}`}),E.minimumQuantity&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.minimumQuantity})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{name:"unit",value:x.unit,onChange:w,disabled:f,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none ${E.unit?"border-red-500":"border-gray-300"}`,children:[s.jsx("option",{value:"",children:"Select unit"}),s.jsx("option",{value:"pcs",children:"Pieces (pcs)"}),s.jsx("option",{value:"meter",children:"Meter (m)"}),s.jsx("option",{value:"roll",children:"Roll"}),s.jsx("option",{value:"kg",children:"Kilogram (kg)"}),s.jsx("option",{value:"liter",children:"Liter (L)"})]}),E.unit&&s.jsx("p",{className:"text-xs text-red-500 mt-1",children:E.unit})]})]})]})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Purchase Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),s.jsx("input",{type:"text",name:"supplier",value:x.supplier,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",placeholder:"Supplier name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),s.jsx("input",{type:"date",name:"purchaseDate",value:x.purchaseDate,onChange:w,disabled:f,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{name:"notes",value:x.notes,onChange:w,disabled:f,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none resize-none",placeholder:"Additional notes or comments..."})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:o,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:f?"Close":"Cancel"}),!f&&s.jsx("button",{type:"submit",disabled:b,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Saving...":h?"Update Item":"Add Item"})]})]})]})})},T2=({item:l,onClose:r})=>{const[i,o]=N.useState([]),[d,f]=N.useState(!0),[h,p]=N.useState("details");N.useEffect(()=>{x()},[l]);const x=async()=>{try{f(!0);const S=await w2(l.itemName);o(S.history||[])}catch(S){console.error("Failed to load history:",S)}finally{f(!1)}},g=()=>l.totalValue!==void 0?l.totalValue:l.unit==="meter"||l.unit==="roll"?l.currentLength||l.totalLength||0:l.currentQuantity||l.totalQuantity||0,b=()=>l.minValue||l.minimumQuantity||l.minQuantity||l.minLength||0,v=g(),E=b(),B=v<=E,w=S=>S?new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",O=S=>{if(!S)return"N/A";try{return new Date(S).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return String(S)}},R=S=>{switch(S){case"added":return s.jsx(Vl,{className:"w-4 h-4 text-green-600"});case"removed":return s.jsx(Z0,{className:"w-4 h-4 text-red-600"});case"adjusted":return s.jsx($0,{className:"w-4 h-4 text-blue-600"});default:return s.jsx(fa,{className:"w-4 h-4 text-gray-600"})}},V=S=>{switch(S){case"added":return"bg-green-50 text-green-700 border-green-200";case"removed":return"bg-red-50 text-red-700 border-red-200";case"adjusted":return"bg-blue-50 text-blue-700 border-blue-200";default:return"bg-gray-50 text-gray-700 border-gray-200"}},M=S=>{const G=S.unit||l.unit;let D=0;return G==="meter"||G==="roll"?D=S.lengthChange||0:D=S.quantityChange||0,S.valueChange!==void 0&&(D=S.valueChange),{change:D,unit:G,display:`${D>0?"+":""}${D} ${G}`}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-3xl my-8",children:[s.jsxs("div",{className:"flex items-start justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"w-6 h-6 text-purple-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 truncate",children:l.itemName}),s.jsx("p",{className:"text-sm text-gray-600",children:l.brand||"No brand specified"}),B&&s.jsxs("div",{className:"flex items-center gap-1.5 mt-2 text-red-600",children:[s.jsx(K0,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:"Low Stock Alert"})]})]})]}),s.jsx("button",{onClick:r,className:"flex-shrink-0 p-2 hover:bg-gray-100 rounded-lg transition-colors ml-4",children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex border-b border-gray-200 px-6",children:[s.jsx("button",{className:`px-4 py-3 font-medium transition-colors relative ${h==="details"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>p("details"),children:"Details"}),s.jsxs("button",{className:`px-4 py-3 font-medium transition-colors relative ${h==="history"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-900"}`,onClick:()=>p("history"),children:["History",i.length>0&&s.jsx("span",{className:"ml-2 px-2 py-0.5 bg-gray-200 text-gray-700 rounded-full text-xs",children:i.length})]})]}),s.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto",children:h==="details"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`p-4 rounded-lg border-2 ${B?"bg-red-50 border-red-200":"bg-green-50 border-green-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Current Stock"}),s.jsxs("span",{className:`text-2xl font-bold ${B?"text-red-600":"text-green-600"}`,children:[v," ",l.unit]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600",children:"Minimum Required"}),s.jsxs("span",{className:"font-medium text-gray-900",children:[E," ",l.unit]})]}),s.jsx("div",{className:"mt-3 h-2 bg-white rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full transition-all ${B?"bg-red-500":"bg-green-500"}`,style:{width:`${Math.min(E>0?v/E*100:100,100)}%`}})})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Item Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Category"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 capitalize",children:l.category?.replace("_"," ")||""})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Unit"}),s.jsx("p",{className:"text-sm font-medium text-gray-900 uppercase",children:l.unit})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Location"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.location||""})]}),s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Supplier"}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.supplier||""})]})]})]}),l.units&&l.units.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:["Stock Units (",l.units.filter(S=>S.isActive).length," active)"]}),s.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:l.units.filter(S=>S.isActive).map((S,G)=>s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium text-gray-900",children:[S.value||S.quantity||S.length||0," ",l.unit]}),S.brand&&s.jsxs("p",{className:"text-xs text-gray-600",children:["Brand: ",S.brand]}),S.supplier&&s.jsxs("p",{className:"text-xs text-gray-600",children:["Supplier: ",S.supplier]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"text-xs text-gray-500",children:w(S.purchaseDate)}),s.jsxs("p",{className:"text-xs font-medium text-gray-700",children:["",(S.purchasePrice||0).toFixed(2)]})]})]})},G))})]}),(l.purchaseDate||l.purchasePrice)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Purchase Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.purchaseDate&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(IN,{className:"w-4 h-4 text-gray-500"}),s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Purchase Date"})]}),s.jsx("p",{className:"text-sm font-medium text-gray-900",children:w(l.purchaseDate)})]}),l.purchasePrice!==void 0&&s.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Average Purchase Price"}),s.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",l.purchasePrice.toFixed(2)," per ",l.unit]})]})]})]}),l.notes&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx($t,{className:"w-4 h-4 text-gray-500"}),s.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notes"})]}),s.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:l.notes})})]})]}):s.jsx("div",{className:"space-y-4",children:d?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx("div",{className:"animate-spin h-8 w-8 rounded-full border-b-2 border-blue-600"})}):i.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(fa,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No history records found"})]}):s.jsx("div",{className:"space-y-3",children:i.map((S,G)=>{const D=M(S);return s.jsx("div",{className:`p-4 rounded-lg border ${V(S.action)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"flex-shrink-0 mt-0.5",children:R(S.action)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[s.jsx("p",{className:"font-medium text-gray-900 capitalize",children:S.action}),s.jsx("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:O(S.timestamp)})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{className:"text-gray-700",children:[s.jsx("span",{className:"font-medium",children:"Change:"})," ",D.display]}),S.performedBy&&s.jsxs("div",{className:"flex items-center gap-1.5 text-gray-600 mt-2",children:[s.jsx(qs,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:S.performedBy})]}),S.jobReference&&s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Job:"})," ",S.jobReference]}),S.reason&&s.jsxs("p",{className:"text-gray-600",children:[s.jsx("span",{className:"font-medium",children:"Reason:"})," ",S.reason]})]})]})]})},G)})})})}),s.jsx("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200",children:s.jsx("button",{onClick:r,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})]})})},R2=({item:l=null,onSubmit:r,onClose:i,loading:o=!1})=>{const d=!!l,[f,h]=N.useState({itemName:"",brand:"",category:"other",unit:"pcs",currentQuantity:"",minimumQuantity:"",supplier:"",purchasePrice:"",purchaseDate:new Date().toISOString().split("T")[0],location:"",notes:""}),[p,x]=N.useState({}),g=[{value:"pcs",label:"Pieces (pcs)",isLength:!1},{value:"meter",label:"Meters (m)",isLength:!0},{value:"roll",label:"Rolls",isLength:!0},{value:"kg",label:"Kilograms (kg)",isLength:!1},{value:"liter",label:"Liters (L)",isLength:!1}],b=[{value:"copper_tube",label:"Copper Tube"},{value:"cable",label:"Cable"},{value:"screw",label:"Screw"},{value:"bolt",label:"Bolt"},{value:"insulation",label:"Insulation"},{value:"refrigerant",label:"Refrigerant"},{value:"other",label:"Other"}];N.useEffect(()=>{if(l){let O=0;l.totalValue!==void 0?O=l.totalValue:l.unit==="meter"||l.unit==="roll"?O=l.currentLength||l.totalLength||0:O=l.currentQuantity||l.totalQuantity||0,h({itemName:l.itemName||"",brand:l.brand||"",category:l.category||"other",unit:l.unit||"pcs",currentQuantity:O.toString(),minimumQuantity:(l.minValue||l.minimumQuantity||l.minQuantity||0).toString(),supplier:l.supplier||"",purchasePrice:(l.purchasePrice||0).toString(),purchaseDate:l.purchaseDate?new Date(l.purchaseDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],location:l.location||"",notes:l.notes||""})}},[l]);const v=O=>{const{name:R,value:V}=O.target;h(M=>({...M,[R]:V})),p[R]&&x(M=>({...M,[R]:""}))},E=()=>{const O={};f.itemName.trim()||(O.itemName="Item name is required"),f.unit||(O.unit="Unit type is required");const R=parseFloat(f.currentQuantity);(!f.currentQuantity||isNaN(R)||R<=0)&&(O.currentQuantity="Valid quantity is required (must be greater than 0)");const V=parseFloat(f.purchasePrice);f.purchasePrice&&(isNaN(V)||V<0)&&(O.purchasePrice="Price must be a valid number (0 or greater)");const M=parseFloat(f.minimumQuantity);return f.minimumQuantity&&(isNaN(M)||M<0)&&(O.minimumQuantity="Minimum quantity must be a valid number"),x(O),Object.keys(O).length===0},B=async O=>{if(O.preventDefault(),!!E())try{await r(f)}catch(R){console.error("Form submission error:",R),x({submit:R.message||"Failed to save item"})}},w=f.unit==="meter"||f.unit==="roll";return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(jt,{className:"w-5 h-5 text-purple-600"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:d?"Edit Item":"Add New Item"}),s.jsx("p",{className:"text-sm text-gray-600",children:d?"Update item details":"Add a new item to inventory"})]})]}),s.jsx("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",disabled:o,children:s.jsx(ta,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:B,className:"p-6",children:[p.submit&&s.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[s.jsx(Dt,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-red-900",children:"Error"}),s.jsx("p",{className:"text-sm text-red-700",children:p.submit})]})]}),s.jsxs("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"itemName",value:f.itemName,onChange:v,disabled:o,className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p.itemName?"border-red-500":"border-gray-300"}`,placeholder:"e.g., Copper Tube 1/4 inch"}),p.itemName&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.itemName})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),s.jsx("input",{type:"text",name:"brand",value:f.brand,onChange:v,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Mueller"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"category",value:f.category,onChange:v,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:b.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("select",{name:"unit",value:f.unit,onChange:v,disabled:o||d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:g.map(O=>s.jsx("option",{value:O.value,children:O.label},O.value))}),d&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unit type cannot be changed after creation"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[w?"Length":"Quantity"," ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",name:"currentQuantity",value:f.currentQuantity,onChange:v,disabled:o,step:"0.01",min:"0.01",className:`w-full px-3 py-2 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p.currentQuantity?"border-red-500":"border-gray-300"}`,placeholder:w?"150":"100"}),s.jsx("span",{className:"absolute right-3 top-2 text-sm text-gray-500",children:f.unit})]}),p.currentQuantity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.currentQuantity})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Minimum ",w?"Length":"Quantity"]}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"number",name:"minimumQuantity",value:f.minimumQuantity,onChange:v,disabled:o,step:"0.01",min:"0",className:`w-full px-3 py-2 pr-12 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p.minimumQuantity?"border-red-500":"border-gray-300"}`,placeholder:w?"50":"20"}),s.jsx("span",{className:"absolute right-3 top-2 text-sm text-gray-500",children:f.unit})]}),p.minimumQuantity&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.minimumQuantity})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier"}),s.jsx("input",{type:"text",name:"supplier",value:f.supplier,onChange:v,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., ABC Supplies"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),s.jsx("input",{type:"text",name:"location",value:f.location,onChange:v,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Warehouse A, Shelf 3"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Price (per ",f.unit,")"]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-3 top-2 text-gray-500",children:""}),s.jsx("input",{type:"number",name:"purchasePrice",value:f.purchasePrice,onChange:v,disabled:o,step:"0.01",min:"0",className:`w-full pl-8 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${p.purchasePrice?"border-red-500":"border-gray-300"}`,placeholder:"0.00"})]}),p.purchasePrice&&s.jsx("p",{className:"text-xs text-red-600 mt-1",children:p.purchasePrice})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),s.jsx("input",{type:"date",name:"purchaseDate",value:f.purchaseDate,onChange:v,disabled:o,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),s.jsx("textarea",{name:"notes",value:f.notes,onChange:v,disabled:o,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",placeholder:"Additional notes or specifications..."})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:i,disabled:o,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),s.jsx("span",{children:"Saving..."})]}):s.jsx("span",{children:d?"Update Item":"Add Item"})})]})]})]})})},Gp={available:"bg-green-100 text-green-700",in_use:"bg-blue-100 text-blue-700",maintenance:"bg-yellow-100 text-yellow-700",retired:"bg-gray-100 text-gray-700",in_stock:"bg-green-100 text-green-700"},O2=()=>{const[l,r]=N.useState("serialized"),[i,o]=N.useState([]),[d,f]=N.useState([]),[h,p]=N.useState([]),[x,g]=N.useState([]),[b,v]=N.useState(""),[E,B]=N.useState("all"),[w,O]=N.useState("all"),[R,V]=N.useState(!0),[M,S]=N.useState(null),[G,D]=N.useState(null),[A,X]=N.useState(null),[te,re]=N.useState(null),[ge,Ee]=N.useState(!1),[I,de]=N.useState(null),[we,P]=N.useState(!1),[U,ee]=N.useState(null),[ne,ye]=N.useState(!1),[Ae,C]=N.useState([]),[T,q]=N.useState([]),[W,Y]=N.useState({totalSerialized:0,totalGrouped:0,lowStock:0,inUse:0});N.useEffect(()=>{ae()},[]),N.useEffect(()=>{ie()},[b,E,w,i,d,l]),N.useEffect(()=>{O("all")},[l]);const ae=async()=>{try{V(!0);const[K,_e]=await Promise.all([ix(),ox()]);o(K.items||[]),f(_e.items||[]);const Zt=[...new Set((K.items||[]).map(Ut=>Ut.category).filter(Boolean))],xa=[...new Set((_e.items||[]).map(Ut=>Ut.category).filter(Boolean))];C(["all",...Zt]),q(["all",...xa]);const Bn=(_e.items||[]).filter(Ut=>{const Qi=Ut.totalValue||Ut.currentQuantity||0,dt=Ut.minValue||Ut.minimumQuantity||0;return Qi<=dt}).length,Hn=(K.items||[]).filter(Ut=>Ut.status==="in_use").length;Y({totalSerialized:K.items?.length||0,totalGrouped:_e.items?.length||0,lowStock:Bn,inUse:Hn})}catch(K){console.error("Failed to load inventory:",K)}finally{V(!1)}},ie=()=>{if(l==="serialized"){let K=[...i];b&&(K=K.filter(_e=>_e.serialNumber?.toLowerCase().includes(b.toLowerCase())||_e.itemName?.toLowerCase().includes(b.toLowerCase())||_e.brand?.toLowerCase().includes(b.toLowerCase()))),E!=="all"&&(K=K.filter(_e=>(_e.status==="in_stock"?"available":_e.status)===E)),w!=="all"&&(K=K.filter(_e=>_e.category===w)),p(K)}else{let K=[...d];b&&(K=K.filter(_e=>_e.itemName?.toLowerCase().includes(b.toLowerCase())||_e.brand?.toLowerCase().includes(b.toLowerCase()))),w!=="all"&&(K=K.filter(_e=>_e.category===w)),g(K)}},He=async()=>{try{G==="serialized"?(await E2(M),o(i.filter(K=>K._id!==M))):(await A2(M),f(d.filter(K=>K._id!==M))),S(null),D(null),ae()}catch(K){alert(K.response?.data?.message||"Failed to delete item")}},Ye=async K=>{try{ye(!0),U?await dx(U._id,K):await ux(K),P(!1),ee(null),await ae()}catch(_e){throw console.error("Failed to save grouped item:",_e),_e}finally{ye(!1)}},hs=()=>{l==="grouped"?(ee(null),P(!0)):(re(null),X("add"))},ps=K=>{ee(K),P(!0)},xs=K=>K.totalValue||K.currentQuantity||0,Qs=K=>K.minValue||K.minimumQuantity||0,na=K=>{const _e=xs(K),Zt=Qs(K);return _e<=Zt};if(R)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin h-12 w-12 rounded-full border-b-2 border-blue-600"})});const Js=l==="serialized"?h:x;return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Inventory Management"}),s.jsx("p",{className:"text-gray-600 mt-1 text-sm",children:"Track serialized items and grouped materials"})]}),s.jsxs("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg flex items-center gap-2 hover:bg-blue-700 w-full sm:w-auto justify-center",onClick:hs,children:[s.jsx(Hs,{className:"w-5 h-5"}),"Add Item"]})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[s.jsx(Mu,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm",children:"Serialized"})]}),s.jsx("h3",{className:"text-2xl font-bold",children:W.totalSerialized})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-1",children:[s.jsx(Uu,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm",children:"Grouped"})]}),s.jsx("h3",{className:"text-2xl font-bold",children:W.totalGrouped})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-red-600 mb-1",children:[s.jsx(Z0,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm",children:"Low Stock"})]}),s.jsx("h3",{className:"text-2xl font-bold text-red-600",children:W.lowStock})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-blue-600 mb-1",children:[s.jsx(Vl,{className:"w-4 h-4"}),s.jsx("p",{className:"text-sm",children:"In Use"})]}),s.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:W.inUse})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-1 flex gap-1",children:[s.jsxs("button",{className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${l==="serialized"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>r("serialized"),children:[s.jsx(Mu,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Serialized Items"}),s.jsx("span",{className:"sm:hidden",children:"Serialized"})]}),s.jsxs("button",{className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${l==="grouped"?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-50"}`,onClick:()=>r("grouped"),children:[s.jsx(Uu,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Grouped Materials"}),s.jsx("span",{className:"sm:hidden",children:"Grouped"})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 sm:p-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"relative md:col-span-1",children:[s.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{placeholder:"Search items...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",value:b,onChange:K=>v(K.target.value)})]}),l==="serialized"&&s.jsx("div",{children:s.jsxs("select",{value:E,onChange:K=>B(K.target.value),className:"w-full pl-4 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"available",children:"Available"}),s.jsx("option",{value:"in_use",children:"In Use"}),s.jsx("option",{value:"maintenance",children:"Maintenance"}),s.jsx("option",{value:"retired",children:"Retired"})]})}),s.jsx("div",{className:l==="serialized"?"":"md:col-start-2",children:s.jsxs("div",{className:"relative",children:[s.jsx(zu,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("select",{value:w,onChange:K=>O(K.target.value),className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:(l==="serialized"?Ae:T).map(K=>s.jsx("option",{value:K,children:K==="all"?"All Categories":K.replace("_"," ").charAt(0).toUpperCase()+K.replace("_"," ").slice(1)},K))})]})})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-4",children:["Showing ",Js.length," items"]})]}),l==="serialized"&&s.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-md overflow-hidden",children:h.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No serialized items found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Serial Number"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Item Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(K=>s.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[s.jsx("td",{className:"px-6 py-4",children:s.jsx("p",{className:"font-medium text-gray-900",children:K.serialNumber})}),s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-gray-900",children:K.itemName}),s.jsx("p",{className:"text-sm text-gray-500",children:K.brand||""})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:K.category||""}),s.jsx("td",{className:"px-6 py-4 text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${Gp[K.status]||"bg-gray-100 text-gray-700"}`,children:K.status==="in_stock"?"Available":K.status?.replace("_"," ")})}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",onClick:()=>{re(K),X("view")},children:s.jsx(Ua,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50",onClick:()=>{re(K),X("edit")},children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-red-600 hover:bg-red-50",onClick:()=>{S(K._id),D("serialized")},children:s.jsx(ea,{className:"w-4 h-4"})})]})})]},K._id))})]})})}),l==="grouped"&&s.jsx("div",{className:"hidden md:block bg-white rounded-xl shadow-md overflow-hidden",children:x.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No grouped items found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Item Details"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-600 uppercase",children:"Category"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase",children:"Stock"}),s.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-600 uppercase",children:"Minimum"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-600 uppercase",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(K=>{const _e=na(K),Zt=xs(K),xa=Qs(K);return s.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${_e?"bg-red-50":""}`,children:[s.jsxs("td",{className:"px-6 py-4",children:[s.jsx("p",{className:"font-medium text-gray-900",children:K.itemName}),s.jsx("p",{className:"text-sm text-gray-500",children:K.brand||""})]}),s.jsx("td",{className:"px-6 py-4 text-sm text-gray-700 capitalize",children:K.category?.replace("_"," ")||""}),s.jsxs("td",{className:"px-6 py-4 text-center",children:[s.jsx("span",{className:`font-bold ${_e?"text-red-600":"text-gray-900"}`,children:Zt}),s.jsx("span",{className:"text-sm text-gray-500 ml-1 uppercase",children:K.unit})]}),s.jsxs("td",{className:"px-6 py-4 text-center text-sm text-gray-700",children:[xa," ",s.jsx("span",{className:"uppercase",children:K.unit})]}),s.jsx("td",{className:"px-6 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",onClick:()=>{de(K),Ee(!0)},children:s.jsx(Ua,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-blue-600 hover:bg-blue-50",onClick:()=>ps(K),children:s.jsx(ds,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg text-red-600 hover:bg-red-50",onClick:()=>{S(K._id),D("grouped")},children:s.jsx(ea,{className:"w-4 h-4"})})]})})]},K._id)})})]})})}),s.jsx("div",{className:"md:hidden space-y-4",children:Js.length===0?s.jsxs("div",{className:"bg-white rounded-xl shadow-sm text-center py-12",children:[s.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No items found"})]}):l==="serialized"?h.map(K=>s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-4 space-y-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Serial Number"}),s.jsx("p",{className:"font-medium text-gray-900",children:K.serialNumber})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Item Details"}),s.jsx("p",{className:"font-medium text-gray-900",children:K.itemName}),s.jsx("p",{className:"text-sm text-gray-600",children:K.brand||""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Category"}),s.jsx("p",{className:"text-sm text-gray-900",children:K.category||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-1",children:"Status"}),s.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${Gp[K.status]||"bg-gray-100 text-gray-700"}`,children:K.status?.replace("_"," ")})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Actions"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-gray-700 bg-gray-50 hover:bg-gray-100",onClick:()=>{re(K),X("view")},children:[s.jsx(Ua,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"View"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100",onClick:()=>{re(K),X("edit")},children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Edit"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-red-700 bg-red-50 hover:bg-red-100",onClick:()=>{S(K._id),D("serialized")},children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})]})]},K._id)):x.map(K=>{const _e=na(K),Zt=xs(K),xa=Qs(K);return s.jsxs("div",{className:`bg-white rounded-xl shadow-sm p-4 space-y-3 ${_e?"border-2 border-red-300":""}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Item Details"}),s.jsx("p",{className:"font-medium text-gray-900",children:K.itemName}),s.jsx("p",{className:"text-sm text-gray-600",children:K.brand||""})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Category"}),s.jsx("p",{className:"text-sm text-gray-900 capitalize",children:K.category?.replace("_"," ")||""})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium",children:"Stock"}),s.jsxs("p",{className:`text-lg font-bold ${_e?"text-red-600":"text-gray-900"}`,children:[Zt," ",s.jsx("span",{className:"uppercase text-sm",children:K.unit})]}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Min: ",xa]})]})]}),s.jsxs("div",{className:"pt-3 border-t border-gray-100",children:[s.jsx("p",{className:"text-xs text-gray-500 uppercase font-medium mb-2",children:"Actions"}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-gray-700 bg-gray-50 hover:bg-gray-100",onClick:()=>{de(K),Ee(!0)},children:[s.jsx(Ua,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"View"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-blue-700 bg-blue-50 hover:bg-blue-100",onClick:()=>ps(K),children:[s.jsx(ds,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Edit"})]}),s.jsxs("button",{className:"flex flex-col items-center gap-1 px-3 py-2 rounded-lg text-red-700 bg-red-50 hover:bg-red-100",onClick:()=>{S(K._id),D("grouped")},children:[s.jsx(ea,{className:"w-4 h-4"}),s.jsx("span",{className:"text-xs font-medium",children:"Delete"})]})]})]})]},K._id)})}),M&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsx("div",{className:"bg-white rounded-xl shadow-xl p-6 max-w-md w-full",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:s.jsx(Dt,{className:"w-6 h-6 text-red-600"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Item"}),s.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Are you sure you want to delete this item? This action cannot be undone."}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{onClick:()=>{S(null),D(null)},className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),s.jsx("button",{onClick:He,className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete"})]})]})]})})}),A&&l==="serialized"&&s.jsx(_2,{mode:A,itemData:te,itemType:"serialized",onClose:()=>{X(null),re(null)},onSuccess:ae}),we&&s.jsx(R2,{item:U,onSubmit:Ye,onClose:()=>{P(!1),ee(null)},loading:ne}),ge&&I&&s.jsx(T2,{item:I,onClose:()=>{Ee(!1),de(null)}})]})},z2=()=>{const{addToast:l}=Kl(),[r,i]=N.useState(null),[o,d]=N.useState(!0),[f,h]=N.useState(!1),[p,x]=N.useState(0),[g,b]=N.useState([]),[v,E]=N.useState([]),[B,w]=N.useState({defaultCalculationType:"hourly",defaultFixedAmount:0,defaultPercentage:0}),[O,R]=N.useState({allowNegativeProfit:!1,requireCostApproval:!0});N.useEffect(()=>{V()},[]);const V=async()=>{try{d(!0);const X=(await td()).settings;i(X),X&&(x(X.laborRates?.defaultHourlyRate||0),b(X.laborRates?.ratesByJobType||[]),E(X.defaultRevenue||[]),w(X.technicianPayment||{defaultCalculationType:"hourly",defaultFixedAmount:0,defaultPercentage:0}),R({allowNegativeProfit:X.allowNegativeProfit||!1,requireCostApproval:X.requireCostApproval!==!1}))}catch{l({message:"Failed to load settings",type:"error"})}finally{d(!1)}},M=async()=>{try{h(!0);const A={laborRates:{defaultHourlyRate:p,ratesByJobType:g},defaultRevenue:v,technicianPayment:B,...O};await m2(A),l({message:"Settings saved successfully",type:"success"}),await V()}catch{l({message:"Failed to save settings",type:"error"})}finally{h(!1)}},S=(A,X)=>{b(te=>te.find(ge=>ge.jobType===A)?te.map(ge=>ge.jobType===A?{...ge,hourlyRate:X}:ge):[...te,{jobType:A,hourlyRate:X}])},G=(A,X)=>{E(te=>te.find(ge=>ge.jobType===A)?te.map(ge=>ge.jobType===A?{...ge,amount:X}:ge):[...te,{jobType:A,amount:X}])};if(o)return s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin h-12 w-12 rounded-full border-b-2 border-blue-600"})});const D=["installation","repair","maintenance","inspection"];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-3",children:[s.jsx(Vi,{className:"w-6 h-6"}),"System Settings"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Configure labor rates, revenue defaults, and technician payments"})]}),s.jsxs("button",{onClick:M,disabled:f,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[s.jsx(Ej,{className:"w-5 h-5"}),f?"Saving...":"Save All Settings"]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5"}),"Labor Rates"]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Hourly Rate (used if no job type rate specified)"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"number",value:p,onChange:A=>x(parseFloat(A.target.value)||0),min:"0",step:"0.01",className:"border rounded-lg p-2.5 w-48"}),s.jsx("span",{className:"text-sm text-gray-500",children:"per hour"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Job Type Specific Rates"}),s.jsx("div",{className:"space-y-4",children:D.map(A=>{const X=g.find(te=>te.jobType===A);return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"w-32 text-sm font-medium text-gray-700 capitalize",children:A.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"number",value:X?.hourlyRate||"",onChange:te=>S(A,parseFloat(te.target.value)||0),min:"0",step:"0.01",className:"border rounded-lg p-2.5 w-48",placeholder:"Leave empty to use default"}),s.jsx("span",{className:"text-sm text-gray-500",children:"per hour"})]}),X?.hourlyRate?s.jsx("span",{className:"text-sm text-green-600",children:" Custom rate set"}):s.jsxs("span",{className:"text-sm text-gray-500",children:["Using default: ",p,"/hour"]})]},A)})})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"Default Revenue by Job Type"]}),s.jsx("div",{className:"space-y-4",children:D.map(A=>{const X=v.find(te=>te.jobType===A);return s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"w-32 text-sm font-medium text-gray-700 capitalize",children:A.replace("_"," ")}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"number",value:X?.amount||"",onChange:te=>G(A,parseFloat(te.target.value)||0),min:"0",step:"0.01",className:"border rounded-lg p-2.5 w-48",placeholder:"Default revenue"})]}),X?.amount?s.jsxs("span",{className:"text-sm text-green-600",children:[" Default set: ",formatCurrency(X.amount)]}):s.jsx("span",{className:"text-sm text-gray-500",children:"No default revenue set"})]},A)})})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(qs,{className:"w-5 h-5"}),"Technician Payment Settings"]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Calculation Type"}),s.jsxs("select",{value:B.defaultCalculationType,onChange:A=>w({...B,defaultCalculationType:A.target.value}),className:"border rounded-lg p-2.5 w-64",children:[s.jsx("option",{value:"hourly",children:"Hourly Rate"}),s.jsx("option",{value:"fixed",children:"Fixed Amount"}),s.jsx("option",{value:"percentage_revenue",children:"Percentage of Revenue"}),s.jsx("option",{value:"percentage_profit",children:"Percentage of Profit"})]})]}),B.defaultCalculationType==="fixed"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fixed Amount per Job"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"number",value:B.defaultFixedAmount||0,onChange:A=>w({...B,defaultFixedAmount:parseFloat(A.target.value)||0}),min:"0",step:"0.01",className:"border rounded-lg p-2.5 w-48"})]})]}),(B.defaultCalculationType==="percentage_revenue"||B.defaultCalculationType==="percentage_profit")&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Percentage (%)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"number",value:B.defaultPercentage||0,onChange:A=>w({...B,defaultPercentage:parseFloat(A.target.value)||0}),min:"0",max:"100",step:"0.1",className:"border rounded-lg p-2.5 w-48"}),s.jsx("span",{className:"text-gray-500",children:"%"}),s.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["of ",B.defaultCalculationType==="percentage_revenue"?"revenue":"profit"]})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5"}),"General Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Allow Negative Profit"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Allow jobs to be approved even if profit is negative"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:O.allowNegativeProfit,onChange:A=>R({...O,allowNegativeProfit:A.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer \r
                peer-checked:after:translate-x-full peer-checked:after:border-white \r
                after:content-[''] after:absolute after:top-[2px] after:left-[2px] \r
                after:bg-white after:border-gray-300 after:border after:rounded-full \r
                after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Require Cost Approval"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Require admin approval before marking job as completed"})]}),s.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:O.requireCostApproval,onChange:A=>R({...O,requireCostApproval:A.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:`w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer \r
                peer-checked:after:translate-x-full peer-checked:after:border-white \r
                after:content-[''] after:absolute after:top-[2px] after:left-[2px] \r
                after:bg-white after:border-gray-300 after:border after:rounded-full \r
                after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600`})]})]})]})]})]})};function M2({open:l,job:r,onClose:i,refreshJobs:o}){const{addToast:d}=Kl(),[f,h]=N.useState(!1),[p,x]=N.useState(!1),[g,b]=N.useState(r?.technicianNotes||""),[v,E]=N.useState("details"),[B,w]=N.useState(r?.laborHours||0),[O,R]=N.useState(0),[V,M]=N.useState([]),[S,G]=N.useState({description:"",amount:0}),[D,A]=N.useState(null),[X,te]=N.useState(null),[re,ge]=N.useState(!1),Ee=async()=>{if(r)try{ge(!0);const q=await sx(r._id);te(q.job),M(q.job.additionalCosts||[]),w(q.job.laborHours||0)}catch{}finally{ge(!1)}};N.useEffect(()=>{l&&r&&(Ee(),I())},[l,r]);const I=async()=>{try{const q=await td();A(q.settings);const Y=q.settings?.laborRates?.ratesByJobType?.find(ae=>ae.jobType===r.type)?.hourlyRate||q.settings?.laborRates?.defaultHourlyRate||0;R(Y)}catch{}},de=async()=>{try{h(!0),await Ti(r._id,r.status,{technicianNotes:g}),alert("Notes updated successfully"),o()}catch{alert("Failed to update notes")}finally{h(!1)}},we=async()=>{try{h(!0);const q=Number(B)||0;if(isNaN(q)||q<0)throw new Error("Invalid hours");await l2(r._id,{hours:q}),await Ee(),d({message:"Labor hours updated successfully",type:"success"}),o()}catch(q){d({message:q.response?.data?.message||"Failed to update labor hours",type:"error"})}finally{h(!1)}},P=async()=>{if(!S.description||S.amount<=0){d({message:"Please enter a description and valid amount",type:"warning"});return}try{h(!0),await a2(r._id,{description:S.description,amount:parseFloat(S.amount)}),G({description:"",amount:0}),await Ee(),d({message:"Additional payment added successfully",type:"success"}),o()}catch{d({message:"Failed to add payment",type:"error"})}finally{h(!1)}},U=async q=>{try{h(!0),await s2(r._id,q),await Ee(),d({message:"Payment removed successfully",type:"success"}),o()}catch{d({message:"Failed to remove payment",type:"error"})}finally{h(!1)}},ee=async()=>{if(D?.requireCostApproval&&!X?.costingApproval?.isApproved){d({message:"Costing must be approved by admin before completing the job",type:"warning"});return}x(!0)},ne=async()=>{try{h(!0),await Ti(r._id,"completed"),d({message:"Job marked as completed",type:"success"}),o(),i()}catch(q){d({message:q.response?.data?.message||"Failed to complete job",type:"error"})}finally{h(!1)}},ye={pending:"bg-yellow-100 text-yellow-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",paid:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"},C=(()=>{if(!D||!X)return 0;const{technicianPayment:q}=D,{laborHours:W,totalRevenue:Y,profit:ae}=X;switch(q.defaultCalculationType){case"fixed":return q.defaultFixedAmount||0;case"hourly":const ie=D.laborRates?.defaultHourlyRate||0;return(W||0)*ie;case"percentage_revenue":return(Y||0)*(q.defaultPercentage||0)/100;case"percentage_profit":return(ae||0)*(q.defaultPercentage||0)/100;default:return 0}})(),T=X||r;return!l||!r?null:s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:[s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-6xl relative max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:s.jsx(ta,{className:"w-5 h-5"})}),s.jsxs("h2",{className:"text-xl font-bold",children:["Job Details - ",r.jobNumber]}),s.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ye[r.status]}`,children:r.status.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:r.type}),D?.requireCostApproval&&!T?.costingApproval?.isApproved&&s.jsxs("span",{className:"px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[s.jsx(fa,{className:"w-3 h-3"}),"Awaiting Approval"]})]})]}),s.jsx("div",{className:"border-b",children:s.jsxs("div",{className:"flex px-6 overflow-x-auto",children:[s.jsx("button",{onClick:()=>E("details"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${v==="details"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Details"}),s.jsx("button",{onClick:()=>E("materials"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${v==="materials"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Materials"}),s.jsxs("button",{onClick:()=>E("costing"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${v==="costing"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(On,{className:"w-4 h-4 inline mr-1"}),"Costing"]}),s.jsx("button",{onClick:()=>E("files"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${v==="files"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Files"}),s.jsx("button",{onClick:()=>E("notes"),className:`px-4 py-3 font-medium text-sm border-b-2 transition-colors whitespace-nowrap ${v==="notes"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Notes"})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[re&&s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-blue-600 border-t-transparent rounded-full"}),s.jsx("span",{className:"text-sm text-blue-700",children:"Refreshing data..."})]}),v==="details"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(qs,{className:"w-5 h-5"}),"Customer Information"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(qs,{className:"w-4 h-4 text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),s.jsx("p",{className:"font-medium",children:r.customerName})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(Bs,{className:"w-4 h-4 text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),s.jsx("p",{className:"font-medium",children:r.customerPhone})]})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(ql,{className:"w-4 h-4 text-gray-500 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),s.jsx("p",{className:"font-medium",children:r.customerAddress})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Job Information"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),s.jsx("p",{className:"font-medium",children:r.type})]}),r.scheduledDate&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled Date"}),s.jsx("p",{className:"font-medium",children:new Date(r.scheduledDate).toLocaleDateString()})]}),r.startedAt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Started At"}),s.jsx("p",{className:"font-medium",children:r.startedAt?new Date(r.startedAt).toLocaleString():"N/A"})]}),r.completedAt&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed At"}),s.jsx("p",{className:"font-medium",children:r.completedAt?new Date(r.completedAt).toLocaleString():"N/A"})]})]})]}),r.description&&s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-700 bg-gray-50 p-3 rounded-lg",children:r.description})]})]}),v==="materials"&&T&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5"}),"Materials Used"]}),T.materialsUsed&&T.materialsUsed.length>0?s.jsxs("div",{className:"space-y-3",children:[T.materialsUsed.map((q,W)=>{let Y="";if(q.inventoryType==="serialized")Y=`SN: ${q.serialNumber}`;else switch(q.unit){case"pcs":Y=`Qty: ${q.quantity||0} pcs`;break;case"meter":case"roll":Y=`Length: ${q.lengthUsed||0} ${q.unit}`;break;case"kg":case"liter":Y=`Qty: ${q.quantity||0} ${q.unit}`;break;default:Y=`${q.quantity||q.lengthUsed||0} ${q.unit}`}return s.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900",children:q.itemName}),s.jsx("p",{className:"text-sm text-gray-600",children:Y})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("p",{className:"font-medium",children:Le(q.totalCost||0)}),s.jsxs("p",{className:"text-xs text-gray-500",children:[Le(q.unitCost||0)," /"," ",q.unit]})]})]})},W)}),s.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mt-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-medium text-gray-900",children:"Total Material Cost"}),s.jsx("span",{className:"text-lg font-bold text-blue-600",children:Le(T.totalMaterialCost||0)})]})})]}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(jt,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No materials added yet"})]})]}),v==="costing"&&T&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(fa,{className:"w-5 h-5"}),"Labor Hours"]}),s.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[s.jsx("input",{type:"number",value:B,onChange:q=>w(q.target.value?parseFloat(q.target.value):0),min:"0",step:"0.5",className:"border rounded-lg p-2.5 w-32",placeholder:"Hours"}),s.jsx("button",{onClick:we,disabled:f,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:f?"Updating...":"Update Hours"})]}),s.jsxs("div",{className:"bg-blue-50 rounded-lg p-3 space-y-1",children:[s.jsx("p",{className:"text-sm text-blue-700",children:(()=>{const q=T.laborHours||0;let Y=D?.laborRates?.ratesByJobType?.find(ae=>ae.jobType===T?.type)?.hourlyRate??D?.laborRates?.defaultHourlyRate??O??0;if((!Y||Y===0)&&T?.laborHours){const ae=Number(T.laborHours)||0;ae>0&&T.laborCost&&(Y=(Number(T.laborCost)||0)/ae)}return`Current: ${q} hours  ${Y}/hour`})()}),s.jsxs("p",{className:"text-lg font-bold text-blue-900",children:["Labor Cost:"," ",Le(T.laborCost??(T.laborHours??0)*(D?.laborRates?.ratesByJobType?.find(q=>q.jobType===T?.type)?.hourlyRate??D?.laborRates?.defaultHourlyRate??O??0))]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"Additional Payments"]}),s.jsxs("div",{className:"flex gap-3 mb-4",children:[s.jsx("input",{type:"text",value:S.description,onChange:q=>G({...S,description:q.target.value}),placeholder:"Description",className:"flex-1 border rounded-lg p-2.5"}),s.jsx("input",{type:"number",value:S.amount,onChange:q=>G({...S,amount:parseFloat(q.target.value)||0}),min:"0",step:"0.01",placeholder:"Amount",className:"w-32 border rounded-lg p-2.5"}),s.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:"Add"})]}),V.length>0?s.jsx("div",{className:"space-y-2",children:V.map((q,W)=>s.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-3 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:q.description}),s.jsx("p",{className:"text-sm text-gray-500",children:"Added by technician"})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"font-bold",children:Le(q.amount||0)}),s.jsx("button",{onClick:()=>U(W),className:"text-red-500 hover:text-red-700",disabled:f,children:s.jsx(ta,{className:"w-4 h-4"})})]})]},W))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No additional payments added"})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(PN,{className:"w-5 h-5"}),"Cost Summary"]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Material Cost:"}),s.jsx("span",{className:"font-medium",children:Le(T.totalMaterialCost||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Labor Cost:"}),s.jsx("span",{className:"font-medium",children:Le(T.laborCost||0)})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-gray-600 font-semibold",children:"Total Cost:"}),s.jsx("span",{className:"font-bold",children:Le(T.totalCost||0)})]})]})]}),s.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Revenue Summary"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Base Revenue:"}),s.jsx("span",{className:"font-medium",children:Le(T.totalRevenue||0)})]}),V.length>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Additional Revenue:"}),s.jsx("span",{className:"font-medium",children:Le(V.reduce((q,W)=>q+(W.amount||0),0))})]}),s.jsxs("div",{className:"flex justify-between border-t pt-2",children:[s.jsx("span",{className:"text-gray-600 font-semibold",children:"Total Revenue:"}),s.jsx("span",{className:"font-bold text-green-600",children:Le((T.totalRevenue||0)+V.reduce((q,W)=>q+(W.amount||0),0))})]})]})]}),s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Your Estimated Payment"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-blue-700",children:["Based on"," ",D?.technicianPayment?.defaultCalculationType||"hourly"," ","calculation"]}),s.jsxs("p",{className:"text-sm text-blue-600",children:[D?.technicianPayment?.defaultCalculationType==="fixed"&&`Fixed: ${Le(D.technicianPayment.defaultFixedAmount)}`,D?.technicianPayment?.defaultCalculationType==="hourly"&&`${T.laborHours||0} hrs  ${D.laborRates?.defaultHourlyRate||0}`,D?.technicianPayment?.defaultCalculationType==="percentage_revenue"&&`${D.technicianPayment.defaultPercentage||0}% of revenue`,D?.technicianPayment?.defaultCalculationType==="percentage_profit"&&`${D.technicianPayment.defaultPercentage||0}% of profit`]})]}),s.jsx("span",{className:"text-2xl font-bold text-blue-700",children:Le(C)})]})]}),s.jsxs("div",{className:`border rounded-lg p-4 ${T.costingApproval?.isApproved?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:T.costingApproval?.isApproved?s.jsxs(s.Fragment,{children:[s.jsx(Mt,{className:"w-5 h-5 text-green-600"}),s.jsx("span",{className:"font-medium text-green-800",children:"Costing Approved"})]}):s.jsxs(s.Fragment,{children:[s.jsx(fa,{className:"w-5 h-5 text-yellow-600"}),s.jsx("span",{className:"font-medium text-yellow-800",children:"Awaiting Costing Approval"})]})}),T.costingApproval?.isApproved&&s.jsxs("div",{className:"text-sm text-green-700",children:["Approved:"," ",new Date(T.costingApproval.approvedAt).toLocaleDateString()]})]}),T.costingApproval?.notes&&s.jsx("p",{className:"text-sm mt-2 text-gray-600",children:T.costingApproval.notes}),!T.costingApproval?.isApproved&&s.jsx("p",{className:"text-sm text-yellow-600 mt-2",children:"Admin needs to approve costing before you can complete this job"})]}),r.status==="in_progress"&&s.jsxs("button",{onClick:ee,disabled:f||D?.requireCostApproval&&!T.costingApproval?.isApproved,className:"w-full py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5"}),f?"Processing...":"Mark Job as Completed"]})]}),v==="files"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx(Du,{className:"w-5 h-5"}),"Photos"]}),r.photoUrls&&r.photoUrls.length>0?s.jsx("div",{className:"grid grid-cols-3 gap-3",children:r.photoUrls.map((q,W)=>s.jsx("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"aspect-square rounded-lg overflow-hidden border hover:opacity-80 transition-opacity",children:s.jsx("img",{src:q,alt:`Photo ${W+1}`,className:"w-full h-full object-cover"})},W))}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx(Du,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No photos uploaded yet"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5"}),"Documents"]}),r.documentUrls&&r.documentUrls.length>0?s.jsx("div",{className:"space-y-2",children:r.documentUrls.map((q,W)=>s.jsxs("a",{href:q,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[s.jsx($t,{className:"w-5 h-5 text-gray-500"}),s.jsxs("span",{className:"text-sm text-gray-700",children:["Document ",W+1]})]},W))}):s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[s.jsx($t,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-500",children:"No documents uploaded yet"})]})]})]}),v==="notes"&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Technician Notes"}),s.jsx("textarea",{value:g,onChange:q=>b(q.target.value),placeholder:"Add notes about the job progress, issues encountered, or recommendations...",rows:8,className:"w-full border rounded-lg p-3 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",disabled:r.status==="completed"||r.status==="paid"})]}),r.adminNotes&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Admin Notes (Read Only)"}),s.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:r.adminNotes})]}),s.jsx("button",{onClick:de,disabled:f||r.status==="completed"||r.status==="paid",className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Saving...":"Save Notes"})]})]}),s.jsx("div",{className:"flex justify-end p-6 border-t gap-3 bg-gray-50",children:s.jsx("button",{onClick:i,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-white text-sm font-medium transition-colors",children:"Close"})})]}),s.jsx(ad,{isOpen:p,title:"Complete Job",message:"Are you sure you want to mark this job as completed? This action cannot be undone.",variant:"info",confirmText:"Complete",cancelText:"Cancel",isLoading:f,onConfirm:ne,onCancel:()=>x(!1)})]})}function D2({open:l,job:r,onClose:i,refreshJobs:o}){const[d,f]=N.useState([{inventoryType:"serialized",serialNumber:"",itemName:"",valueUsed:1}]),[h,p]=N.useState(!1),[x,g]=N.useState([]),[b,v]=N.useState([]),[E,B]=N.useState(!0);N.useEffect(()=>{l&&w()},[l]);const w=async()=>{try{B(!0);const G=(await ix()).items?.filter(A=>A.status==="available")||[];g(G);const D=await ox();v(D.items||[])}catch(S){console.error("Failed to load inventory:",S),alert("Failed to load inventory items")}finally{B(!1)}},O=()=>{f([...d,{inventoryType:"serialized",serialNumber:"",itemName:"",valueUsed:1}])},R=S=>{f(d.filter((G,D)=>D!==S))},V=(S,G,D)=>{const A=[...d];if(A[S][G]=D,G==="inventoryType"&&(A[S]={inventoryType:D,serialNumber:"",itemName:"",valueUsed:1}),G==="serialNumber"&&A[S].inventoryType==="serialized"){const X=x.find(te=>te.serialNumber===D);X&&(A[S].itemName=X.itemName)}f(A)},M=async()=>{console.log(`
=== SUBMIT ===`),console.log("Raw:",d);for(let G=0;G<d.length;G++){const D=d[G];if(D.inventoryType==="serialized"){if(!D.serialNumber){alert(`Material ${G+1}: Please select a serialized item`);return}}else{if(!D.itemName){alert(`Material ${G+1}: Please select a grouped item`);return}if(!D.valueUsed||D.valueUsed<=0){alert(`Material ${G+1}: Please enter a valid amount used`);return}}}const S=d.map(G=>G.inventoryType==="serialized"?{inventoryType:"serialized",serialNumber:G.serialNumber,itemName:G.itemName}:{inventoryType:"grouped",itemName:G.itemName,valueUsed:parseFloat(G.valueUsed)||0});console.log("Clean payload:",S);try{p(!0);const G={materials:S};console.log("Final payload:",JSON.stringify(G,null,2));const D=await n2(r._id,G);console.log("Response:",D),alert("Materials added successfully!"),o(),i()}catch(G){console.error("Submit error:",G),alert(G.response?.data?.message||"Failed to add materials")}finally{p(!1)}};return l?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl relative max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:s.jsx(ta,{className:"w-5 h-5"})}),s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(jt,{className:"w-6 h-6"}),"Add Materials  ",r.jobNumber]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Add materials used for this job"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:E?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin h-8 w-8 border-b-2 border-blue-600 rounded-full mx-auto"}),s.jsx("p",{className:"text-gray-500 mt-2",children:"Loading inventory..."})]}):s.jsxs("div",{className:"space-y-4",children:[d.map((S,G)=>s.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 relative",children:[d.length>1&&s.jsx("button",{onClick:()=>R(G),className:"absolute top-4 right-4 text-red-500 hover:text-red-700",children:s.jsx(ea,{className:"w-4 h-4"})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Inventory Type"}),s.jsxs("select",{value:S.inventoryType,onChange:D=>V(G,"inventoryType",D.target.value),className:"w-full border rounded-lg p-2.5 text-sm",children:[s.jsx("option",{value:"serialized",children:"Serialized"}),s.jsx("option",{value:"grouped",children:"Grouped"})]})]}),S.inventoryType==="serialized"?s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:S.serialNumber,onChange:D=>V(G,"serialNumber",D.target.value),className:"w-full border rounded-lg p-2.5 text-sm",children:[s.jsx("option",{value:"",children:"Select an item..."}),x.map(D=>s.jsxs("option",{value:D.serialNumber,children:[D.itemName,"  SN: ",D.serialNumber,"(",Le(D.salePrice),")"]},D._id))]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Select Item ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{value:S.itemName,onChange:D=>V(G,"itemName",D.target.value),className:"w-full border rounded-lg p-2.5 text-sm",children:[s.jsx("option",{value:"",children:"Select an item..."}),b.map(D=>s.jsxs("option",{value:D.itemName,children:[D.itemName,"  ",D.currentValue," ",D.unit," available"]},D._id))]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Value Used (",b.find(D=>D.itemName===S.itemName)?.unit||"",")",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"number",value:S.valueUsed,onChange:D=>V(G,"valueUsed",parseFloat(D.target.value)||0),min:"0",step:"0.10",className:"w-full border rounded-lg p-2.5 text-sm"})]})]})]})]},G)),s.jsxs("button",{onClick:O,className:"w-full py-3 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-600 transition-colors flex items-center justify-center gap-2",children:[s.jsx(Hs,{className:"w-5 h-5"}),"Add Another Material"]})]})}),s.jsxs("div",{className:"flex justify-end p-6 border-t gap-3 bg-gray-50",children:[s.jsx("button",{onClick:i,className:"px-5 py-2.5 border border-gray-300 rounded-lg",disabled:h,children:"Cancel"}),s.jsx("button",{onClick:M,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg disabled:opacity-50",disabled:h||E,children:h?"Adding...":"Add Materials"})]})]})}):null}function U2({open:l,job:r,onClose:i,refreshJobs:o}){const{addToast:d}=Kl(),[f,h]=N.useState([]),[p,x]=N.useState([]),[g,b]=N.useState([]),[v,E]=N.useState(!1),B=M=>{const S=Array.from(M.target.files);h([...f,...S]),S.forEach(G=>{const D=new FileReader;D.onloadend=()=>{b(A=>[...A,D.result])},D.readAsDataURL(G)})},w=M=>{const S=Array.from(M.target.files);x([...p,...S])},O=M=>{h(f.filter((S,G)=>G!==M)),b(g.filter((S,G)=>G!==M))},R=M=>{x(p.filter((S,G)=>G!==M))},V=async()=>{if(f.length===0&&p.length===0){alert("Please select at least one file to upload");return}try{E(!0),await e2(r._id,{photos:f,documents:p}),d({message:"Files uploaded successfully!",type:"success"}),o(),i()}catch(M){d({message:M.response?.data?.message||"Failed to upload files. Please try again.",type:"error"})}finally{E(!1)}};return l?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl relative max-h-[90vh] overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"p-6 border-b",children:[s.jsx("button",{onClick:i,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700",children:s.jsx(ta,{className:"w-5 h-5"})}),s.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx(Qp,{className:"w-6 h-6"}),"Upload Files - ",r.jobNumber]}),s.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Upload photos and documents for this job"})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx(Ou,{className:"w-5 h-5"}),"Job Photos"]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors",children:[s.jsx("input",{type:"file",id:"photo-upload",accept:"image/*",multiple:!0,onChange:B,className:"hidden"}),s.jsxs("label",{htmlFor:"photo-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx(Ou,{className:"w-12 h-12 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload photos or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, JPEG up to 10MB each"})]})]}),g.length>0&&s.jsx("div",{className:"grid grid-cols-3 gap-3 mt-4",children:g.map((M,S)=>s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:M,alt:`Preview ${S+1}`,className:"w-full aspect-square object-cover rounded-lg border"}),s.jsx("button",{onClick:()=>O(S),className:"absolute top-2 right-2 p-1.5 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove photo",children:s.jsx(ea,{className:"w-4 h-4"})}),s.jsx("div",{className:"absolute bottom-2 left-2 right-2 bg-black bg-opacity-50 text-white text-xs px-2 py-1 rounded",children:f[S]?.name})]},S))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-3 flex items-center gap-2",children:[s.jsx($t,{className:"w-5 h-5"}),"Documents"]}),s.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-blue-500 transition-colors",children:[s.jsx("input",{type:"file",id:"document-upload",accept:".pdf,.doc,.docx,.xls,.xlsx,.txt",multiple:!0,onChange:w,className:"hidden"}),s.jsxs("label",{htmlFor:"document-upload",className:"cursor-pointer flex flex-col items-center",children:[s.jsx($t,{className:"w-12 h-12 text-gray-400 mb-2"}),s.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload documents or drag and drop"}),s.jsx("p",{className:"text-xs text-gray-500",children:"PDF, DOC, DOCX, XLS, XLSX, TXT up to 10MB each"})]})]}),p.length>0&&s.jsx("div",{className:"space-y-2 mt-4",children:p.map((M,S)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx($t,{className:"w-5 h-5 text-gray-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:M.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:[(M.size/1024/1024).toFixed(2)," MB"]})]})]}),s.jsx("button",{onClick:()=>R(S),className:"p-1.5 text-red-500 hover:bg-red-50 rounded",title:"Remove document",children:s.jsx(ea,{className:"w-4 h-4"})})]},S))})]}),(f.length>0||p.length>0)&&s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Upload Summary"}),s.jsxs("div",{className:"space-y-1 text-sm text-blue-700",children:[f.length>0&&s.jsxs("p",{children:[" ",f.length," photo(s) ready to upload"]}),p.length>0&&s.jsxs("p",{children:[" ",p.length," document(s) ready to upload"]})]})]})]}),s.jsxs("div",{className:"flex justify-end p-6 border-t gap-3 bg-gray-50",children:[s.jsx("button",{onClick:i,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-white text-sm font-medium transition-colors",disabled:v,children:"Cancel"}),s.jsx("button",{onClick:V,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",disabled:v||f.length===0&&p.length===0,children:v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Uploading..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Qp,{className:"w-4 h-4"}),"Upload Files"]})})]})]})}):null}const k2={pending:"bg-yellow-100 text-yellow-700",in_progress:"bg-blue-100 text-blue-700",completed:"bg-green-100 text-green-700",paid:"bg-emerald-100 text-emerald-700",cancelled:"bg-red-100 text-red-700"},L2=()=>{const[l,r]=N.useState([]),[i,o]=N.useState([]),[d,f]=N.useState(""),[h,p]=N.useState("all"),[x,g]=N.useState(!0),[b,v]=N.useState(null),[E,B]=N.useState(!1),[w,O]=N.useState(!1),[R,V]=N.useState(!1),[M,S]=N.useState(null),{socket:G,connected:D}=Hi();N.useEffect(()=>{A()},[]),N.useEffect(()=>{te()},[d,h,l]),N.useEffect(()=>{if(G)return G.on("job:created",P=>{A(),re(`New job assigned: ${P.jobNumber}`)}),G.on("job:updated",P=>{A(),re(`Job ${P.jobNumber} was updated`)}),G.on("job:status-changed",P=>{r(U=>U.map(ee=>ee._id===P.jobId?{...ee,status:P.newStatus}:ee)),X(),re(`Job status updated to ${P.newStatus.replace("_"," ")}`)}),G.on("job:materials-added",P=>{A(),re("Materials added successfully")}),G.on("job:files-updated",P=>{A(),re("Files uploaded successfully")}),()=>{G.off("job:created"),G.off("job:updated"),G.off("job:status-changed"),G.off("job:materials-added"),G.off("job:files-updated")}},[G]);const A=async()=>{try{g(!0);const P=await tx();r(P.jobs),o(P.jobs),await X()}catch(P){console.error("Failed to load jobs:",P)}finally{g(!1)}},X=async()=>{try{const P=await ax();v(P.stats)}catch(P){console.error("Failed to load stats:",P)}},te=()=>{let P=[...l];d&&(P=P.filter(U=>U.jobNumber?.toLowerCase().includes(d.toLowerCase())||U.customerName?.toLowerCase().includes(d.toLowerCase())||U.type?.toLowerCase().includes(d.toLowerCase()))),h!=="all"&&(P=P.filter(U=>U.status===h)),o(P)},re=P=>{"Notification"in window&&Notification.permission==="granted"&&new Notification("Job Management",{body:P})},ge=async P=>{try{await Ti(P,"in_progress"),re("Job started successfully")}catch(U){console.error("Failed to start job:",U),alert("Failed to start job. Please try again.")}},Ee=async P=>{try{await Ti(P,"completed"),re("Job marked as completed")}catch(U){console.error("Failed to complete job:",U),alert("Failed to complete job. Please try again.")}},I=P=>{S(P),B(!0)},de=P=>{S(P),O(!0)},we=P=>{S(P),V(!0)};return x?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx("div",{className:"animate-spin h-12 w-12 rounded-full border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"My Jobs"}),s.jsx("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${D?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:D?s.jsxs(s.Fragment,{children:[s.jsx(W0,{className:"w-3 h-3"}),"Live"]}):s.jsxs(s.Fragment,{children:[s.jsx(P0,{className:"w-3 h-3"}),"Offline"]})})]}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["View and manage your assigned jobs ",D&&" Real-time updates"]})]})}),b&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Jobs"}),s.jsx("h3",{className:"text-2xl font-bold",children:b.totalJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Pending"}),s.jsx("h3",{className:"text-2xl font-bold text-yellow-600",children:b.pendingJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"In Progress"}),s.jsx("h3",{className:"text-2xl font-bold text-blue-600",children:b.inProgressJobs})]}),s.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),s.jsx("h3",{className:"text-2xl font-bold text-green-600",children:b.completedJobs})]})]}),s.jsx("div",{className:"bg-white shadow-sm rounded-xl p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Zl,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{placeholder:"Search by job number, customer, or type...",className:"w-full pl-10 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500",value:d,onChange:P=>f(P.target.value)})]}),s.jsx("div",{children:s.jsxs("select",{value:h,onChange:P=>p(P.target.value),className:"w-full pl-4 pr-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"in_progress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"paid",children:"Paid"})]})})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.length===0?s.jsxs("div",{className:"col-span-full text-center py-12 bg-white rounded-xl",children:[s.jsx(Rn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500",children:"No jobs found"}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Jobs assigned to you will appear here"})]}):i.map(P=>s.jsxs("div",{className:"bg-white rounded-xl p-5 shadow-sm hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-lg",children:P.jobNumber}),s.jsx("p",{className:"text-sm text-gray-500",children:P.type})]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k2[P.status]}`,children:P.status.replace("_"," ")})]}),s.jsxs("div",{className:"mb-4 pb-4 border-b",children:[s.jsx("p",{className:"font-medium text-gray-900",children:P.customerName}),s.jsx("p",{className:"text-sm text-gray-600",children:P.customerPhone}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:P.customerAddress})]}),s.jsxs("div",{className:"space-y-2 mb-4",children:[P.scheduledDate&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(fa,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-600",children:new Date(P.scheduledDate).toLocaleDateString()})]}),P.description&&s.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:P.description})]}),s.jsxs("div",{className:"space-y-2",children:[P.status==="pending"&&s.jsxs("button",{onClick:()=>ge(P._id),className:"w-full px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(fa,{className:"w-4 h-4"}),"Start Job"]}),P.status==="in_progress"&&s.jsxs("button",{onClick:()=>Ee(P._id),className:"w-full px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-medium flex items-center justify-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4"}),"Mark Complete"]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsx("button",{onClick:()=>I(P),className:"px-3 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center justify-center gap-1",title:"View Details",children:s.jsx(Ua,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>de(P),className:"px-3 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center justify-center gap-1",title:"Add Materials",disabled:P.status==="completed"||P.status==="paid",children:s.jsx(jt,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>we(P),className:"px-3 py-2 rounded-lg hover:bg-gray-50 text-sm flex items-center justify-center gap-1",title:"Upload Files",disabled:P.status==="completed"||P.status==="paid",children:s.jsx(Ou,{className:"w-4 h-4"})})]})]}),P.materialsUsed&&P.materialsUsed.length>0&&s.jsxs("div",{className:"mt-3 pt-3 border-t text-xs text-gray-500",children:[s.jsx(jt,{className:"w-3 h-3 inline mr-1"}),P.materialsUsed.length," material(s) used"]})]},P._id))}),E&&s.jsx(M2,{open:E,job:M,onClose:()=>{B(!1),S(null)},refreshJobs:A}),w&&s.jsx(D2,{open:w,job:M,onClose:()=>{O(!1),S(null)},refreshJobs:A}),R&&s.jsx(U2,{open:R,job:M,onClose:()=>{V(!1),S(null)},refreshJobs:A})]})},B2=()=>{const{user:l}=Vs(),{socket:r}=Hi(),[i,o]=N.useState({totalJobs:0,pendingJobs:0,inProgressJobs:0,completedJobs:0}),[d,f]=N.useState([]),[h,p]=N.useState(!0),x=async()=>{try{p(!0);const E=(await Wj()).jobs||[],B={totalJobs:E.length,pendingJobs:E.filter(w=>w.status==="pending").length,inProgressJobs:E.filter(w=>w.status==="in_progress").length,completedJobs:E.filter(w=>w.status==="completed"||w.status==="paid").length};o(B),f(E.slice(0,5))}catch(v){console.error("Error fetching technician dashboard data:",v),o({totalJobs:0,pendingJobs:0,inProgressJobs:0,completedJobs:0}),f([])}finally{p(!1)}};N.useEffect(()=>{x()},[l]),N.useEffect(()=>{if(r)return r.on("job:created",x),r.on("job:status-changed",x),()=>{r.off("job:created",x),r.off("job:status-changed",x)}},[r]);const g=[{label:"Total Jobs",value:i.totalJobs,icon:Rn,color:"bg-blue-500"},{label:"Pending",value:i.pendingJobs,icon:fa,color:"bg-yellow-500"},{label:"In Progress",value:i.inProgressJobs,icon:Vl,color:"bg-orange-500"},{label:"Completed",value:i.completedJobs,icon:Mt,color:"bg-green-500"}],b=v=>({pending:"bg-yellow-100 text-yellow-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",paid:"bg-purple-100 text-purple-800"})[v]||"bg-gray-100 text-gray-800";return h?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",l?.name,"!"]}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Here's an overview of your assigned jobs today"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(v=>{const E=v.icon;return s.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:v.label}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:v.value})]}),s.jsx("div",{className:`${v.color} p-3 rounded-lg`,children:s.jsx(E,{className:"w-6 h-6 text-white"})})]})},v.label)})}),s.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Jobs"}),s.jsx(ua,{to:"/technician/jobs",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),d.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-500 mb-2",children:"No jobs assigned"}),s.jsx("p",{className:"text-sm text-gray-400",children:"Wait for your manager to assign jobs"})]}):s.jsx("div",{className:"space-y-3",children:d.map(v=>s.jsxs(ua,{to:`/jobs/${v._id}`,className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-gray-900",children:v.jobNumber}),s.jsx("p",{className:"text-sm text-gray-600",children:v.customerName})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${b(v.status)}`,children:v.status.replace("_"," ").toUpperCase()}),s.jsx("span",{className:"text-sm text-gray-500",children:new Date(v.createdAt).toLocaleDateString()})]})]},v._id))})]})]})};function H2(){return s.jsx(sv,{children:s.jsx(G1,{children:s.jsx(HN,{children:s.jsxs(Db,{children:[s.jsx(zt,{path:"/login",element:s.jsx(Kj,{})}),s.jsx(zt,{path:"/register",element:s.jsx(Pj,{})}),s.jsx(zt,{path:"/dashboard",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(p2,{})})})}),s.jsx(zt,{path:"/users",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(v2,{})})})}),s.jsx(zt,{path:"/customers",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(N2,{})})})}),s.jsx(zt,{path:"/jobs",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(j2,{})})})}),s.jsx(zt,{path:"/inventory",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(O2,{})})})}),s.jsx(zt,{path:"/settings",element:s.jsx(cs,{adminOnly:!0,children:s.jsx(us,{children:s.jsx(z2,{})})})}),s.jsx(zt,{path:"/technician/dashboard",element:s.jsx(cs,{role:"technician",children:s.jsx(us,{children:s.jsx(B2,{})})})}),s.jsx(zt,{path:"/technician/jobs",element:s.jsx(cs,{role:"technician",children:s.jsx(us,{children:s.jsx(L2,{})})})}),s.jsx(zt,{path:"/",element:s.jsx(Bl,{to:"/dashboard",replace:!0})}),s.jsx(zt,{path:"*",element:s.jsx(Bl,{to:"/dashboard",replace:!0})})]})})})})}class q2 extends ky.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){console.error("Unhandled error caught by ErrorBoundary:",r,i)}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:s.jsxs("div",{className:"max-w-xl w-full bg-white border rounded-lg shadow p-6 text-center",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"An unexpected error occurred. Try refreshing the page. If the problem persists, contact support."}),s.jsxs("details",{className:"text-xs text-left text-gray-500 max-h-48 overflow-auto",children:[s.jsx("summary",{className:"cursor-pointer",children:"Error details"}),s.jsx("pre",{className:"whitespace-pre-wrap",children:String(this.state.error)})]}),s.jsx("div",{className:"mt-4",children:s.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Reload"})})]})}):this.props.children}}Jy.createRoot(document.getElementById("root")).render(s.jsx(N.StrictMode,{children:s.jsx(q2,{children:s.jsx(h2,{children:s.jsx(H2,{})})})}));
